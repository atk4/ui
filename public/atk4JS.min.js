!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("jQuery")):"function"==typeof define&&define.amd?define("atk4JS",["jQuery"],t):"object"==typeof exports?exports.atk4JS=t(require("jQuery")):e.atk4JS=t(e.jQuery)}(this,function(__WEBPACK_EXTERNAL_MODULE_0__){return function(e){function t(o){if(n[o])return n[o].exports;var i=n[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=12)}([function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE_0__},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(0),s=o(u),l=function(){function e(t,n){r(this,e),this.$el=(0,s.default)(t),this.settings=n,this.main()}return a(e,[{key:"main",value:function(){}},{key:"call",value:function(e,t){return this[e].apply(this,i(t))}}]),e}();t.default=l,e.exports=t.default},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}var i=n(0),r=o(i),a=n(10),u=o(a),s=n(11),l=o(s);u.default.setService(r.default.fn.api.settings),l.default.setModals(r.default.fn.modal.settings)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.atk||(e.atk=new Object),e.atk.addParams=function(t,n){return e.isEmptyObject(n)||(t+=(t.indexOf("?")>=0?"&":"?")+e.param(n)),t}}(jQuery),t.default=function(e){e.atkAddParams=e.atk.addParams}(jQuery),e.exports=t.default},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];u.default.atk||(u.default.atk=new Object);var o="atk"+e,i="__"+o,a=u.default.fn[o];u.default.atk[e]=t,u.default.fn[o]=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return"string"==typeof n&&this.data(i)&&"function"==typeof this.data(i)[n]?this.data(i).call(n,o):this.each(function(){var o=u.default.extend({},t.DEFAULTS,"object"===(void 0===n?"undefined":r(n))&&n);(0,u.default)(this).data(i,new u.default.atk[e](this,o))})},n&&(u.default[o]=function(e){return(0,u.default)({})[o](e)}),u.default.fn[o].noConflict=function(){return u.default.fn[o]=a}}Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=i;var a=n(0),u=o(a);e.exports=t.default},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=n(1),l=o(s),c=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"main",value:function(){this.settings.confirm?confirm(this.settings.confirm)&&this.doExecute():this.doExecute()}},{key:"doExecute",value:function(){this.$el.api({on:"now",url:this.settings.uri,data:this.settings.uri_options,method:"POST",obj:this.$el})}}]),t}(l.default);t.default=c,c.DEFAULTS={uri:null,uri_options:{},confirm:null},e.exports=t.default},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=n(1),l=o(s),c=n(0),f=o(c),d=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"main",value:function(){var e=this.settings;f.default.isArray(e.uri_options)&&(e.uri_options={});var t=(0,f.default)('<div class="atk-modal ui modal scrolling"/>').appendTo("body").html(this.getDialogHtml(e.title));t.data("modalSettings",{uri:e.uri,type:e.mode,arg:e.uri_options,needRemove:!0,needCloseTrigger:!0}),t.modal(e.modal).modal("show")}},{key:"getDialogHtml",value:function(e){return'<i class="close icon"></i>\n          <div class="header">'+e+'</div>\n          <div class="image content atk-dialog-content">\n            <div class="ui active inverted dimmer">\n              <div class="ui text loader">Loading</div>\n            </div>\n          </div>'}}]),t}(l.default);t.default=d,d.DEFAULTS={title:"",uri:null,uri_options:{},modal:{duration:100}},e.exports=t.default},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=n(1),l=o(s),c=n(0),f=o(c),d=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"main",value:function(){var e=this,t=void 0;this.timer=null,t=this.getClasses(),t.base.width=this.settings.width,t.base.opacity=this.settings.opacity,this.notify=(0,f.default)(this.getNotifier(this.settings)).hide(),this.notify.css(f.default.extend(t.base,this.getPosition(this.settings.position))),this.notify.on("click",".icon.close",{self:this},this.removeNotifier);var n="body";f.default.isEmptyObject(this.$el[0])||(n=this.$el),this.notify.appendTo(n),this.notify.transition(this.settings.openTransition),this.timer=setTimeout(function(){e.removeNotifier({data:{self:e}})},this.settings.duration)}},{key:"getNotifier",value:function(e){return'<div class="atk-notify"> \n                <div class="ui '+e.type+" "+e.size+' message" style="overflow: auto; display: block !important">\n                    <i class="close icon"></i>\n                    <div class="content">\n                        <i class="'+e.icon+' icon" style=""></i>\n                        <span>'+e.content+"</span>\n                    </div>\n                </div>\n             </div>"}},{key:"removeNotifier",value:function(e){var t=e.data.self;clearTimeout(t.timer),t.notify.transition(t.settings.closeTransition),t.notify.remove()}},{key:"getClasses",value:function(){return{base:{position:"absolute","z-index":9999}}}},{key:"getPosition",value:function(e){return{topLeft:{top:"0px",left:"0px"},topCenter:{margin:"auto",top:"0px",left:"0px",right:"0px"},topRight:{top:"0px",right:"0px"},bottomLeft:{bottom:"0px",left:"0px"},bottomCenter:{margin:"auto",bottom:"0px",left:"0px",right:"0px"},bottomRight:{bottom:"0px",right:"0px"},center:{margin:"auto",top:"0px",left:"0px",bottom:"0px",right:"0px","max-height":"1%"}}[e]}}]),t}(l.default);t.default=d,d.DEFAULTS={type:"success",size:"small",icon:null,content:null,width:"100%",closeTransition:"scale",openTransition:"scale",duration:3e3,opacity:"1",position:"topLeft"},e.exports=t.default},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=n(1),l=o(s),c=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"main",value:function(){this.settings.uri&&this.$el.api({on:"now",url:this.settings.uri,data:this.settings.uri_options,method:"GET",obj:this.$el})}}]),t}(l.default);t.default=c,c.DEFAULTS={uri:null,uri_options:{}},e.exports=t.default},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=n(0),l=o(s),c=n(1),f=o(c),d=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"main",value:function(){this.timer;var e=this.settings;this.$el.remove(".dimmer"),this.$el.remove(".spinner");var t=(0,l.default)(e.baseDimmerMarkup),n=(0,l.default)(e.baseLoaderMarkup),o=null;n.toggleClass("active",e.active),n.toggleClass("indeterminate",e.indeterminate),n.toggleClass("centered",e.centered),n.toggleClass("inline",e.inline),!!e.loaderText&&(n.toggleClass("text",!0),n.text(e.loaderText)),e.dimmed?(t.toggleClass("active",e.active),o=t.append(n)):o=n,this.showSpinner(this.$el,o,e.replace)}},{key:"showSpinner",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.timer=setTimeout(function(){n&&e.empty(),e.append(t)},500)}},{key:"remove",value:function(){clearTimeout(this.timer),this.$el.find(".loader").remove()}}]),t}(f.default);t.default=d,d.DEFAULTS={active:!1,replace:!1,dimmed:!1,inline:!1,indeterminate:!1,loaderText:"Loading",centered:!1,baseDimmerMarkup:'<div class="ui dimmer"></div>',baseLoaderMarkup:'<div class="ui loader"></div>'},e.exports=t.default},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),_jquery=__webpack_require__(0),_jquery2=_interopRequireDefault(_jquery),ApiService=function(){function ApiService(){return _classCallCheck(this,ApiService),this.instance||(this.instance=this),this.instance}return _createClass(ApiService,null,[{key:"getInstance",value:function(){return this.instance}}]),_createClass(ApiService,[{key:"evalResponse",value:function evalResponse(code,$){eval(code)}},{key:"setService",value:function(e){e.successTest=this.successTest,e.onFailure=this.onFailure,e.onSuccess=this.onSuccess,e.onAbort=this.onAbort}},{key:"onAbort",value:function(e){alert(e)}},{key:"onSuccess",value:function(e,t){var n=void 0;try{if(e.success){if(e&&e.html&&e.id&&(n=(0,_jquery2.default)("#"+e.id).replaceWith(e.html),!n.length))throw{message:"Unable to replace element with id: "+e.id};e&&e.atkjs&&apiService.evalResponse.call(this,e.atkjs.replace(/<\/?script>/g,""),jQuery)}else if(e.isServiceError)throw{message:e.message}}catch(e){alert("Error in ajax replace or atkjs:\n"+e.message)}}},{key:"successTest",value:function(e){return!!e.success&&(this.data={},!0)}},{key:"atkSuccessTest",value:function(e,t){e.success?this.onSuccess(e,t):this.onFailure(e)}},{key:"onFailure",value:function(e){if(e.success){var t=window.open(null,"Error in JSON response","height=1000,width=1100,location=no,menubar=no,scrollbars=yes,status=no,titlebar=no,toolbar=no");t?(t.document.write("<h5>Error in JSON response</h5>"),t.document.write(e),t.document.write('<center><input type=button onclick="window.close()" value="Close"></center>')):alert("Error in ajaxec response"+e)}else apiService.showErrorModal(e.message)}},{key:"showErrorModal",value:function(e){var t=(0,_jquery2.default)("<div>").appendTo("body").addClass("ui scrolling modal").css("padding","1em").html(e);t.modal({duration:100,allowMultiple:!1,onHide:function(){return t.children().remove(),!0}}).modal("show").modal("refresh")}}]),ApiService}(),apiService=new ApiService;Object.freeze(apiService),exports.default=apiService,module.exports=exports.default},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=n(0),u=o(a),s=function(){function e(){return i(this,e),e.instance||(this.modals=[],e.instance=this),e.instance}return r(e,null,[{key:"getInstance",value:function(){return this.instance}}]),r(e,[{key:"setModals",value:function(e){e.duration=100,e.allowMultiple=!0,e.onHidden=this.onHidden,e.onShow=this.onShow,e.onHide=this.onHide,e.onVisible=this.onVisible}},{key:"onHidden",value:function(){l.removeModal((0,u.default)(this))}},{key:"onVisible",value:function(){var e={},t=void 0,n=(0,u.default)(this),o=(0,u.default)(this).find(".atk-dialog-content");u.default.isEmptyObject(n.data("modalSettings"))?u.default.isEmptyObject(o.data())||(t=o.data()):t=n.data("modalSettings"),t&&t.arg&&(e=t.arg),t&&"json"===t.type&&(e=u.default.extend(e,{json:!0})),t&&t.uri&&o.api({on:"now",url:t.uri,data:e,method:"GET",obj:o,onComplete:function(e,t){t.html(e.html).length?(n.modal("refresh"),e.id=null):(e.success=!1,e.isServiceError=!0,e.message="Unable to replace atk-dialog content in modal from server response")}}),l.addModal(n)}},{key:"onShow",value:function(){}},{key:"onHide",value:function(){return(0,u.default)(this).data("isClosable")}},{key:"addModal",value:function(e){this.modals.push(e),this.setCloseTriggerEventInModals(),this.hideShowCloseIcon()}},{key:"removeModal",value:function(e){var t=e.data("modalSettings");t&&t.needRemove&&e.remove(),this.modals.pop(),this.setCloseTriggerEventInModals(),this.hideShowCloseIcon()}},{key:"setCloseTriggerEventInModals",value:function(){for(var e=this,t=function(t){var n=e.modals[t];n.data("modalSettings")&&n.data("modalSettings").needCloseTrigger?n.on("close",".atk-dialog-content",function(){n.modal("hide")}):n.off("close",".atk-dialog-content")},n=this.modals.length-1;n>=0;--n)t(n)}},{key:"hideShowCloseIcon",value:function(){for(var e=this.modals.length-1;e>=0;--e){var t=this.modals[e];e===this.modals.length-1?(t.find("i.icon.close").show(),t.data("isClosable",!0)):(t.find("i.icon.close").hide(),t.data("isClosable",!1))}}}]),e}(),l=new s;Object.freeze(l),t.default=l,e.exports=t.default},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}n(2),n(3);var i=n(4),r=o(i),a=n(9),u=o(a),s=n(8),l=o(s),c=n(5),f=o(c),d=n(6),p=o(d),h=n(7),y=o(h);(0,r.default)("Spinner",u.default),(0,r.default)("ReloadView",l.default),(0,r.default)("Ajaxec",f.default),(0,r.default)("CreateModal",p.default),(0,r.default)("Notify",y.default,!0)}])});