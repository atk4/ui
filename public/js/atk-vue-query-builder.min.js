(self.webpackChunkatk=self.webpackChunkatk||[]).push([[662],{47537:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i={name:"atk-date-picker",template:'<flat-picker v-model="date" :config="flatPickr" @on-change="onChange"></flat-picker>',props:["config","value"],data:function(){const{useDefault:e,...t}=this.config;return!e||t.defaultDate||this.value?this.value&&(t.defaultDate=this.value):t.defaultDate=new Date,t.locale||(t.locale=flatpickr.l10ns.default),{flatPickr:t,date:null}},mounted:function(){!this.value&&this.flatPickr.defaultDate&&(this.flatPickr.defaultDate instanceof Date?this.$emit("setDefault",flatpickr.formatDate(this.config.defaultDate,this.config.dateFormat)):this.$emit("setDefault",this.flatPickr.defaultDate))},methods:{onChange:function(e){this.$emit("onChange",flatpickr.formatDate(e[0],this.flatPickr.dateFormat))}}}},72549:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i={name:"atk-lookup",template:'<sui-dropdown\n                    ref="drop"\n                    v-bind="dropdownProps"\n                    :loading="isLoading"\n                    @input="onChange"\n                    @filtered="onFiltered"\n                    v-model="current"\n                    :class="css"></sui-dropdown>',props:["config","value","optionalValue"],data:function(){const{url:e,reference:t,ui:n,...i}=this.config;return i.selection=!0,{dropdownProps:i,current:this.value,url:e||null,css:[n],isLoading:!1,field:t,query:"",temp:""}},mounted:function(){this.optionalValue&&(this.dropdownProps.options=Array.isArray(this.optionalValue)?this.optionalValue:[this.optionalValue])},methods:{onChange:function(e){this.$emit("onChange",e)},onFiltered:function(e){e&&(this.isLoading=!0),this.temp=e,atk.debounce((()=>{this.query!==this.temp&&(this.query=this.temp,this.query&&this.fetchItems(this.query))}),300).call(this)},fetchItems:async function(e){try{const t={atk_vlookup_q:e,atk_vlookup_field:this.field},n=await atk.apiService.suiFetch(this.url,{method:"get",data:t});n.success&&(this.dropdownProps.options=n.results),this.isLoading=!1}catch(e){console.error(e),this.isLoading=!1}}}}},80867:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var i=n(94015),r=n.n(i),a=n(23645),l=n.n(a)()(r());l.push([e.id,"\n.atk-qb-select, .ui.form select.atk-qb-select {\n   padding: 2px 6px 4px 4px;\n}\n.atk-qb-remove {\n    cursor: pointer;\n    color: rgba(0,0,0,0.6);\n}\n.ui.selection.dropdown.atk-qb-rule-select {\n    background-color: rgba(0,0,0,0);\n}\n.ui.selection.dropdown .atk-qb-rule-select-menu {\n    width: max-content;\n    z-index: 1000;\n}\n.vbq-group-heading > .ui.grid > .column:not(.row) {\n    padding-bottom: 0.5em;\n    padding-top: 0.5em;\n}\n.vue-query-builder .ui.card.compact {\n    margin-top: 0.5em;\n    margin-bottom: 0.5em;\n}\n.vue-query-builder .ui.card.fitted {\n    margin-top: 0em;\n    margin-bottom: 0em;\n}\n.vue-query-builder .ui.card.padded {\n    margin-top: 1em;\n    margin-bottom: 1em;\n}\n.ui.card > .vbq-group-heading.content {\n    background-color: #f3f4f5;\n}\n.vue-query-builder .vqb-group.depth-1 .vqb-rule,\n.vue-query-builder .vqb-group.depth-2 {\n    border-left: 2px solid #8bc34a;\n}\n.vue-query-builder .vqb-group.depth-2 .vqb-rule,\n.vue-query-builder .vqb-group.depth-3 {\n    border-left: 2px solid #00bcd4;\n}\n.vue-query-builder .vqb-group.depth-3 .vqb-rule,\n.vue-query-builder .vqb-group.depth-4 {\n    border-left: 2px solid #ff5722;\n}\n\n","",{version:3,sources:["webpack://./src/components/query-builder/fomantic-ui-group.component.vue"],names:[],mappings:";AAsJA;GACA,wBAAA;AACA;AACA;IACA,eAAA;IACA,sBAAA;AACA;AACA;IACA,+BAAA;AACA;AACA;IACA,kBAAA;IACA,aAAA;AACA;AACA;IACA,qBAAA;IACA,kBAAA;AACA;AACA;IACA,iBAAA;IACA,oBAAA;AACA;AACA;IACA,eAAA;IACA,kBAAA;AACA;AACA;IACA,eAAA;IACA,kBAAA;AACA;AACA;IACA,yBAAA;AACA;AACA;;IAEA,8BAAA;AACA;AACA;;IAEA,8BAAA;AACA;AACA;;IAEA,8BAAA;AACA",sourcesContent:['<template>\n    <div class="vqb-group ui fluid card" :class="[labels.spaceRule, \'depth-\' + depth.toString()]">\n        <div class="vbq-group-heading content" :class="\'depth-\' + depth.toString()">\n            <div class="ui grid">\n                <div class="fourteen wide column">\n                    <div class="ui horizontal list">\n                        <div class="item">\n                            <h4 class="ui inline">{{ labels.matchType }}</h4>\n                        </div>\n                        <div class="item">\n                            <select\n                                    v-model="query.logicalOperator"\n                                    class="atk-qb-select"\n                            >\n                                <option\n                                        v-for="label in labels.matchTypes"\n                                        :key="label.id"\n                                        :value="label.id"\n                                >{{ label.label }}</option>\n                            </select>\n                        </div>\n                        <div class="item">\n                            <div class="rule-actions ">\n                                <div>\n                                    <sui-dropdown\n                                            :text="labels.addRule"\n                                            class="ui mini basic button atk-qb-rule-select"\n                                            selection\n                                    >\n                                        <sui-dropdown-menu class="atk-qb-rule-select-menu">\n                                            <sui-dropdown-item\n                                                @click="addNewRule(rule.id)"\n                                                v-for="rule in rules"\n                                                :key="rule.id" :value="rule"\n                                            >{{ rule.label }}</sui-dropdown-item>\n                                        </sui-dropdown-menu>\n                                    </sui-dropdown>\n                                    <button v-if="depth < maxDepth"\n                                            type="button"\n                                            class="ui mini basic button"\n                                            @click="addGroup"\n                                    >{{ labels.addGroup }}</button>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class="two wide right aligned column">\n                    <i v-if="depth > 1" class="atk-qb-remove" :class="labels.removeGroupClass" @click="remove"></i>\n                </div>\n            </div>\n        </div>\n        <div class="vbq-group-body content">\n            <query-builder-children v-bind="$props" />\n        </div>\n    </div>\n</template>\n\n<script>\nimport QueryBuilderGroup from \'vue-query-builder/dist/group/QueryBuilderGroup.umd\';\nimport QueryBuilderRule from \'./fomantic-ui-rule.component.vue\';\n\nexport default {\n    name: \'QueryBuilderGroup\',\n    components: {\n        QueryBuilderRule: QueryBuilderRule,\n    },\n    data: function () {\n        return {\n            selectedSuiRule: null,\n        };\n    },\n    methods: {\n        /**\n         * Add a new rule via Dropdown item.\n         */\n        addNewRule: function (ruleId) {\n            this.selectedRule = this.rules.filter((rule) => rule.id === ruleId)[0]; // eslint-disable-line prefer-destructuring\n            if (this.selectedRule) {\n                this.addRule();\n            }\n        },\n    },\n    computed: {\n        /**\n         * Map rules to SUI Dropdown.\n         *\n         * @returns {*}\n         */\n        dropdownRules: function () {\n            return this.rules.map((rule) => ({\n                key: rule.id,\n                text: rule.label,\n                value: rule.id,\n            }));\n        },\n    },\n    extends: QueryBuilderGroup,\n};\n<\/script>\n\n<style>\n    .atk-qb-select, .ui.form select.atk-qb-select {\n       padding: 2px 6px 4px 4px;\n    }\n    .atk-qb-remove {\n        cursor: pointer;\n        color: rgba(0,0,0,0.6);\n    }\n    .ui.selection.dropdown.atk-qb-rule-select {\n        background-color: rgba(0,0,0,0);\n    }\n    .ui.selection.dropdown .atk-qb-rule-select-menu {\n        width: max-content;\n        z-index: 1000;\n    }\n    .vbq-group-heading > .ui.grid > .column:not(.row) {\n        padding-bottom: 0.5em;\n        padding-top: 0.5em;\n    }\n    .vue-query-builder .ui.card.compact {\n        margin-top: 0.5em;\n        margin-bottom: 0.5em;\n    }\n    .vue-query-builder .ui.card.fitted {\n        margin-top: 0em;\n        margin-bottom: 0em;\n    }\n    .vue-query-builder .ui.card.padded {\n        margin-top: 1em;\n        margin-bottom: 1em;\n    }\n    .ui.card > .vbq-group-heading.content {\n        background-color: #f3f4f5;\n    }\n    .vue-query-builder .vqb-group.depth-1 .vqb-rule,\n    .vue-query-builder .vqb-group.depth-2 {\n        border-left: 2px solid #8bc34a;\n    }\n    .vue-query-builder .vqb-group.depth-2 .vqb-rule,\n    .vue-query-builder .vqb-group.depth-3 {\n        border-left: 2px solid #00bcd4;\n    }\n    .vue-query-builder .vqb-group.depth-3 .vqb-rule,\n    .vue-query-builder .vqb-group.depth-4 {\n        border-left: 2px solid #ff5722;\n    }\n\n</style>\n'],sourceRoot:""}]);const u=l},85119:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var i=n(94015),r=n.n(i),a=n(23645),l=n.n(a)()(r());l.push([e.id,"\n.ui.input.atk-qb > input, .ui.input.atk-qb span > input, .ui.form .input.atk-qb {\n    padding: 6px;\n}\n.ui.grid > .row.atk-qb {\n    padding: 8px 0px;\n    min-height: 62px;\n}\n.inline.fields.atk-qb, .ui.form .inline.fields.atk-qb {\n    margin: 0px;\n}\n.atk-qb-date-picker {\n    border: 1px solid rgba(34, 36, 38, 0.15);\n}\ninput[type=input].atk-qb-date-picker:focus {\n    border-color: #85b7d9;\n}\n.ui.card.vqb-rule > .content {\n    padding-bottom: 0.5em;\n    padding-top: 0.5em;\n    background-color: #f3f4f5;\n}\n","",{version:3,sources:["webpack://./src/components/query-builder/fomantic-ui-rule.component.vue"],names:[],mappings:";AAsKA;IACA,YAAA;AACA;AACA;IACA,gBAAA;IACA,gBAAA;AACA;AACA;IACA,WAAA;AACA;AACA;IACA,wCAAA;AACA;AACA;IACA,qBAAA;AACA;AACA;IACA,qBAAA;IACA,kBAAA;IACA,yBAAA;AACA",sourcesContent:['<template>\n    <div class="vqb-rule ui fluid card" :class="labels.spaceRule" :data-name="rule.id">\n        <div class="content">\n            <div class="ui grid">\n                <div class="middle aligned row atk-qb">\n                    <div class="thirteen wide column">\n                        <div class="ui horizontal list">\n                            <div class="item vqb-rule-label">\n                                <h5 class>{{ rule.label }}</h5>\n                            </div>\n                            <div class="item vqb-rule-operand" v-if="typeof rule.operands !== \'undefined\'">\n                                \x3c!-- List of operands (optional) --\x3e\n                                <select v-model="query.operand" class="atk-qb-select">\n                                    <option v-for="operand in rule.operands" :key="operand">{{ operand }}</option>\n                                </select>\n                            </div>\n                            <div class="item vqb-rule-operator"\n                                 v-if="typeof rule.operators !== \'undefined\'\n                                 && rule.operators.length > 1">\n                                \x3c!-- List of operators (e.g. =, !=, >, <) --\x3e\n                                <select v-model="query.operator" class="atk-qb-select">\n                                    <option v-for="operator in rule.operators" :key="operator" :value="operator">\n                                        {{operator}}\n                                    </option>\n                                </select>\n                            </div>\n                            <div class="item vqb-rule-input">\n                                \x3c!-- text input --\x3e\n                                <template v-if="canDisplay(\'input\')">\n                                    <div class="ui small input atk-qb" >\n                                        <input\n                                                v-model="query.value"\n                                                :type="rule.inputType"\n                                                :placeholder="labels.textInputPlaceholder"\n                                        >\n                                    </div>\n                                </template>\n                                \x3c!-- Checkbox or Radio input --\x3e\n                                <template v-if="canDisplay(\'checkbox\')">\n                                    <sui-form-fields inline class="atk-qb">\n                                        <div class="field" v-for="choice in rule.choices" :key="choice.value">\n                                            <sui-checkbox\n                                                :label="choice.label"\n                                                :radio="isRadio"\n                                                :value="choice.value"\n                                                v-model="query.value">\n                                            </sui-checkbox>\n                                        </div>\n                                    </sui-form-fields>\n                                </template>\n                                \x3c!-- Select input --\x3e\n                                <template v-if="canDisplay(\'select\')">\n                                    <select v-model="query.value" class="atk-qb-select">\n                                        <option\n                                            v-for="choice in rule.choices"\n                                            :key="choice.value"\n                                            :value="choice.value">\n                                            {{choice.label}}\n                                        </option>\n                                    </select>\n                                </template>\n                              \x3c!-- Custom component --\x3e\n                              <template v-if="canDisplay(\'custom-component\')">\n                                <div class="ui small input atk-qb">\n                                  <component :is="rule.component"\n                                      :config="rule.componentProps"\n                                      :value="query.value"\n                                      :optionalValue="query.option"\n                                      @onChange="onChange"\n                                      @setDefault="onChange">\n                                  </component>\n                                </div>\n                              </template>\n                            </div>\n                        </div>\n                    </div>\n                    <div class="right aligned three wide column">\n                        \x3c!-- Remove rule button --\x3e\n                        <i :class="labels.removeRuleClass" @click="remove" class="atk-qb-remove"></i>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport QueryBuilderRule from \'vue-query-builder/dist/rule/QueryBuilderRule.umd\';\nimport AtkDatePicker from \'../share/atk-date-picker\';\nimport AtkLookup from \'../share/atk-lookup\';\n\nexport default {\n    extends: QueryBuilderRule,\n    components: { \'atk-date-picker\': AtkDatePicker, \'atk-lookup\': AtkLookup },\n    data: function () {\n        return {};\n    },\n    inject: [\'getRootData\'],\n    computed: {\n        isInput: function () {\n            return this.rule.type === \'text\' || this.rule.type === \'numeric\';\n        },\n        isComponent: function () {\n            return this.rule.type === \'custom-component\';\n        },\n        isRadio: function () {\n            return this.rule.type === \'radio\';\n        },\n        isCheckbox: function () {\n            return this.rule.type === \'checkbox\' || this.isRadio;\n        },\n        isSelect: function () {\n            return this.rule.type === \'select\';\n        },\n    },\n    methods: {\n        /**\n         * Check if an input can be display in regards to:\n         * it\'s operator and then it\'s type.\n         *\n         * @returns {boolean|*}\n         */\n        canDisplay: function (type) {\n            if (this.labels.hiddenOperator.includes(this.query.operator)) {\n                return false;\n            }\n\n            switch (type) {\n                case \'input\': return this.isInput;\n                case \'checkbox\': return this.isCheckbox;\n                case \'select\': return this.isSelect;\n                case \'custom-component\': return this.isComponent;\n                default: return false;\n            }\n        },\n        onChange: function (value) {\n            this.query.value = value;\n        },\n    },\n};\n<\/script>\n\n<style>\n    .ui.input.atk-qb > input, .ui.input.atk-qb span > input, .ui.form .input.atk-qb {\n        padding: 6px;\n    }\n    .ui.grid > .row.atk-qb {\n        padding: 8px 0px;\n        min-height: 62px;\n    }\n    .inline.fields.atk-qb, .ui.form .inline.fields.atk-qb {\n        margin: 0px;\n    }\n    .atk-qb-date-picker {\n        border: 1px solid rgba(34, 36, 38, 0.15);\n    }\n    input[type=input].atk-qb-date-picker:focus {\n        border-color: #85b7d9;\n    }\n    .ui.card.vqb-rule > .content {\n        padding-bottom: 0.5em;\n        padding-top: 0.5em;\n        background-color: #f3f4f5;\n    }\n</style>\n'],sourceRoot:""}]);const u=l},69797:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>u});var i=n(93379),r=n.n(i),a=n(80867),l={insert:"head",singleton:!1};r()(a.Z,l);const u=a.Z.locals||{}},72459:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>u});var i=n(93379),r=n.n(i),a=n(85119),l={insert:"head",singleton:!1};r()(a.Z,l);const u=a.Z.locals||{}},7047:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>y});var i=function(){var e=this,t=e._self._c;return t("div",{},[t("input",{attrs:{form:e.form,name:e.name,type:"hidden"},domProps:{value:e.value}}),e._v(" "),t("vue-query-builder",{attrs:{rules:e.rules,maxDepth:e.maxDepth,labels:e.labels},scopedSlots:e._u([{key:"default",fn:function(n){return[t("query-builder-group",e._b({attrs:{query:e.query},on:{"update:query":function(t){e.query=t}}},"query-builder-group",n,!1))]}}]),model:{value:e.query,callback:function(t){e.query=t},expression:"query"}}),e._v(" "),e.debug?[t("pre",[e._v(e._s(JSON.stringify(this.query,null,2)))])]:e._e()],2)};i._withStripped=!0;var r=n(56062),a=n.n(r),l=(n(57640),n(9924),function(){var e=this,t=e._self._c;return t("div",{staticClass:"vqb-group ui fluid card",class:[e.labels.spaceRule,"depth-"+e.depth.toString()]},[t("div",{staticClass:"vbq-group-heading content",class:"depth-"+e.depth.toString()},[t("div",{staticClass:"ui grid"},[t("div",{staticClass:"fourteen wide column"},[t("div",{staticClass:"ui horizontal list"},[t("div",{staticClass:"item"},[t("h4",{staticClass:"ui inline"},[e._v(e._s(e.labels.matchType))])]),e._v(" "),t("div",{staticClass:"item"},[t("select",{directives:[{name:"model",rawName:"v-model",value:e.query.logicalOperator,expression:"query.logicalOperator"}],staticClass:"atk-qb-select",on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.query,"logicalOperator",t.target.multiple?n:n[0])}}},e._l(e.labels.matchTypes,(function(n){return t("option",{key:n.id,domProps:{value:n.id}},[e._v(e._s(n.label))])})),0)]),e._v(" "),t("div",{staticClass:"item"},[t("div",{staticClass:"rule-actions"},[t("div",[t("sui-dropdown",{staticClass:"ui mini basic button atk-qb-rule-select",attrs:{text:e.labels.addRule,selection:""}},[t("sui-dropdown-menu",{staticClass:"atk-qb-rule-select-menu"},e._l(e.rules,(function(n){return t("sui-dropdown-item",{key:n.id,attrs:{value:n},on:{click:function(t){return e.addNewRule(n.id)}}},[e._v(e._s(n.label))])})),1)],1),e._v(" "),e.depth<e.maxDepth?t("button",{staticClass:"ui mini basic button",attrs:{type:"button"},on:{click:e.addGroup}},[e._v(e._s(e.labels.addGroup))]):e._e()],1)])])])]),e._v(" "),t("div",{staticClass:"two wide right aligned column"},[e.depth>1?t("i",{staticClass:"atk-qb-remove",class:e.labels.removeGroupClass,on:{click:e.remove}}):e._e()])])]),e._v(" "),t("div",{staticClass:"vbq-group-body content"},[t("query-builder-children",e._b({},"query-builder-children",e.$props,!1))],1)])});l._withStripped=!0;n(88449),n(2490),n(59849);var u=n(75338),o=n.n(u),s=function(){var e=this,t=e._self._c;return t("div",{staticClass:"vqb-rule ui fluid card",class:e.labels.spaceRule,attrs:{"data-name":e.rule.id}},[t("div",{staticClass:"content"},[t("div",{staticClass:"ui grid"},[t("div",{staticClass:"middle aligned row atk-qb"},[t("div",{staticClass:"thirteen wide column"},[t("div",{staticClass:"ui horizontal list"},[t("div",{staticClass:"item vqb-rule-label"},[t("h5",{},[e._v(e._s(e.rule.label))])]),e._v(" "),void 0!==e.rule.operands?t("div",{staticClass:"item vqb-rule-operand"},[t("select",{directives:[{name:"model",rawName:"v-model",value:e.query.operand,expression:"query.operand"}],staticClass:"atk-qb-select",on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.query,"operand",t.target.multiple?n:n[0])}}},e._l(e.rule.operands,(function(n){return t("option",{key:n},[e._v(e._s(n))])})),0)]):e._e(),e._v(" "),void 0!==e.rule.operators&&e.rule.operators.length>1?t("div",{staticClass:"item vqb-rule-operator"},[t("select",{directives:[{name:"model",rawName:"v-model",value:e.query.operator,expression:"query.operator"}],staticClass:"atk-qb-select",on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.query,"operator",t.target.multiple?n:n[0])}}},e._l(e.rule.operators,(function(n){return t("option",{key:n,domProps:{value:n}},[e._v("\n                                    "+e._s(n)+"\n                                ")])})),0)]):e._e(),e._v(" "),t("div",{staticClass:"item vqb-rule-input"},[e.canDisplay("input")?[t("div",{staticClass:"ui small input atk-qb"},["checkbox"===e.rule.inputType?t("input",{directives:[{name:"model",rawName:"v-model",value:e.query.value,expression:"query.value"}],attrs:{placeholder:e.labels.textInputPlaceholder,type:"checkbox"},domProps:{checked:Array.isArray(e.query.value)?e._i(e.query.value,null)>-1:e.query.value},on:{change:function(t){var n=e.query.value,i=t.target,r=!!i.checked;if(Array.isArray(n)){var a=e._i(n,null);i.checked?a<0&&e.$set(e.query,"value",n.concat([null])):a>-1&&e.$set(e.query,"value",n.slice(0,a).concat(n.slice(a+1)))}else e.$set(e.query,"value",r)}}}):"radio"===e.rule.inputType?t("input",{directives:[{name:"model",rawName:"v-model",value:e.query.value,expression:"query.value"}],attrs:{placeholder:e.labels.textInputPlaceholder,type:"radio"},domProps:{checked:e._q(e.query.value,null)},on:{change:function(t){return e.$set(e.query,"value",null)}}}):t("input",{directives:[{name:"model",rawName:"v-model",value:e.query.value,expression:"query.value"}],attrs:{placeholder:e.labels.textInputPlaceholder,type:e.rule.inputType},domProps:{value:e.query.value},on:{input:function(t){t.target.composing||e.$set(e.query,"value",t.target.value)}}})])]:e._e(),e._v(" "),e.canDisplay("checkbox")?[t("sui-form-fields",{staticClass:"atk-qb",attrs:{inline:""}},e._l(e.rule.choices,(function(n){return t("div",{key:n.value,staticClass:"field"},[t("sui-checkbox",{attrs:{label:n.label,radio:e.isRadio,value:n.value},model:{value:e.query.value,callback:function(t){e.$set(e.query,"value",t)},expression:"query.value"}})],1)})),0)]:e._e(),e._v(" "),e.canDisplay("select")?[t("select",{directives:[{name:"model",rawName:"v-model",value:e.query.value,expression:"query.value"}],staticClass:"atk-qb-select",on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.query,"value",t.target.multiple?n:n[0])}}},e._l(e.rule.choices,(function(n){return t("option",{key:n.value,domProps:{value:n.value}},[e._v("\n                                        "+e._s(n.label)+"\n                                    ")])})),0)]:e._e(),e._v(" "),e.canDisplay("custom-component")?[t("div",{staticClass:"ui small input atk-qb"},[t(e.rule.component,{tag:"component",attrs:{config:e.rule.componentProps,value:e.query.value,optionalValue:e.query.option},on:{onChange:e.onChange,setDefault:e.onChange}})],1)]:e._e()],2)])]),e._v(" "),t("div",{staticClass:"right aligned three wide column"},[t("i",{staticClass:"atk-qb-remove",class:e.labels.removeRuleClass,on:{click:e.remove}})])])])])])};s._withStripped=!0;var d=n(99593),c=n.n(d),p=n(47537),v=n(72549);const m={extends:c(),components:{"atk-date-picker":p.Z,"atk-lookup":v.Z},data:function(){return{}},inject:["getRootData"],computed:{isInput:function(){return"text"===this.rule.type||"numeric"===this.rule.type},isComponent:function(){return"custom-component"===this.rule.type},isRadio:function(){return"radio"===this.rule.type},isCheckbox:function(){return"checkbox"===this.rule.type||this.isRadio},isSelect:function(){return"select"===this.rule.type}},methods:{canDisplay:function(e){if(this.labels.hiddenOperator.includes(this.query.operator))return!1;switch(e){case"input":return this.isInput;case"checkbox":return this.isCheckbox;case"select":return this.isSelect;case"custom-component":return this.isComponent;default:return!1}},onChange:function(e){this.query.value=e}}};n(50021);var h=n(51900);const A={name:"QueryBuilderGroup",components:{QueryBuilderRule:(0,h.Z)(m,s,[],!1,null,null,null).exports},data:function(){return{selectedSuiRule:null}},methods:{addNewRule:function(e){this.selectedRule=this.rules.filter((t=>t.id===e))[0],this.selectedRule&&this.addRule()}},computed:{dropdownRules:function(){return this.rules.map((e=>({key:e.id,text:e.label,value:e.id})))}},extends:o()};n(24838);const b=(0,h.Z)(A,l,[],!1,null,null,null).exports,f={name:"query-builder",components:{VueQueryBuilder:a(),QueryBuilderGroup:b},props:{data:Object},data:function(){return{query:this.data.query?this.data.query:{},rules:this.data.rules?this.data.rules:[],name:this.data.name?this.data.name:"",maxDepth:this.data.maxDepth?this.data.maxDepth<=10?this.data.maxDepth:10:1,labels:this.getLabels(this.data.labels),form:this.data.form,debug:!!this.data.debug&&this.data.debug}},computed:{value:function(){return JSON.stringify(this.query,null)}},methods:{getLabels:function(e){return e=e||{},{matchType:"Match Type",matchTypes:[{id:"AND",label:"And"},{id:"OR",label:"Or"}],addRule:"Add Rule",removeRuleClass:"small icon times",addGroup:"Add Group",removeGroupClass:"small icon times",textInputPlaceholder:"value",spaceRule:"fitted",hiddenOperator:["is empty","is not empty"],...e}}}};const y=(0,h.Z)(f,i,[],!1,null,null,null).exports},24838:(e,t,n)=>{var i=n(69797);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);(0,n(45346).Z)("b7549184",i,!1,{})},50021:(e,t,n)=>{var i=n(72459);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);(0,n(45346).Z)("6d1b512b",i,!1,{})}}]);
//# sourceMappingURL=atk-vue-query-builder.min.js.map