"use strict";(self.webpackChunkatk=self.webpackChunkatk||[]).push([[662],{30901:(e,r,n)=>{n.d(r,{Z:()=>t});const t={name:"AtkDatePicker",template:'\n        <FlatpickrPicker\n            :config="flatPickr"\n            :modelValue="getFlatpickrValue(modelValue)"\n            @update:modelValue="onUpdate"\n        />',props:["config","modelValue"],data:function(){const e={...this.config};return e.defaultDate&&!this.modelValue?e.defaultDate=new Date:this.modelValue&&(e.defaultDate=this.modelValue),e.locale||(e.locale=flatpickr.l10ns.default),{flatPickr:e}},emits:["setDefault"],mounted:function(){!this.modelValue&&this.flatPickr.defaultDate&&this.onUpdate(this.flatPickr.defaultDate instanceof Date?flatpickr.formatDate(this.config.defaultDate,this.config.dateFormat):this.flatPickr.defaultDate)},methods:{getFlatpickrValue:function(e){return e},onUpdate:function(e){this.$emit("update:modelValue",e)}}}},49880:(e,r,n)=>{n.d(r,{Z:()=>t});n(59668),n(90170),n(62052);const t={name:"AtkLookup",template:'\n        <SuiDropdown\n            v-bind="dropdownProps"\n            ref="drop"\n            :modelValue="getDropdownValue(modelValue)"\n            @update:modelValue="onUpdate"\n        ></SuiDropdown>',props:["config","modelValue","optionalValue"],data:function(){const{url:e,reference:r,...n}=this.config;return n.selection=!0,{dropdownProps:n,url:e||null,field:r,query:"",temp:""}},mounted:function(){this.optionalValue&&(this.dropdownProps.options=Array.isArray(this.optionalValue)?this.optionalValue:[this.optionalValue])},emits:["update:modelValue"],methods:{getDropdownValue:function(e){return this.dropdownProps.options.find((r=>r.value===e))},onUpdate:function(e){this.$emit("update:modelValue",e.value)}}}},95951:(e,r,n)=>{n.d(r,{Z:()=>i});var t=n(51864),l=n.n(t),u=n(60352),o=n.n(u)()(l());o.push([e.id,"\n.vue-query-builder .vqb-group .rule-actions {\n  margin-bottom: 20px;\n}\n.vue-query-builder .vqb-rule {\n  margin-top: 15px;\n  margin-bottom: 15px;\n  background-color: #f5f5f5;\n  border-color: #ddd;\n  padding: 15px;\n}\n.vue-query-builder .vqb-group.depth-1 .vqb-rule,\n.vue-query-builder .vqb-group.depth-2 {\n  border-left: 2px solid #8bc34a;\n}\n.vue-query-builder .vqb-group.depth-2 .vqb-rule,\n.vue-query-builder .vqb-group.depth-3 {\n  border-left: 2px solid #00bcd4;\n}\n.vue-query-builder .vqb-group.depth-3 .vqb-rule,\n.vue-query-builder .vqb-group.depth-4 {\n  border-left: 2px solid #ff5722;\n}\n.vue-query-builder .close {\n  opacity: 1;\n  color: rgb(150, 150, 150);\n}\n@media (min-width: 768px) {\n.vue-query-builder .vqb-rule.form-inline .form-group {\n    display: block;\n}\n}\n","",{version:3,sources:["webpack://./node_modules/vue-query-builder/src/layouts/Bootstrap5/Bootstrap5Group.vue"],names:[],mappings:";AA0FA;EACE,mBAAmB;AACrB;AAEA;EACE,gBAAgB;EAChB,mBAAmB;EACnB,yBAAyB;EACzB,kBAAkB;EAClB,aAAa;AACf;AAEA;;EAEE,8BAA8B;AAChC;AAEA;;EAEE,8BAA8B;AAChC;AAEA;;EAEE,8BAA8B;AAChC;AAEA;EACE,UAAU;EACV,yBAAyB;AAC3B;AAEA;AACE;IACE,cAAc;AAChB;AACF",sourcesContent:['<template>\n  \x3c!-- eslint-disable vue/no-v-html --\x3e\n  <div class="vqb-group card" :class="\'depth-\' + depth.toString()">\n    <div class="vqb-group-heading card-header">\n      <div class="match-type-container row gy-2 gx-3 align-items-center">\n        <div class="col-auto">\n          <label class="me-2" for="vqb-match-type">\n            {{ labels.matchType }}\n          </label>\n        </div>\n        <div class="col-auto">\n          <select\n            id="vqb-match-type"\n            v-model="query.logicalOperator"\n            class="form-select"\n          >\n            <option\n              v-for="label in labels.matchTypes"\n              :key="label.id"\n              :value="label.id"\n            >\n              {{ label.label }}\n            </option>\n          </select>\n        </div>\n        <div class="col-auto" v-if="depth > 1">\n          <button\n            type="button"\n            class="btn-close btn-small"\n            @click="remove"\n          ></button>\n        </div>\n      </div>\n    </div>\n\n    <div class="vqb-group-body card-body">\n      <div class="rule-actions">\n        <div class="row gy-2 gx-3 align-items-center">\n          <div class="col-auto">\n            <select\n              :value="selectedRuleId"\n              @input="updateRule"\n              class="form-select me-2"\n            >\n              <option v-for="rule in rules" :key="rule.id" :value="rule.id">\n                {{ rule.label }}\n              </option>\n            </select>\n          </div>\n          <div class="col-auto">\n            <button\n              type="button"\n              class="btn btn-secondary me-2"\n              @click="addRule"\n            >\n              {{ labels.addRule }}\n            </button>\n          </div>\n          <div class="col-auto">\n            <button\n              v-if="depth < maxDepth"\n              type="button"\n              class="btn btn-secondary"\n              @click="addGroup"\n            >\n              {{ labels.addGroup }}\n            </button>\n          </div>\n        </div>\n      </div>\n\n      <query-builder-children v-bind="$props" />\n    </div>\n  </div>\n</template>\n\n<script>\nimport QueryBuilderGroup from "../../components/QueryBuilderGroup";\nimport QueryBuilderChildren from "../../components/QueryBuilderChildren";\nexport default {\n  name: "QueryBuilderGroup",\n\n  components: { QueryBuilderChildren },\n\n  extends: QueryBuilderGroup,\n  methods: {},\n};\n<\/script>\n\n<style>\n.vue-query-builder .vqb-group .rule-actions {\n  margin-bottom: 20px;\n}\n\n.vue-query-builder .vqb-rule {\n  margin-top: 15px;\n  margin-bottom: 15px;\n  background-color: #f5f5f5;\n  border-color: #ddd;\n  padding: 15px;\n}\n\n.vue-query-builder .vqb-group.depth-1 .vqb-rule,\n.vue-query-builder .vqb-group.depth-2 {\n  border-left: 2px solid #8bc34a;\n}\n\n.vue-query-builder .vqb-group.depth-2 .vqb-rule,\n.vue-query-builder .vqb-group.depth-3 {\n  border-left: 2px solid #00bcd4;\n}\n\n.vue-query-builder .vqb-group.depth-3 .vqb-rule,\n.vue-query-builder .vqb-group.depth-4 {\n  border-left: 2px solid #ff5722;\n}\n\n.vue-query-builder .close {\n  opacity: 1;\n  color: rgb(150, 150, 150);\n}\n\n@media (min-width: 768px) {\n  .vue-query-builder .vqb-rule.form-inline .form-group {\n    display: block;\n  }\n}\n</style>\n'],sourceRoot:""}]);const i=o},56418:(e,r,n)=>{n.d(r,{Z:()=>i});var t=n(51864),l=n.n(t),u=n(60352),o=n.n(u)()(l());o.push([e.id,"\n.vue-query-builder .vqb-group .rule-actions {\n        margin-bottom: 0px;\n}\n.vue-query-builder .vqb-rule {\n        margin-top: 0px;\n        margin-bottom: 0px;\n        padding: 0px;\n}\n.atk-qb-select, .ui.form select.atk-qb-select {\n       padding: 2px 6px 4px 4px;\n}\n.atk-qb-remove {\n        cursor: pointer;\n        color: rgba(0, 0, 0, 0.6);\n}\n.ui.selection.dropdown.atk-qb-rule-select {\n        background-color: rgba(0, 0, 0, 0);\n}\n.ui.selection.dropdown .atk-qb-rule-select-menu {\n        width: max-content;\n        z-index: 1000;\n}\n.vbq-group-heading > .ui.grid > .column:not(.row) {\n        padding-bottom: 0.5em;\n        padding-top: 0.5em;\n}\n.vue-query-builder .ui.card.compact {\n        margin-top: 0.5em;\n        margin-bottom: 0.5em;\n}\n.vue-query-builder .ui.card.fitted {\n        margin-top: 0em;\n        margin-bottom: 0em;\n}\n.vue-query-builder .ui.card.padded {\n        margin-top: 1em;\n        margin-bottom: 1em;\n}\n.ui.card > .vbq-group-heading.content {\n        background-color: #f3f4f5;\n}\n.vue-query-builder .vqb-group.depth-1 .vqb-rule,\n    .vue-query-builder .vqb-group.depth-2 {\n        border-left: 2px solid #8bc34a;\n}\n.vue-query-builder .vqb-group.depth-2 .vqb-rule,\n    .vue-query-builder .vqb-group.depth-3 {\n        border-left: 2px solid #00bcd4;\n}\n.vue-query-builder .vqb-group.depth-3 .vqb-rule,\n    .vue-query-builder .vqb-group.depth-4 {\n        border-left: 2px solid #ff5722;\n}\n","",{version:3,sources:["webpack://./src/vue-components/query-builder/fomantic-ui-group.component.vue"],names:[],mappings:";AAuGI;QACI,kBAAkB;AACtB;AAEA;QACI,eAAe;QACf,kBAAkB;QAClB,YAAY;AAChB;AAEA;OACG,wBAAwB;AAC3B;AACA;QACI,eAAe;QACf,yBAAyB;AAC7B;AACA;QACI,kCAAkC;AACtC;AACA;QACI,kBAAkB;QAClB,aAAa;AACjB;AACA;QACI,qBAAqB;QACrB,kBAAkB;AACtB;AACA;QACI,iBAAiB;QACjB,oBAAoB;AACxB;AACA;QACI,eAAe;QACf,kBAAkB;AACtB;AACA;QACI,eAAe;QACf,kBAAkB;AACtB;AACA;QACI,yBAAyB;AAC7B;AACA;;QAEI,8BAA8B;AAClC;AACA;;QAEI,8BAA8B;AAClC;AACA;;QAEI,8BAA8B;AAClC",sourcesContent:['<template>\r\n    <div\r\n        class="vqb-group ui fluid card"\r\n        :class="[labels.spaceRule, \'depth-\' + depth]"\r\n    >\r\n        <div\r\n            class="vbq-group-heading content"\r\n            :class="\'depth-\' + depth"\r\n        >\r\n            <div class="ui grid">\r\n                <div class="fourteen wide column">\r\n                    <div class="ui horizontal list">\r\n                        <div class="item">\r\n                            <h4 class="ui inline">\r\n                                {{ labels.matchType }}\r\n                            </h4>\r\n                        </div>\r\n                        <div class="item">\r\n                            <select\r\n                                v-model="query.logicalOperator"\r\n                                class="atk-qb-select"\r\n                            >\r\n                                <option\r\n                                    v-for="label in labels.matchTypes"\r\n                                    :key="label.id"\r\n                                    :value="label.id"\r\n                                >\r\n                                    {{ label.label }}\r\n                                </option>\r\n                            </select>\r\n                        </div>\r\n                        <div class="item">\r\n                            <div class="rule-actions">\r\n                                <div>\r\n                                    <SuiDropdown\r\n                                        :text="labels.addRule"\r\n                                        class="ui mini basic button atk-qb-rule-select"\r\n                                        selection\r\n                                    >\r\n                                        <SuiDropdownMenu class="atk-qb-rule-select-menu">\r\n                                            <SuiDropdownItem\r\n                                                v-for="rule in rules"\r\n                                                :key="rule.id"\r\n                                                :text="rule.label"\r\n                                                @click="addNewRule(rule.id)"\r\n                                            />\r\n                                        </SuiDropdownMenu>\r\n                                    </SuiDropdown>\r\n                                    <button\r\n                                        v-if="depth < maxDepth"\r\n                                        type="button"\r\n                                        class="ui mini basic button"\r\n                                        @click="addGroup"\r\n                                    >\r\n                                        {{ labels.addGroup }}\r\n                                    </button>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class="two wide right aligned column">\r\n                    <i\r\n                        v-if="depth > 1"\r\n                        class="atk-qb-remove"\r\n                        :class="labels.removeGroupClass"\r\n                        @click="remove"\r\n                    />\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class="vbq-group-body content">\r\n            <QueryBuilderChildren v-bind="$props" />\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport VueQueryBuilderGroup from \'vue-query-builder/src/components/QueryBuilderGroup\';\r\n\r\nexport default {\r\n    name: \'QueryBuilderGroup\',\r\n    extends: VueQueryBuilderGroup,\r\n    data: function () {\r\n        return {\r\n            selectedSuiRule: null,\r\n        };\r\n    },\r\n    methods: {\r\n        /**\r\n         * Add a new rule via Dropdown item.\r\n         */\r\n        addNewRule: function (ruleId) {\r\n            this.selectedRule = this.rules.find((rule) => rule.id === ruleId);\r\n            if (this.selectedRule) {\r\n                this.addRule();\r\n            }\r\n        },\r\n    },\r\n};\r\n<\/script>\r\n\r\n<style>\r\n    .vue-query-builder .vqb-group .rule-actions {\r\n        margin-bottom: 0px;\r\n    }\r\n\r\n    .vue-query-builder .vqb-rule {\r\n        margin-top: 0px;\r\n        margin-bottom: 0px;\r\n        padding: 0px;\r\n    }\r\n\r\n    .atk-qb-select, .ui.form select.atk-qb-select {\r\n       padding: 2px 6px 4px 4px;\r\n    }\r\n    .atk-qb-remove {\r\n        cursor: pointer;\r\n        color: rgba(0, 0, 0, 0.6);\r\n    }\r\n    .ui.selection.dropdown.atk-qb-rule-select {\r\n        background-color: rgba(0, 0, 0, 0);\r\n    }\r\n    .ui.selection.dropdown .atk-qb-rule-select-menu {\r\n        width: max-content;\r\n        z-index: 1000;\r\n    }\r\n    .vbq-group-heading > .ui.grid > .column:not(.row) {\r\n        padding-bottom: 0.5em;\r\n        padding-top: 0.5em;\r\n    }\r\n    .vue-query-builder .ui.card.compact {\r\n        margin-top: 0.5em;\r\n        margin-bottom: 0.5em;\r\n    }\r\n    .vue-query-builder .ui.card.fitted {\r\n        margin-top: 0em;\r\n        margin-bottom: 0em;\r\n    }\r\n    .vue-query-builder .ui.card.padded {\r\n        margin-top: 1em;\r\n        margin-bottom: 1em;\r\n    }\r\n    .ui.card > .vbq-group-heading.content {\r\n        background-color: #f3f4f5;\r\n    }\r\n    .vue-query-builder .vqb-group.depth-1 .vqb-rule,\r\n    .vue-query-builder .vqb-group.depth-2 {\r\n        border-left: 2px solid #8bc34a;\r\n    }\r\n    .vue-query-builder .vqb-group.depth-2 .vqb-rule,\r\n    .vue-query-builder .vqb-group.depth-3 {\r\n        border-left: 2px solid #00bcd4;\r\n    }\r\n    .vue-query-builder .vqb-group.depth-3 .vqb-rule,\r\n    .vue-query-builder .vqb-group.depth-4 {\r\n        border-left: 2px solid #ff5722;\r\n    }\r\n</style>\r\n'],sourceRoot:""}]);const i=o},42544:(e,r,n)=>{n.d(r,{Z:()=>i});var t=n(51864),l=n.n(t),u=n(60352),o=n.n(u)()(l());o.push([e.id,"\n.ui.input.atk-qb > input, .ui.input.atk-qb span > input, .ui.form .input.atk-qb {\n        padding: 6px;\n}\n.ui.grid > .row.atk-qb {\n        padding: 8px 0px;\n        min-height: 62px;\n}\n.inline.fields.atk-qb, .ui.form .inline.fields.atk-qb {\n        margin: 0px;\n}\n.atk-qb-date-picker {\n        border: 1px solid rgba(34, 36, 38, 0.15);\n}\ninput[type=input].atk-qb-date-picker:focus {\n        border-color: #85b7d9;\n}\n.ui.card.vqb-rule > .content {\n        padding-bottom: 0.5em;\n        padding-top: 0.5em;\n        background-color: #f3f4f5;\n}\n","",{version:3,sources:["webpack://./src/vue-components/query-builder/fomantic-ui-rule.component.vue"],names:[],mappings:";AA4LI;QACI,YAAY;AAChB;AACA;QACI,gBAAgB;QAChB,gBAAgB;AACpB;AACA;QACI,WAAW;AACf;AACA;QACI,wCAAwC;AAC5C;AACA;QACI,qBAAqB;AACzB;AACA;QACI,qBAAqB;QACrB,kBAAkB;QAClB,yBAAyB;AAC7B",sourcesContent:['<template>\r\n    <div\r\n        class="vqb-rule ui fluid card"\r\n        :class="labels.spaceRule"\r\n        :data-name="rule.id"\r\n    >\r\n        <div class="content">\r\n            <div class="ui grid">\r\n                <div class="middle aligned row atk-qb">\r\n                    <div class="thirteen wide column">\r\n                        <div class="ui horizontal list">\r\n                            <div class="item vqb-rule-label">\r\n                                <h5 class>\r\n                                    {{ rule.label }}\r\n                                </h5>\r\n                            </div>\r\n                            <div\r\n                                v-if="rule.operands !== undefined"\r\n                                class="item vqb-rule-operand"\r\n                            >\r\n                                <select\r\n                                    v-model="query.operand"\r\n                                    class="atk-qb-select"\r\n                                >\r\n                                    <option\r\n                                        v-for="operand in rule.operands"\r\n                                        :key="operand"\r\n                                    >\r\n                                        {{ operand }}\r\n                                    </option>\r\n                                </select>\r\n                            </div>\r\n                            <div\r\n                                v-if="rule.operators !== undefined && rule.operators.length > 1"\r\n                                class="item vqb-rule-operator"\r\n                            >\r\n                                <select\r\n                                    v-model="query.operator"\r\n                                    class="atk-qb-select"\r\n                                >\r\n                                    <option\r\n                                        v-for="operator in rule.operators"\r\n                                        :key="operator"\r\n                                        :value="operator"\r\n                                    >\r\n                                        {{ operator }}\r\n                                    </option>\r\n                                </select>\r\n                            </div>\r\n                            <div class="item vqb-rule-input">\r\n                                <template v-if="canDisplay(\'input\')">\r\n                                    <div class="ui small input atk-qb">\r\n                                        <input\r\n                                            v-model="query.value"\r\n                                            :type="rule.inputType === \'number\' ? \'text\' : rule.inputType"\r\n                                            :placeholder="labels.textInputPlaceholder"\r\n                                        >\r\n                                    </div>\r\n                                </template>\r\n                                <template v-if="canDisplay(\'checkbox\')">\r\n                                    \x3c!-- TODO <SuiFormFields --\x3e\r\n                                    <div\r\n                                        inline\r\n                                        class="atk-qb"\r\n                                    >\r\n                                        <div\r\n                                            v-for="choice in rule.choices"\r\n                                            :key="choice.value"\r\n                                            class="field"\r\n                                        >\r\n                                            \x3c!-- TODO radio support in https://github.com/nightswinger/vue-fomantic-ui/blob/v0.13.0/src/modules/Checkbox/Checkbox.tsx --\x3e\r\n                                            <SuiCheckbox\r\n                                                v-model="query.value"\r\n                                                :label="choice.label"\r\n                                                :radio="isRadio"\r\n                                                :value="choice.value"\r\n                                            />\r\n                                        </div>\r\n                                    \x3c!-- TODO </SuiFormFields> --\x3e\r\n                                    </div>\r\n                                </template>\r\n                                <template v-if="canDisplay(\'select\')">\r\n                                    <select\r\n                                        v-model="query.value"\r\n                                        class="atk-qb-select"\r\n                                    >\r\n                                        <option\r\n                                            v-for="choice in rule.choices"\r\n                                            :key="choice.value"\r\n                                            :value="choice.value"\r\n                                        >\r\n                                            {{ choice.label }}\r\n                                        </option>\r\n                                    </select>\r\n                                </template>\r\n                                <template v-if="canDisplay(\'custom-component\')">\r\n                                    <div class="ui small input atk-qb">\r\n                                        <component\r\n                                            :is="rule.component"\r\n                                            v-model="query.value"\r\n                                            :config="rule.componentProps"\r\n                                            :optionalValue="query.option"\r\n                                        />\r\n                                    </div>\r\n                                </template>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class="right aligned three wide column">\r\n                        <i\r\n                            :class="labels.removeRuleClass"\r\n                            class="atk-qb-remove"\r\n                            @click="remove"\r\n                        />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport VueQueryBuilderRule from \'vue-query-builder/src/components/QueryBuilderRule\';\r\nimport AtkDatePicker from \'../share/atk-date-picker\';\r\nimport AtkLookup from \'../share/atk-lookup\';\r\n\r\nexport default {\r\n    components: {\r\n        AtkDatePicker: AtkDatePicker,\r\n        AtkLookup: AtkLookup,\r\n    },\r\n    extends: VueQueryBuilderRule,\r\n    inject: [\'getRootData\'],\r\n    data: function () {\r\n        return {};\r\n    },\r\n    computed: {\r\n        isInput: function () {\r\n            return this.rule.type === \'text\' || this.rule.type === \'numeric\';\r\n        },\r\n        isComponent: function () {\r\n            return this.rule.type === \'custom-component\';\r\n        },\r\n        isRadio: function () {\r\n            return this.rule.type === \'radio\';\r\n        },\r\n        isCheckbox: function () {\r\n            return this.rule.type === \'checkbox\' || this.isRadio;\r\n        },\r\n        isSelect: function () {\r\n            return this.rule.type === \'select\';\r\n        },\r\n    },\r\n    methods: {\r\n        /**\r\n         * Check if an input can be display in regards to:\r\n         * it\'s operator and then it\'s type.\r\n         *\r\n         * @returns {boolean}\r\n         */\r\n        canDisplay: function (type) {\r\n            if (this.labels.hiddenOperator.includes(this.query.operator)) {\r\n                return false;\r\n            }\r\n\r\n            switch (type) {\r\n                case \'input\': {\r\n                    return this.isInput;\r\n                }\r\n                case \'checkbox\': {\r\n                    return this.isCheckbox;\r\n                }\r\n                case \'select\': {\r\n                    return this.isSelect;\r\n                }\r\n                case \'custom-component\': {\r\n                    return this.isComponent;\r\n                }\r\n                default: {\r\n                    return false;\r\n                }\r\n            }\r\n        },\r\n    },\r\n};\r\n<\/script>\r\n\r\n<style>\r\n    .ui.input.atk-qb > input, .ui.input.atk-qb span > input, .ui.form .input.atk-qb {\r\n        padding: 6px;\r\n    }\r\n    .ui.grid > .row.atk-qb {\r\n        padding: 8px 0px;\r\n        min-height: 62px;\r\n    }\r\n    .inline.fields.atk-qb, .ui.form .inline.fields.atk-qb {\r\n        margin: 0px;\r\n    }\r\n    .atk-qb-date-picker {\r\n        border: 1px solid rgba(34, 36, 38, 0.15);\r\n    }\r\n    input[type=input].atk-qb-date-picker:focus {\r\n        border-color: #85b7d9;\r\n    }\r\n    .ui.card.vqb-rule > .content {\r\n        padding-bottom: 0.5em;\r\n        padding-top: 0.5em;\r\n        background-color: #f3f4f5;\r\n    }\r\n</style>\r\n'],sourceRoot:""}]);const i=o},60352:e=>{e.exports=function(e){var r=[];return r.toString=function(){return this.map((function(r){var n="",t=void 0!==r[5];return r[4]&&(n+="@supports (".concat(r[4],") {")),r[2]&&(n+="@media ".concat(r[2]," {")),t&&(n+="@layer".concat(r[5].length>0?" ".concat(r[5]):""," {")),n+=e(r),t&&(n+="}"),r[2]&&(n+="}"),r[4]&&(n+="}"),n})).join("")},r.i=function(e,n,t,l,u){"string"==typeof e&&(e=[[null,e,void 0]]);var o={};if(t)for(var i=0;i<this.length;i++){var a=this[i][0];null!=a&&(o[a]=!0)}for(var s=0;s<e.length;s++){var d=[].concat(e[s]);t&&o[d[0]]||(void 0!==u&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=u),n&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=n):d[2]=n),l&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=l):d[4]="".concat(l)),r.push(d))}},r}},51864:e=>{e.exports=function(e){var r=e[1],n=e[3];if(!n)return r;if("function"==typeof btoa){var t=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),l="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(t),u="/*# ".concat(l," */");return[r].concat([u]).join("\n")}return[r].join("\n")}},75701:e=>{var r=[];function n(e){for(var n=-1,t=0;t<r.length;t++)if(r[t].identifier===e){n=t;break}return n}function t(e,t){for(var u={},o=[],i=0;i<e.length;i++){var a=e[i],s=t.base?a[0]+t.base:a[0],d=u[s]||0,c="".concat(s," ").concat(d);u[s]=d+1;var p=n(c),m={css:a[1],media:a[2],sourceMap:a[3],supports:a[4],layer:a[5]};if(-1!==p)r[p].references++,r[p].updater(m);else{var v=l(m,t);t.byIndex=i,r.splice(i,0,{identifier:c,updater:v,references:1})}o.push(c)}return o}function l(e,r){var n=r.domAPI(r);n.update(e);return function(r){if(r){if(r.css===e.css&&r.media===e.media&&r.sourceMap===e.sourceMap&&r.supports===e.supports&&r.layer===e.layer)return;n.update(e=r)}else n.remove()}}e.exports=function(e,l){var u=t(e=e||[],l=l||{});return function(e){e=e||[];for(var o=0;o<u.length;o++){var i=n(u[o]);r[i].references--}for(var a=t(e,l),s=0;s<u.length;s++){var d=n(u[s]);0===r[d].references&&(r[d].updater(),r.splice(d,1))}u=a}}},6080:e=>{var r={};e.exports=function(e,n){var t=function(e){if(void 0===r[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}r[e]=n}return r[e]}(e);if(!t)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");t.appendChild(n)}},87182:e=>{e.exports=function(e){var r=document.createElement("style");return e.setAttributes(r,e.attributes),e.insert(r,e.options),r}},56850:(e,r,n)=>{e.exports=function(e){var r=n.nc;r&&e.setAttribute("nonce",r)}},8236:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var r=e.insertStyleElement(e);return{update:function(n){!function(e,r,n){var t="";n.supports&&(t+="@supports (".concat(n.supports,") {")),n.media&&(t+="@media ".concat(n.media," {"));var l=void 0!==n.layer;l&&(t+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),t+=n.css,l&&(t+="}"),n.media&&(t+="}"),n.supports&&(t+="}");var u=n.sourceMap;u&&"undefined"!=typeof btoa&&(t+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(u))))," */")),r.styleTagTransform(t,e,r.options)}(r,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(r)}}}},39213:e=>{e.exports=function(e,r){if(r.styleSheet)r.styleSheet.cssText=e;else{for(;r.firstChild;)r.removeChild(r.firstChild);r.appendChild(document.createTextNode(e))}}},11801:(e,r,n)=>{n.r(r),n.d(r,{default:()=>sr});var t=n(763);const l={class:""},u=["form","name","value"],o={key:0};const i={class:"vue-query-builder"};const a={class:"vqb-group-heading card-header"},s={class:"match-type-container row gy-2 gx-3 align-items-center"},d={class:"col-auto"},c={class:"me-2",for:"vqb-match-type"},p={class:"col-auto"},m=["value"],v={key:0,class:"col-auto"},b={class:"vqb-group-body card-body"},h={class:"rule-actions"},y={class:"row gy-2 gx-3 align-items-center"},f={class:"col-auto"},q=["value"],g=["value"],A={class:"col-auto"},k={class:"col-auto"};const C=function(e){if(Array.isArray(e))return e.map(C);if(e&&"object"==typeof e){for(var r={},n=Object.keys(e),t=0,l=n.length;t<l;t++){var u=n[t];r[u]=C(e[u])}return r}return e},w=C,x={class:"vqb-children"};const D={props:["query","ruleTypes","rules","maxDepth","labels","depth","groupComponent","ruleComponent"],methods:{getComponent(e){return"query-builder-group"===e?this.groupComponent:this.ruleComponent}}};var B=n(51419);const R=(0,B.Z)(D,[["render",function(e,r,n,l,u,o){return(0,t.wg)(),(0,t.iD)("div",x,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(n.query.children,((r,l)=>((0,t.wg)(),(0,t.j4)((0,t.LL)(o.getComponent(r.type)),{key:l,type:r.type,query:r.query,"onUpdate:query":e=>r.query=e,"rule-types":n.ruleTypes,rules:n.rules,rule:e.$parent.ruleById(r.query.rule),index:l,"max-depth":n.maxDepth,depth:n.depth+1,labels:n.labels,onChildDeletionRequested:e.$parent.removeChild,groupComponent:n.groupComponent,ruleComponent:n.ruleComponent},null,40,["type","query","onUpdate:query","rule-types","rules","rule","index","max-depth","depth","labels","onChildDeletionRequested","groupComponent","ruleComponent"])))),128))])}]]),_={components:{QueryBuilderChildren:R},props:{ruleTypes:Object,type:{type:String,default:"query-builder-group"},query:Object,rules:Array,index:Number,maxDepth:Number,depth:Number,labels:Object,groupComponent:Object,ruleComponent:Object},data(){return{selectedRule:this.rules[0]}},watch:{rules:function(){this.rules&&(this.selectedRule=this.rules[0])}},computed:{selectedRuleId:function(){return this.selectedRule?this.selectedRule.id:null}},methods:{ruleById(e){var r=null;return this.rules.forEach((function(n){if(n.id===e)return r=n,!1})),r},addRule(){let e=w(this.query),r={type:"query-builder-rule",query:{rule:this.selectedRule.id,operator:this.selectedRule.operators[0],operand:void 0===this.selectedRule.operands?this.selectedRule.label:this.selectedRule.operands[0],value:null}};"multi-select"===this.ruleById(r.query.rule).type&&(r.query.value=[]),e.children.push(r),this.$emit("update:query",e)},addGroup(){let e=w(this.query);this.depth<this.maxDepth&&(e.children.push({type:"query-builder-group",query:{logicalOperator:this.labels.matchTypes[0].id,children:[]}}),this.$emit("update:query",e))},remove(){this.$emit("child-deletion-requested",this.index)},removeChild(e){let r=w(this.query);r.children.splice(e,1),this.$emit("update:query",r)},updateRule:function(e){const r=e.target.selectedOptions[0].value;this.selectedRule=this.ruleById(r)}}},V=(0,B.Z)(_,[["render",function(e,r,n,l,u,o){return(0,t.wg)(),(0,t.iD)("div")}]]),T={name:"QueryBuilderGroup",components:{QueryBuilderChildren:R},extends:V,methods:{}};var O=n(75701),Q=n.n(O),I=n(8236),E=n.n(I),S=n(6080),G=n.n(S),U=n(56850),j=n.n(U),P=n(87182),Z=n.n(P),z=n(39213),L=n.n(z),Y=n(95951),M={};M.styleTagTransform=L(),M.setAttributes=j(),M.insert=G().bind(null,"head"),M.domAPI=E(),M.insertStyleElement=Z();Q()(Y.Z,M);Y.Z&&Y.Z.locals&&Y.Z.locals;const H=(0,B.Z)(T,[["render",function(e,r,n,l,u,o){const i=(0,t.up)("query-builder-children");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t.kq)(" eslint-disable vue/no-v-html "),(0,t._)("div",{class:(0,t.C_)(["vqb-group card","depth-"+e.depth.toString()])},[(0,t._)("div",a,[(0,t._)("div",s,[(0,t._)("div",d,[(0,t._)("label",c,(0,t.zw)(e.labels.matchType),1)]),(0,t._)("div",p,[(0,t.wy)((0,t._)("select",{id:"vqb-match-type","onUpdate:modelValue":r[0]||(r[0]=r=>e.query.logicalOperator=r),class:"form-select"},[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.labels.matchTypes,(e=>((0,t.wg)(),(0,t.iD)("option",{key:e.id,value:e.id},(0,t.zw)(e.label),9,m)))),128))],512),[[t.bM,e.query.logicalOperator]])]),e.depth>1?((0,t.wg)(),(0,t.iD)("div",v,[(0,t._)("button",{type:"button",class:"btn-close btn-small",onClick:r[1]||(r[1]=(...r)=>e.remove&&e.remove(...r))})])):(0,t.kq)("v-if",!0)])]),(0,t._)("div",b,[(0,t._)("div",h,[(0,t._)("div",y,[(0,t._)("div",f,[(0,t._)("select",{value:e.selectedRuleId,onInput:r[2]||(r[2]=(...r)=>e.updateRule&&e.updateRule(...r)),class:"form-select me-2"},[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.rules,(e=>((0,t.wg)(),(0,t.iD)("option",{key:e.id,value:e.id},(0,t.zw)(e.label),9,g)))),128))],40,q)]),(0,t._)("div",A,[(0,t._)("button",{type:"button",class:"btn btn-secondary me-2",onClick:r[3]||(r[3]=(...r)=>e.addRule&&e.addRule(...r))},(0,t.zw)(e.labels.addRule),1)]),(0,t._)("div",k,[e.depth<e.maxDepth?((0,t.wg)(),(0,t.iD)("button",{key:0,type:"button",class:"btn btn-secondary",onClick:r[4]||(r[4]=(...r)=>e.addGroup&&e.addGroup(...r))},(0,t.zw)(e.labels.addGroup),1)):(0,t.kq)("v-if",!0)])])]),(0,t.Wm)(i,(0,t.vs)((0,t.F4)(e.$props)),null,16)])],2)],2112)}]]),N={class:"vqb-rule card"},$={class:"row gy-2 gx-3 align-items-center card-body"},F={class:"col-auto"},K={key:0,class:"col-auto"},J={key:1,class:"col-auto"},W=["value"],X={key:2,class:"col-auto"},ee=["placeholder"],re={key:3,class:"col-auto"},ne={key:4,class:"col-auto"},te={key:5,class:"col-auto vqb-custom-component-wrap"},le={key:6,class:"col-auto"},ue=["id","value"],oe=["for"],ie={key:7,class:"col-auto"},ae=["id","name","value"],se=["for"],de={key:8,class:"col-auto"},ce=["multiple"],pe=["value"],me={key:9,class:"col-auto"},ve=["multiple"],be=["label"],he=["value"],ye={class:"col-auto d-flex"};const fe={props:["query","index","rule","labels","depth"],components:{},computed:{isCustomComponent(){return"custom-component"===this.rule.type},selectOptions(){return void 0===this.rule.choices?{}:this.rule.choices.reduce((function(e,r,n){let t=r.group;return void 0!==t?(e[t]=e[t]||[],e[t].push(r)):e[n]=r,e}),{})},hasOptionGroups(){return this.selectOptions.length&&Array.isArray(this.selectOptions[0])}},beforeMount(){"custom-component"===this.rule.type&&(this.$options.components[this.id]=this.rule.component)},mounted(){let e=w(this.query);null===this.query.value&&("checkbox"===this.rule.inputType&&(e.value=[]),"select"===this.rule.type&&(e.value=this.rule.choices[0].value),"custom-component"===this.rule.type&&(e.value=null,void 0!==this.rule.default&&(e.value=w(this.rule.default))),this.$emit("update:query",e))},methods:{remove:function(){this.$emit("child-deletion-requested",this.index)},updateQuery(e){console.log(e);let r=w(this.query);r.value=e,this.$emit("update:query",r)}}},qe=(0,B.Z)(fe,[["render",function(e,r,n,l,u,o){return(0,t.wg)(),(0,t.iD)("div")}]]),ge={extends:qe};var Ae={matchType:"Match Type",matchTypes:[{id:"all",label:"All"},{id:"any",label:"Any"}],addRule:"Add Rule",removeRule:"&times;",addGroup:"Add Group",removeGroup:"&times;",textInputPlaceholder:"value"};const ke={name:"VueQueryBuilder",components:{QueryBuilderGroup:H},props:{rules:Array,labels:{type:Object,default:()=>Ae},maxDepth:{type:Number,default:3,validator:function(e){return e>=1}},groupComponent:{type:Object,default:H},ruleComponent:{type:Object,default:(0,B.Z)(ge,[["render",function(e,r,n,l,u,o){return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t.kq)(" eslint-disable vue/no-v-html "),(0,t._)("div",N,[(0,t._)("div",$,[(0,t._)("label",F,(0,t.zw)(e.rule.label),1),void 0!==e.rule.operands?((0,t.wg)(),(0,t.iD)("div",K,[(0,t.kq)(" List of operands (optional) "),(0,t.wy)((0,t._)("select",{"onUpdate:modelValue":r[0]||(r[0]=r=>e.query.operand=r),class:"form-select me-2"},[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.rule.operands,(e=>((0,t.wg)(),(0,t.iD)("option",{key:e},(0,t.zw)(e),1)))),128))],512),[[t.bM,e.query.operand]])])):(0,t.kq)("v-if",!0),(0,t.kq)(" List of operators (e.g. =, !=, >, <) "),void 0!==e.rule.operators&&e.rule.operators.length>1?((0,t.wg)(),(0,t.iD)("div",J,[(0,t.wy)((0,t._)("select",{"onUpdate:modelValue":r[1]||(r[1]=r=>e.query.operator=r),class:"form-select me-2"},[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.rule.operators,(e=>((0,t.wg)(),(0,t.iD)("option",{key:e,value:e},(0,t.zw)(e),9,W)))),128))],512),[[t.bM,e.query.operator]])])):(0,t.kq)("v-if",!0),(0,t.kq)(" Basic text input "),"text"===e.rule.inputType?((0,t.wg)(),(0,t.iD)("div",X,[(0,t.wy)((0,t._)("input",{"onUpdate:modelValue":r[2]||(r[2]=r=>e.query.value=r),class:"form-control",type:"text",placeholder:e.labels.textInputPlaceholder},null,8,ee),[[t.nr,e.query.value]])])):(0,t.kq)("v-if",!0),(0,t.kq)(" Basic number input "),"number"===e.rule.inputType?((0,t.wg)(),(0,t.iD)("div",re,[(0,t.wy)((0,t._)("input",{"onUpdate:modelValue":r[3]||(r[3]=r=>e.query.value=r),class:"form-control",type:"number"},null,512),[[t.nr,e.query.value]])])):(0,t.kq)("v-if",!0),(0,t.kq)(" Datepicker "),"date"===e.rule.inputType?((0,t.wg)(),(0,t.iD)("div",ne,[(0,t.wy)((0,t._)("input",{"onUpdate:modelValue":r[4]||(r[4]=r=>e.query.value=r),class:"form-control",type:"date"},null,512),[[t.nr,e.query.value]])])):(0,t.kq)("v-if",!0),(0,t.kq)(" Custom component input "),e.isCustomComponent?((0,t.wg)(),(0,t.iD)("div",te,[((0,t.wg)(),(0,t.j4)((0,t.LL)(e.rule.component),{modelValue:e.query.value,"onUpdate:modelValue":r[5]||(r[5]=r=>e.query.value=r),rule:e.rule},null,8,["modelValue","rule"]))])):(0,t.kq)("v-if",!0),(0,t.kq)(" Checkbox input "),"checkbox"===e.rule.inputType?((0,t.wg)(),(0,t.iD)("div",le,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.rule.choices,(n=>((0,t.wg)(),(0,t.iD)("div",{key:n.value,class:"form-check form-check-inline"},[(0,t.wy)((0,t._)("input",{id:"depth"+e.depth+"-"+e.rule.id+"-"+e.index+"-"+n.value,"onUpdate:modelValue":r[6]||(r[6]=r=>e.query.value=r),type:"checkbox",value:n.value,class:"form-check-input"},null,8,ue),[[t.e8,e.query.value]]),(0,t._)("label",{class:"form-check-label",for:"depth"+e.depth+"-"+e.rule.id+"-"+e.index+"-"+n.value},(0,t.zw)(n.label),9,oe)])))),128))])):(0,t.kq)("v-if",!0),(0,t.kq)(" Radio input "),"radio"===e.rule.inputType?((0,t.wg)(),(0,t.iD)("div",ie,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.rule.choices,(n=>((0,t.wg)(),(0,t.iD)("div",{key:n.value,class:"form-check form-check-inline"},[(0,t.wy)((0,t._)("input",{id:"depth"+e.depth+"-"+e.rule.id+"-"+e.index+"-"+n.value,"onUpdate:modelValue":r[7]||(r[7]=r=>e.query.value=r),name:"depth"+e.depth+"-"+e.rule.id+"-"+e.index,type:"radio",value:n.value,class:"form-check-input"},null,8,ae),[[t.G2,e.query.value]]),(0,t._)("label",{class:"form-check-label",for:"depth"+e.depth+"-"+e.rule.id+"-"+e.index+"-"+n.value},(0,t.zw)(n.label),9,se)])))),128))])):(0,t.kq)("v-if",!0),(0,t.kq)(" Select without groups "),"select"!==e.rule.inputType||e.hasOptionGroups?(0,t.kq)("v-if",!0):((0,t.wg)(),(0,t.iD)("div",de,[(0,t.wy)((0,t._)("select",{"onUpdate:modelValue":r[8]||(r[8]=r=>e.query.value=r),class:"form-select",multiple:"multi-select"===e.rule.type},[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.selectOptions,(e=>((0,t.wg)(),(0,t.iD)("option",{key:e.value,value:e.value},(0,t.zw)(e.label),9,pe)))),128))],8,ce),[[t.bM,e.query.value]])])),(0,t.kq)(" Select with groups "),"select"===e.rule.inputType&&e.hasOptionGroups?((0,t.wg)(),(0,t.iD)("div",me,[(0,t.wy)((0,t._)("select",{"onUpdate:modelValue":r[9]||(r[9]=r=>e.query.value=r),class:"form-select",multiple:"multi-select"===e.rule.type},[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.selectOptions,((e,r)=>((0,t.wg)(),(0,t.iD)("optgroup",{key:r,label:r},[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e,(e=>((0,t.wg)(),(0,t.iD)("option",{key:e.value,value:e.value},(0,t.zw)(e.label),9,he)))),128))],8,be)))),128))],8,ve),[[t.bM,e.query.value]])])):(0,t.kq)("v-if",!0),(0,t.kq)(" Remove rule button "),(0,t._)("div",ye,[(0,t._)("button",{type:"button",class:"btn-close btn-sm",onClick:r[10]||(r[10]=(...r)=>e.remove&&e.remove(...r))})])])])],2112)}]])},modelValue:Object},data(){return{query:{logicalOperator:this.labels.matchTypes[0].id,children:[]},ruleTypes:{text:{operators:["equals","does not equal","contains","does not contain","is empty","is not empty","begins with","ends with"],inputType:"text",id:"text-field"},numeric:{operators:["=","<>","<","<=",">",">="],inputType:"number",id:"number-field"},custom:{operators:[],inputType:"text",id:"custom-field"},radio:{operators:[],choices:[],inputType:"radio",id:"radio-field"},checkbox:{operators:[],choices:[],inputType:"checkbox",id:"checkbox-field"},select:{operators:[],choices:[],inputType:"select",id:"select-field"},"multi-select":{operators:["="],choices:[],inputType:"select",id:"multi-select-field"}}}},computed:{mergedLabels(){return Object.assign({},Ae,this.labels)},mergedRules(){var e=[],r=this;return r.rules.forEach((function(n){void 0!==r.ruleTypes[n.type]?e.push(Object.assign({},r.ruleTypes[n.type],n)):e.push(n)})),e},vqbProps(){return{index:0,depth:1,maxDepth:this.maxDepth,ruleTypes:this.ruleTypes,rules:this.mergedRules,labels:this.mergedLabels,groupComponent:this.groupComponent,ruleComponent:this.ruleComponent}}},mounted(){this.$watch("query",(e=>{JSON.stringify(e)!==JSON.stringify(this.modelValue)&&this.$emit("update:modelValue",w(e))}),{deep:!0}),this.$watch("modelValue",(e=>{JSON.stringify(e)!==JSON.stringify(this.query)&&(this.query=w(e))}),{deep:!0}),void 0!==this.modelValue&&(this.query=Object.assign(this.query,this.modelValue))}},Ce=(0,B.Z)(ke,[["render",function(e,r,n,l,u,o){const a=(0,t.up)("query-builder-group");return(0,t.wg)(),(0,t.iD)("div",i,[(0,t.WI)(e.$slots,"default",(0,t.vs)((0,t.F4)(o.vqbProps)),(()=>[(0,t.Wm)(a,(0,t.dG)(o.vqbProps,{query:u.query,"onUpdate:query":r[0]||(r[0]=e=>u.query=e)}),null,16,["query"])]))])}]]),we={class:"ui grid"},xe={class:"fourteen wide column"},De={class:"ui horizontal list"},Be={class:"item"},Re={class:"ui inline"},_e={class:"item"},Ve=["value"],Te={class:"item"},Oe={class:"rule-actions"},Qe={class:"two wide right aligned column"},Ie={class:"vbq-group-body content"};n(59668),n(90170),n(62052);const Ee={name:"QueryBuilderGroup",extends:V,data:function(){return{selectedSuiRule:null}},methods:{addNewRule:function(e){this.selectedRule=this.rules.find((r=>r.id===e)),this.selectedRule&&this.addRule()}}};var Se=n(56418),Ge={};Ge.styleTagTransform=L(),Ge.setAttributes=j(),Ge.insert=G().bind(null,"head"),Ge.domAPI=E(),Ge.insertStyleElement=Z();Q()(Se.Z,Ge);Se.Z&&Se.Z.locals&&Se.Z.locals;const Ue=(0,B.Z)(Ee,[["render",function(e,r,n,l,u,o){const i=(0,t.up)("SuiDropdownItem"),a=(0,t.up)("SuiDropdownMenu"),s=(0,t.up)("SuiDropdown"),d=(0,t.up)("QueryBuilderChildren");return(0,t.wg)(),(0,t.iD)("div",{class:(0,t.C_)(["vqb-group ui fluid card",[e.labels.spaceRule,"depth-"+e.depth]])},[(0,t._)("div",{class:(0,t.C_)(["vbq-group-heading content","depth-"+e.depth])},[(0,t._)("div",we,[(0,t._)("div",xe,[(0,t._)("div",De,[(0,t._)("div",Be,[(0,t._)("h4",Re,(0,t.zw)(e.labels.matchType),1)]),(0,t._)("div",_e,[(0,t.wy)((0,t._)("select",{"onUpdate:modelValue":r[0]||(r[0]=r=>e.query.logicalOperator=r),class:"atk-qb-select"},[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.labels.matchTypes,(e=>((0,t.wg)(),(0,t.iD)("option",{key:e.id,value:e.id},(0,t.zw)(e.label),9,Ve)))),128))],512),[[t.bM,e.query.logicalOperator]])]),(0,t._)("div",Te,[(0,t._)("div",Oe,[(0,t._)("div",null,[(0,t.Wm)(s,{text:e.labels.addRule,class:"ui mini basic button atk-qb-rule-select",selection:""},{default:(0,t.w5)((()=>[(0,t.Wm)(a,{class:"atk-qb-rule-select-menu"},{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.rules,(e=>((0,t.wg)(),(0,t.j4)(i,{key:e.id,text:e.label,onClick:r=>o.addNewRule(e.id)},null,8,["text","onClick"])))),128))])),_:1})])),_:1},8,["text"]),e.depth<e.maxDepth?((0,t.wg)(),(0,t.iD)("button",{key:0,type:"button",class:"ui mini basic button",onClick:r[1]||(r[1]=function(){return e.addGroup&&e.addGroup(...arguments)})},(0,t.zw)(e.labels.addGroup),1)):(0,t.kq)("v-if",!0)])])])])]),(0,t._)("div",Qe,[e.depth>1?((0,t.wg)(),(0,t.iD)("i",{key:0,class:(0,t.C_)(["atk-qb-remove",e.labels.removeGroupClass]),onClick:r[2]||(r[2]=function(){return e.remove&&e.remove(...arguments)})},null,2)):(0,t.kq)("v-if",!0)])])],2),(0,t._)("div",Ie,[(0,t.Wm)(d,(0,t.vs)((0,t.F4)(e.$props)),null,16)])],2)}]]),je=["data-name"],Pe={class:"content"},Ze={class:"ui grid"},ze={class:"middle aligned row atk-qb"},Le={class:"thirteen wide column"},Ye={class:"ui horizontal list"},Me={class:"item vqb-rule-label"},He={class:""},Ne={key:0,class:"item vqb-rule-operand"},$e={key:1,class:"item vqb-rule-operator"},Fe=["value"],Ke={class:"item vqb-rule-input"},Je={key:0,class:"ui small input atk-qb"},We=["type","placeholder"],Xe={inline:"",class:"atk-qb"},er=["value"],rr={key:3,class:"ui small input atk-qb"},nr={class:"right aligned three wide column"};var tr=n(30901),lr=n(49880);const ur={components:{AtkDatePicker:tr.Z,AtkLookup:lr.Z},extends:qe,inject:["getRootData"],data:function(){return{}},computed:{isInput:function(){return"text"===this.rule.type||"numeric"===this.rule.type},isComponent:function(){return"custom-component"===this.rule.type},isRadio:function(){return"radio"===this.rule.type},isCheckbox:function(){return"checkbox"===this.rule.type||this.isRadio},isSelect:function(){return"select"===this.rule.type}},methods:{canDisplay:function(e){if(this.labels.hiddenOperator.includes(this.query.operator))return!1;switch(e){case"input":return this.isInput;case"checkbox":return this.isCheckbox;case"select":return this.isSelect;case"custom-component":return this.isComponent;default:return!1}}}};var or=n(42544),ir={};ir.styleTagTransform=L(),ir.setAttributes=j(),ir.insert=G().bind(null,"head"),ir.domAPI=E(),ir.insertStyleElement=Z();Q()(or.Z,ir);or.Z&&or.Z.locals&&or.Z.locals;const ar={name:"QueryBuilder",components:{VueQueryBuilder:Ce},props:{groupComponent:{type:Object,default:Ue},ruleComponent:{type:Object,default:(0,B.Z)(ur,[["render",function(e,r,n,l,u,o){const i=(0,t.up)("SuiCheckbox");return(0,t.wg)(),(0,t.iD)("div",{class:(0,t.C_)(["vqb-rule ui fluid card",e.labels.spaceRule]),"data-name":e.rule.id},[(0,t._)("div",Pe,[(0,t._)("div",Ze,[(0,t._)("div",ze,[(0,t._)("div",Le,[(0,t._)("div",Ye,[(0,t._)("div",Me,[(0,t._)("h5",He,(0,t.zw)(e.rule.label),1)]),void 0!==e.rule.operands?((0,t.wg)(),(0,t.iD)("div",Ne,[(0,t.wy)((0,t._)("select",{"onUpdate:modelValue":r[0]||(r[0]=r=>e.query.operand=r),class:"atk-qb-select"},[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.rule.operands,(e=>((0,t.wg)(),(0,t.iD)("option",{key:e},(0,t.zw)(e),1)))),128))],512),[[t.bM,e.query.operand]])])):(0,t.kq)("v-if",!0),void 0!==e.rule.operators&&e.rule.operators.length>1?((0,t.wg)(),(0,t.iD)("div",$e,[(0,t.wy)((0,t._)("select",{"onUpdate:modelValue":r[1]||(r[1]=r=>e.query.operator=r),class:"atk-qb-select"},[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.rule.operators,(e=>((0,t.wg)(),(0,t.iD)("option",{key:e,value:e},(0,t.zw)(e),9,Fe)))),128))],512),[[t.bM,e.query.operator]])])):(0,t.kq)("v-if",!0),(0,t._)("div",Ke,[o.canDisplay("input")?((0,t.wg)(),(0,t.iD)("div",Je,[(0,t.wy)((0,t._)("input",{"onUpdate:modelValue":r[2]||(r[2]=r=>e.query.value=r),type:"number"===e.rule.inputType?"text":e.rule.inputType,placeholder:e.labels.textInputPlaceholder},null,8,We),[[t.YZ,e.query.value]])])):(0,t.kq)("v-if",!0),o.canDisplay("checkbox")?((0,t.wg)(),(0,t.iD)(t.HY,{key:1},[(0,t.kq)(" TODO <SuiFormFields "),(0,t._)("div",Xe,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.rule.choices,(n=>((0,t.wg)(),(0,t.iD)("div",{key:n.value,class:"field"},[(0,t.kq)(" TODO radio support in https://github.com/nightswinger/vue-fomantic-ui/blob/v0.13.0/src/modules/Checkbox/Checkbox.tsx "),(0,t.Wm)(i,{modelValue:e.query.value,"onUpdate:modelValue":r[3]||(r[3]=r=>e.query.value=r),label:n.label,radio:o.isRadio,value:n.value},null,8,["modelValue","label","radio","value"])])))),128)),(0,t.kq)(" TODO </SuiFormFields> ")])],64)):(0,t.kq)("v-if",!0),o.canDisplay("select")?(0,t.wy)(((0,t.wg)(),(0,t.iD)("select",{key:2,"onUpdate:modelValue":r[4]||(r[4]=r=>e.query.value=r),class:"atk-qb-select"},[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.rule.choices,(e=>((0,t.wg)(),(0,t.iD)("option",{key:e.value,value:e.value},(0,t.zw)(e.label),9,er)))),128))],512)),[[t.bM,e.query.value]]):(0,t.kq)("v-if",!0),o.canDisplay("custom-component")?((0,t.wg)(),(0,t.iD)("div",rr,[((0,t.wg)(),(0,t.j4)((0,t.LL)(e.rule.component),{modelValue:e.query.value,"onUpdate:modelValue":r[5]||(r[5]=r=>e.query.value=r),config:e.rule.componentProps,optionalValue:e.query.option},null,8,["modelValue","config","optionalValue"]))])):(0,t.kq)("v-if",!0)])])]),(0,t._)("div",nr,[(0,t._)("i",{class:(0,t.C_)([e.labels.removeRuleClass,"atk-qb-remove"]),onClick:r[6]||(r[6]=function(){return e.remove&&e.remove(...arguments)})},null,2)])])])])],10,je)}]])},data:{type:Object,required:!0}},data:function(){return{query:this.data.query??{},rules:this.data.rules??[],name:this.data.name??"",maxDepth:this.data.maxDepth??1,labels:this.getLabels(this.data.labels),form:this.data.form,debug:this.data.debug??!1}},computed:{valueJson:function(){return JSON.stringify(this.query,null)}},methods:{getLabels:function(e){return e=e||{},{matchType:"Match Type",matchTypes:[{id:"AND",label:"And"},{id:"OR",label:"Or"}],addRule:"Add Rule",removeRuleClass:"small icon times",addGroup:"Add Group",removeGroupClass:"small icon times",textInputPlaceholder:"value",spaceRule:"fitted",hiddenOperator:["is empty","is not empty"],...e}}}},sr=(0,B.Z)(ar,[["render",function(e,r,n,i,a,s){const d=(0,t.up)("VueQueryBuilder");return(0,t.wg)(),(0,t.iD)("div",l,[(0,t._)("input",{form:e.form,name:e.name,type:"hidden",value:s.valueJson},null,8,u),(0,t.Wm)(d,{modelValue:e.query,"onUpdate:modelValue":r[1]||(r[1]=r=>e.query=r),groupComponent:n.groupComponent,ruleComponent:n.ruleComponent,rules:e.rules,maxDepth:e.maxDepth,labels:e.labels},{default:(0,t.w5)((l=>[((0,t.wg)(),(0,t.j4)((0,t.LL)(n.groupComponent),(0,t.dG)(l,{query:e.query,"onUpdate:query":r[0]||(r[0]=r=>e.query=r)}),null,16,["query"]))])),_:1},8,["modelValue","groupComponent","ruleComponent","rules","maxDepth","labels"]),e.debug?((0,t.wg)(),(0,t.iD)("pre",o,(0,t.zw)(JSON.stringify(e.query,null,2)),1)):(0,t.kq)("v-if",!0)])}]])}}]);
//# sourceMappingURL=atk-vue-query-builder.min.js.map