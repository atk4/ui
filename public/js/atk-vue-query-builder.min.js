"use strict";(self.webpackChunkatk=self.webpackChunkatk||[]).push([[662],{30901:(e,n,t)=>{t.d(n,{Z:()=>o});const o={name:"AtkDatePicker",template:'<FlatpickrPicker v-model="date" :config="flatPickr" />',props:["config","value"],data:function(){const{useDefault:e,...n}=this.config;return!e||n.defaultDate||this.value?this.value&&(n.defaultDate=this.value):n.defaultDate=new Date,n.locale||(n.locale=flatpickr.l10ns.default),{flatPickr:n,date:null}},emits:["setDefault"],mounted:function(){!this.value&&this.flatPickr.defaultDate&&(this.flatPickr.defaultDate instanceof Date?this.$emit("setDefault",flatpickr.formatDate(this.config.defaultDate,this.config.dateFormat)):this.$emit("setDefault",this.flatPickr.defaultDate))}}},49880:(e,n,t)=>{t.d(n,{Z:()=>r});var o=t(86157);const r={name:"AtkLookup",template:'\n        <SuiDropdown\n            v-bind="dropdownProps"\n            ref="drop"\n            @update:modelValue="onChange"\n            @filtered="onFiltered"\n            v-model="current"\n            :class="css"\n        ></SuiDropdown>',props:["config","value","optionalValue"],data:function(){const{url:e,reference:n,ui:t,...o}=this.config;return o.selection=!0,{dropdownProps:o,current:this.value,url:e||null,css:[t],isLoading:!1,field:n,query:"",temp:""}},mounted:function(){this.optionalValue&&(this.dropdownProps.options=Array.isArray(this.optionalValue)?this.optionalValue:[this.optionalValue])},emits:["update:modelValue"],methods:{onChange:function(e){this.current=e.value,this.$emit("update:modelValue",this.current)},onFiltered:function(e){e&&(this.isLoading=!0),this.onFiltered.debouncedFx||(this.onFiltered.debouncedFx=o.Z.createDebouncedFx((()=>{this.onFiltered.debouncedFx=null,this.query!==this.temp&&(this.query=this.temp,this.query&&this.fetchItems(this.query))}),250)),this.temp=e,this.onFiltered.debouncedFx(this)},fetchItems:async function(e){try{const n={atkVueLookupQuery:e,atkVueLookupField:this.field},t=await o.Z.apiService.suiFetch(this.url,{method:"get",data:n});t.success&&(this.dropdownProps.options=t.results)}catch(e){console.error(e)}finally{this.isLoading=!1}}}}},7812:(e,n,t)=>{t.d(n,{Z:()=>a});var o=t(51864),r=t.n(o),l=t(60352),i=t.n(l)()(r());i.push([e.id,"\n.atk-qb-select, .ui.form select.atk-qb-select {\n       padding: 2px 6px 4px 4px;\n}\n.atk-qb-remove {\n        cursor: pointer;\n        color: rgba(0, 0, 0, 0.6);\n}\n.ui.selection.dropdown.atk-qb-rule-select {\n        background-color: rgba(0, 0, 0, 0);\n}\n.ui.selection.dropdown .atk-qb-rule-select-menu {\n        width: max-content;\n        z-index: 1000;\n}\n.vbq-group-heading > .ui.grid > .column:not(.row) {\n        padding-bottom: 0.5em;\n        padding-top: 0.5em;\n}\n.vue-query-builder .ui.card.compact {\n        margin-top: 0.5em;\n        margin-bottom: 0.5em;\n}\n.vue-query-builder .ui.card.fitted {\n        margin-top: 0em;\n        margin-bottom: 0em;\n}\n.vue-query-builder .ui.card.padded {\n        margin-top: 1em;\n        margin-bottom: 1em;\n}\n.ui.card > .vbq-group-heading.content {\n        background-color: #f3f4f5;\n}\n.vue-query-builder .vqb-group.depth-1 .vqb-rule,\n    .vue-query-builder .vqb-group.depth-2 {\n        border-left: 2px solid #8bc34a;\n}\n.vue-query-builder .vqb-group.depth-2 .vqb-rule,\n    .vue-query-builder .vqb-group.depth-3 {\n        border-left: 2px solid #00bcd4;\n}\n.vue-query-builder .vqb-group.depth-3 .vqb-rule,\n    .vue-query-builder .vqb-group.depth-4 {\n        border-left: 2px solid #ff5722;\n}\n","",{version:3,sources:["webpack://./src/vue-components/query-builder/fomantic-ui-group.component.vue"],names:[],mappings:";AAmHI;OACG,wBAAwB;AAC3B;AACA;QACI,eAAe;QACf,yBAAyB;AAC7B;AACA;QACI,kCAAkC;AACtC;AACA;QACI,kBAAkB;QAClB,aAAa;AACjB;AACA;QACI,qBAAqB;QACrB,kBAAkB;AACtB;AACA;QACI,iBAAiB;QACjB,oBAAoB;AACxB;AACA;QACI,eAAe;QACf,kBAAkB;AACtB;AACA;QACI,eAAe;QACf,kBAAkB;AACtB;AACA;QACI,yBAAyB;AAC7B;AACA;;QAEI,8BAA8B;AAClC;AACA;;QAEI,8BAA8B;AAClC;AACA;;QAEI,8BAA8B;AAClC",sourcesContent:['<template>\n    <div\n        class="vqb-group ui fluid card"\n        :class="[labels.spaceRule, \'depth-\' + depth.toString()]"\n    >\n        <div\n            class="vbq-group-heading content"\n            :class="\'depth-\' + depth.toString()"\n        >\n            <div class="ui grid">\n                <div class="fourteen wide column">\n                    <div class="ui horizontal list">\n                        <div class="item">\n                            <h4 class="ui inline">\n                                {{ labels.matchType }}\n                            </h4>\n                        </div>\n                        <div class="item">\n                            <select\n                                v-model="query.logicalOperator"\n                                class="atk-qb-select"\n                            >\n                                <option\n                                    v-for="label in labels.matchTypes"\n                                    :key="label.id"\n                                    :value="label.id"\n                                >\n                                    {{ label.label }}\n                                </option>\n                            </select>\n                        </div>\n                        <div class="item">\n                            <div class="rule-actions ">\n                                <div>\n                                    <SuiDropdown\n                                        :text="labels.addRule"\n                                        class="ui mini basic button atk-qb-rule-select"\n                                        selection\n                                    >\n                                        <SuiDropdownMenu class="atk-qb-rule-select-menu">\n                                            <SuiDropdownItem\n                                                v-for="rule in rules"\n                                                :key="rule.id"\n                                                :text="rule.label"\n                                                @click="addNewRule(rule.id)"\n                                            />\n                                        </SuiDropdownMenu>\n                                    </SuiDropdown>\n                                    <button\n                                        v-if="depth < maxDepth"\n                                        type="button"\n                                        class="ui mini basic button"\n                                        @click="addGroup"\n                                    >\n                                        {{ labels.addGroup }}\n                                    </button>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class="two wide right aligned column">\n                    <i\n                        v-if="depth > 1"\n                        class="atk-qb-remove"\n                        :class="labels.removeGroupClass"\n                        @click="remove"\n                    />\n                </div>\n            </div>\n        </div>\n        <div class="vbq-group-body content">\n            <QueryBuilderChildren v-bind="$props" />\n        </div>\n    </div>\n</template>\n\n<script>\nimport QueryBuilderGroup from \'vue-query-builder/src/components/QueryBuilderGroup.vue\';\n\nexport default {\n    name: \'QueryBuilderGroup\',\n    extends: QueryBuilderGroup,\n    data: function () {\n        return {\n            selectedSuiRule: null,\n        };\n    },\n    computed: {\n        /**\n         * Map rules to SUI Dropdown.\n         */\n        dropdownRules: function () {\n            return this.rules.map((rule) => ({\n                key: rule.id,\n                text: rule.label,\n                value: rule.id,\n            }));\n        },\n    },\n    methods: {\n        /**\n         * Add a new rule via Dropdown item.\n         */\n        addNewRule: function (ruleId) {\n            this.selectedRule = this.rules.filter((rule) => rule.id === ruleId)[0]; // eslint-disable-line prefer-destructuring\n            if (this.selectedRule) {\n                this.addRule();\n            }\n        },\n    },\n};\n<\/script>\n\n<style>\n    .atk-qb-select, .ui.form select.atk-qb-select {\n       padding: 2px 6px 4px 4px;\n    }\n    .atk-qb-remove {\n        cursor: pointer;\n        color: rgba(0, 0, 0, 0.6);\n    }\n    .ui.selection.dropdown.atk-qb-rule-select {\n        background-color: rgba(0, 0, 0, 0);\n    }\n    .ui.selection.dropdown .atk-qb-rule-select-menu {\n        width: max-content;\n        z-index: 1000;\n    }\n    .vbq-group-heading > .ui.grid > .column:not(.row) {\n        padding-bottom: 0.5em;\n        padding-top: 0.5em;\n    }\n    .vue-query-builder .ui.card.compact {\n        margin-top: 0.5em;\n        margin-bottom: 0.5em;\n    }\n    .vue-query-builder .ui.card.fitted {\n        margin-top: 0em;\n        margin-bottom: 0em;\n    }\n    .vue-query-builder .ui.card.padded {\n        margin-top: 1em;\n        margin-bottom: 1em;\n    }\n    .ui.card > .vbq-group-heading.content {\n        background-color: #f3f4f5;\n    }\n    .vue-query-builder .vqb-group.depth-1 .vqb-rule,\n    .vue-query-builder .vqb-group.depth-2 {\n        border-left: 2px solid #8bc34a;\n    }\n    .vue-query-builder .vqb-group.depth-2 .vqb-rule,\n    .vue-query-builder .vqb-group.depth-3 {\n        border-left: 2px solid #00bcd4;\n    }\n    .vue-query-builder .vqb-group.depth-3 .vqb-rule,\n    .vue-query-builder .vqb-group.depth-4 {\n        border-left: 2px solid #ff5722;\n    }\n</style>\n'],sourceRoot:""}]);const a=i},51415:(e,n,t)=>{t.d(n,{Z:()=>a});var o=t(51864),r=t.n(o),l=t(60352),i=t.n(l)()(r());i.push([e.id,"\n.ui.input.atk-qb > input, .ui.input.atk-qb span > input, .ui.form .input.atk-qb {\n        padding: 6px;\n}\n.ui.grid > .row.atk-qb {\n        padding: 8px 0px;\n        min-height: 62px;\n}\n.inline.fields.atk-qb, .ui.form .inline.fields.atk-qb {\n        margin: 0px;\n}\n.atk-qb-date-picker {\n        border: 1px solid rgba(34, 36, 38, 0.15);\n}\ninput[type=input].atk-qb-date-picker:focus {\n        border-color: #85b7d9;\n}\n.ui.card.vqb-rule > .content {\n        padding-bottom: 0.5em;\n        padding-top: 0.5em;\n        background-color: #f3f4f5;\n}\n","",{version:3,sources:["webpack://./src/vue-components/query-builder/fomantic-ui-rule.component.vue"],names:[],mappings:";AAkLI;QACI,YAAY;AAChB;AACA;QACI,gBAAgB;QAChB,gBAAgB;AACpB;AACA;QACI,WAAW;AACf;AACA;QACI,wCAAwC;AAC5C;AACA;QACI,qBAAqB;AACzB;AACA;QACI,qBAAqB;QACrB,kBAAkB;QAClB,yBAAyB;AAC7B",sourcesContent:['<template>\n    <div\n        class="vqb-rule ui fluid card"\n        :class="labels.spaceRule"\n        :data-name="rule.id"\n    >\n        <div class="content">\n            <div class="ui grid">\n                <div class="middle aligned row atk-qb">\n                    <div class="thirteen wide column">\n                        <div class="ui horizontal list">\n                            <div class="item vqb-rule-label">\n                                <h5 class>\n                                    {{ rule.label }}\n                                </h5>\n                            </div>\n                            <div\n                                v-if="rule.operands !== undefined"\n                                class="item vqb-rule-operand"\n                            >\n                                <select\n                                    v-model="query.operand"\n                                    class="atk-qb-select"\n                                >\n                                    <option\n                                        v-for="operand in rule.operands"\n                                        :key="operand"\n                                    >\n                                        {{ operand }}\n                                    </option>\n                                </select>\n                            </div>\n                            <div\n                                v-if="rule.operators !== undefined && rule.operators.length > 1"\n                                class="item vqb-rule-operator"\n                            >\n                                <select\n                                    v-model="query.operator"\n                                    class="atk-qb-select"\n                                >\n                                    <option\n                                        v-for="operator in rule.operators"\n                                        :key="operator"\n                                        :value="operator"\n                                    >\n                                        {{ operator }}\n                                    </option>\n                                </select>\n                            </div>\n                            <div class="item vqb-rule-input">\n                                <template v-if="canDisplay(\'input\')">\n                                    <div class="ui small input atk-qb">\n                                        <input\n                                            v-model="query.value"\n                                            :type="rule.inputType"\n                                            :placeholder="labels.textInputPlaceholder"\n                                        >\n                                    </div>\n                                </template>\n                                <template v-if="canDisplay(\'checkbox\')">\n                                    \x3c!-- TODO <SuiFormFields --\x3e\n                                    <div\n                                        inline\n                                        class="atk-qb"\n                                    >\n                                        <div\n                                            v-for="choice in rule.choices"\n                                            :key="choice.value"\n                                            class="field"\n                                        >\n                                            \x3c!-- TODO radio support in https://github.com/nightswinger/vue-fomantic-ui/blob/v0.13.0/src/modules/Checkbox/Checkbox.tsx --\x3e\n                                            <SuiCheckbox\n                                                v-model="query.value"\n                                                :label="choice.label"\n                                                :radio="isRadio"\n                                                :value="choice.value"\n                                            />\n                                        </div>\n                                    \x3c!-- TODO </SuiFormFields> --\x3e\n                                    </div>\n                                </template>\n                                <template v-if="canDisplay(\'select\')">\n                                    <select\n                                        v-model="query.value"\n                                        class="atk-qb-select"\n                                    >\n                                        <option\n                                            v-for="choice in rule.choices"\n                                            :key="choice.value"\n                                            :value="choice.value"\n                                        >\n                                            {{ choice.label }}\n                                        </option>\n                                    </select>\n                                </template>\n                                <template v-if="canDisplay(\'custom-component\')">\n                                    <div class="ui small input atk-qb">\n                                        <component\n                                            :is="rule.component"\n                                            v-model="query.value"\n                                            :config="rule.componentProps"\n                                            :optional-value="query.option"\n                                        />\n                                    </div>\n                                </template>\n                            </div>\n                        </div>\n                    </div>\n                    <div class="right aligned three wide column">\n                        <i\n                            :class="labels.removeRuleClass"\n                            class="atk-qb-remove"\n                            @click="remove"\n                        />\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport QueryBuilderRule from \'vue-query-builder/src/components/QueryBuilderRule.vue\';\nimport AtkDatePicker from \'../share/atk-date-picker\';\nimport AtkLookup from \'../share/atk-lookup\';\n\nexport default {\n    components: {\n        AtkDatePicker: AtkDatePicker,\n        AtkLookup: AtkLookup,\n    },\n    extends: QueryBuilderRule,\n    inject: [\'getRootData\'],\n    data: function () {\n        return {};\n    },\n    computed: {\n        isInput: function () {\n            return this.rule.type === \'text\' || this.rule.type === \'numeric\';\n        },\n        isComponent: function () {\n            return this.rule.type === \'custom-component\';\n        },\n        isRadio: function () {\n            return this.rule.type === \'radio\';\n        },\n        isCheckbox: function () {\n            return this.rule.type === \'checkbox\' || this.isRadio;\n        },\n        isSelect: function () {\n            return this.rule.type === \'select\';\n        },\n    },\n    methods: {\n        /**\n         * Check if an input can be display in regards to:\n         * it\'s operator and then it\'s type.\n         *\n         * @returns {boolean|*}\n         */\n        canDisplay: function (type) {\n            if (this.labels.hiddenOperator.includes(this.query.operator)) {\n                return false;\n            }\n\n            switch (type) {\n                case \'input\': return this.isInput;\n                case \'checkbox\': return this.isCheckbox;\n                case \'select\': return this.isSelect;\n                case \'custom-component\': return this.isComponent;\n                default: return false;\n            }\n        },\n    },\n};\n<\/script>\n\n<style>\n    .ui.input.atk-qb > input, .ui.input.atk-qb span > input, .ui.form .input.atk-qb {\n        padding: 6px;\n    }\n    .ui.grid > .row.atk-qb {\n        padding: 8px 0px;\n        min-height: 62px;\n    }\n    .inline.fields.atk-qb, .ui.form .inline.fields.atk-qb {\n        margin: 0px;\n    }\n    .atk-qb-date-picker {\n        border: 1px solid rgba(34, 36, 38, 0.15);\n    }\n    input[type=input].atk-qb-date-picker:focus {\n        border-color: #85b7d9;\n    }\n    .ui.card.vqb-rule > .content {\n        padding-bottom: 0.5em;\n        padding-top: 0.5em;\n        background-color: #f3f4f5;\n    }\n</style>\n'],sourceRoot:""}]);const a=i},60352:e=>{e.exports=function(e){var n=[];return n.toString=function(){return this.map((function(n){var t="",o=void 0!==n[5];return n[4]&&(t+="@supports (".concat(n[4],") {")),n[2]&&(t+="@media ".concat(n[2]," {")),o&&(t+="@layer".concat(n[5].length>0?" ".concat(n[5]):""," {")),t+=e(n),o&&(t+="}"),n[2]&&(t+="}"),n[4]&&(t+="}"),t})).join("")},n.i=function(e,t,o,r,l){"string"==typeof e&&(e=[[null,e,void 0]]);var i={};if(o)for(var a=0;a<this.length;a++){var u=this[a][0];null!=u&&(i[u]=!0)}for(var s=0;s<e.length;s++){var c=[].concat(e[s]);o&&i[c[0]]||(void 0!==l&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=l),t&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=t):c[2]=t),r&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=r):c[4]="".concat(r)),n.push(c))}},n}},51864:e=>{e.exports=function(e){var n=e[1],t=e[3];if(!t)return n;if("function"==typeof btoa){var o=btoa(unescape(encodeURIComponent(JSON.stringify(t)))),r="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(o),l="/*# ".concat(r," */"),i=t.sources.map((function(e){return"/*# sourceURL=".concat(t.sourceRoot||"").concat(e," */")}));return[n].concat(i).concat([l]).join("\n")}return[n].join("\n")}},75701:e=>{var n=[];function t(e){for(var t=-1,o=0;o<n.length;o++)if(n[o].identifier===e){t=o;break}return t}function o(e,o){for(var l={},i=[],a=0;a<e.length;a++){var u=e[a],s=o.base?u[0]+o.base:u[0],c=l[s]||0,d="".concat(s," ").concat(c);l[s]=c+1;var p=t(d),m={css:u[1],media:u[2],sourceMap:u[3],supports:u[4],layer:u[5]};if(-1!==p)n[p].references++,n[p].updater(m);else{var v=r(m,o);o.byIndex=a,n.splice(a,0,{identifier:d,updater:v,references:1})}i.push(d)}return i}function r(e,n){var t=n.domAPI(n);t.update(e);return function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap&&n.supports===e.supports&&n.layer===e.layer)return;t.update(e=n)}else t.remove()}}e.exports=function(e,r){var l=o(e=e||[],r=r||{});return function(e){e=e||[];for(var i=0;i<l.length;i++){var a=t(l[i]);n[a].references--}for(var u=o(e,r),s=0;s<l.length;s++){var c=t(l[s]);0===n[c].references&&(n[c].updater(),n.splice(c,1))}l=u}}},6080:e=>{var n={};e.exports=function(e,t){var o=function(e){if(void 0===n[e]){var t=document.querySelector(e);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}n[e]=t}return n[e]}(e);if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(t)}},87182:e=>{e.exports=function(e){var n=document.createElement("style");return e.setAttributes(n,e.attributes),e.insert(n,e.options),n}},56850:(e,n,t)=>{e.exports=function(e){var n=t.nc;n&&e.setAttribute("nonce",n)}},8236:e=>{e.exports=function(e){var n=e.insertStyleElement(e);return{update:function(t){!function(e,n,t){var o="";t.supports&&(o+="@supports (".concat(t.supports,") {")),t.media&&(o+="@media ".concat(t.media," {"));var r=void 0!==t.layer;r&&(o+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),o+=t.css,r&&(o+="}"),t.media&&(o+="}"),t.supports&&(o+="}");var l=t.sourceMap;l&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(l))))," */")),n.styleTagTransform(o,e,n.options)}(n,e,t)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)}}}},39213:e=>{e.exports=function(e,n){if(n.styleSheet)n.styleSheet.cssText=e;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(e))}}},93248:(e,n,t)=>{t.r(n),t.d(n,{default:()=>se});var o=t(763);const r={class:""},l=["form","name","value"],i={key:0};var a=t(55653),u=t.n(a);const s={class:"ui grid"},c={class:"fourteen wide column"},d={class:"ui horizontal list"},p={class:"item"},m={class:"ui inline"},v={class:"item"},b=["value"],h={class:"item"},f={class:"rule-actions"},k={class:"two wide right aligned column"},y={class:"vbq-group-body content"};t(74659),t(26576),t(67242),t(90170),t(42359);const A={name:"QueryBuilderGroup",extends:t(64156).Z,data:function(){return{selectedSuiRule:null}},computed:{dropdownRules:function(){return this.rules.map((e=>({key:e.id,text:e.label,value:e.id})))}},methods:{addNewRule:function(e){this.selectedRule=this.rules.filter((n=>n.id===e))[0],this.selectedRule&&this.addRule()}}};var g=t(75701),q=t.n(g),C=t(8236),B=t.n(C),x=t(6080),D=t.n(x),w=t(56850),V=t.n(w),E=t(87182),N=t.n(E),S=t(39213),R=t.n(S),I=t(7812),Q={};Q.styleTagTransform=R(),Q.setAttributes=V(),Q.insert=D().bind(null,"head"),Q.domAPI=B(),Q.insertStyleElement=N();q()(I.Z,Q);I.Z&&I.Z.locals&&I.Z.locals;var F=t(51419);const O=(0,F.Z)(A,[["render",function(e,n,t,r,l,i){const a=(0,o.resolveComponent)("SuiDropdownItem"),u=(0,o.resolveComponent)("SuiDropdownMenu"),A=(0,o.resolveComponent)("SuiDropdown"),g=(0,o.resolveComponent)("QueryBuilderChildren");return(0,o.openBlock)(),(0,o.createElementBlock)("div",{class:(0,o.normalizeClass)(["vqb-group ui fluid card",[e.labels.spaceRule,"depth-"+e.depth.toString()]])},[(0,o.createElementVNode)("div",{class:(0,o.normalizeClass)(["vbq-group-heading content","depth-"+e.depth.toString()])},[(0,o.createElementVNode)("div",s,[(0,o.createElementVNode)("div",c,[(0,o.createElementVNode)("div",d,[(0,o.createElementVNode)("div",p,[(0,o.createElementVNode)("h4",m,(0,o.toDisplayString)(e.labels.matchType),1)]),(0,o.createElementVNode)("div",v,[(0,o.withDirectives)((0,o.createElementVNode)("select",{"onUpdate:modelValue":n[0]||(n[0]=n=>e.query.logicalOperator=n),class:"atk-qb-select"},[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.labels.matchTypes,(e=>((0,o.openBlock)(),(0,o.createElementBlock)("option",{key:e.id,value:e.id},(0,o.toDisplayString)(e.label),9,b)))),128))],512),[[o.vModelSelect,e.query.logicalOperator]])]),(0,o.createElementVNode)("div",h,[(0,o.createElementVNode)("div",f,[(0,o.createElementVNode)("div",null,[(0,o.createVNode)(A,{text:e.labels.addRule,class:"ui mini basic button atk-qb-rule-select",selection:""},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(u,{class:"atk-qb-rule-select-menu"},{default:(0,o.withCtx)((()=>[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.rules,(e=>((0,o.openBlock)(),(0,o.createBlock)(a,{key:e.id,text:e.label,onClick:n=>i.addNewRule(e.id)},null,8,["text","onClick"])))),128))])),_:1})])),_:1},8,["text"]),e.depth<e.maxDepth?((0,o.openBlock)(),(0,o.createElementBlock)("button",{key:0,type:"button",class:"ui mini basic button",onClick:n[1]||(n[1]=function(){return e.addGroup&&e.addGroup(...arguments)})},(0,o.toDisplayString)(e.labels.addGroup),1)):(0,o.createCommentVNode)("v-if",!0)])])])])]),(0,o.createElementVNode)("div",k,[e.depth>1?((0,o.openBlock)(),(0,o.createElementBlock)("i",{key:0,class:(0,o.normalizeClass)(["atk-qb-remove",e.labels.removeGroupClass]),onClick:n[2]||(n[2]=function(){return e.remove&&e.remove(...arguments)})},null,2)):(0,o.createCommentVNode)("v-if",!0)])])],2),(0,o.createElementVNode)("div",y,[(0,o.createVNode)(g,(0,o.normalizeProps)((0,o.guardReactiveProps)(e.$props)),null,16)])],2)}]]),P=["data-name"],T={class:"content"},L={class:"ui grid"},Z={class:"middle aligned row atk-qb"},M={class:"thirteen wide column"},G={class:"ui horizontal list"},U={class:"item vqb-rule-label"},z={class:""},j={key:0,class:"item vqb-rule-operand"},$={key:1,class:"item vqb-rule-operator"},J=["value"],H={class:"item vqb-rule-input"},_={key:0,class:"ui small input atk-qb"},W=["type","placeholder"],Y={inline:"",class:"atk-qb"},K=["value"],X={key:3,class:"ui small input atk-qb"},ee={class:"right aligned three wide column"};var ne=t(44380),te=t(30901),oe=t(49880);const re={components:{AtkDatePicker:te.Z,AtkLookup:oe.Z},extends:ne.Z,inject:["getRootData"],data:function(){return{}},computed:{isInput:function(){return"text"===this.rule.type||"numeric"===this.rule.type},isComponent:function(){return"custom-component"===this.rule.type},isRadio:function(){return"radio"===this.rule.type},isCheckbox:function(){return"checkbox"===this.rule.type||this.isRadio},isSelect:function(){return"select"===this.rule.type}},methods:{canDisplay:function(e){if(this.labels.hiddenOperator.includes(this.query.operator))return!1;switch(e){case"input":return this.isInput;case"checkbox":return this.isCheckbox;case"select":return this.isSelect;case"custom-component":return this.isComponent;default:return!1}}}};var le=t(51415),ie={};ie.styleTagTransform=R(),ie.setAttributes=V(),ie.insert=D().bind(null,"head"),ie.domAPI=B(),ie.insertStyleElement=N();q()(le.Z,ie);le.Z&&le.Z.locals&&le.Z.locals;const ae=(0,F.Z)(re,[["render",function(e,n,t,r,l,i){const a=(0,o.resolveComponent)("SuiCheckbox");return(0,o.openBlock)(),(0,o.createElementBlock)("div",{class:(0,o.normalizeClass)(["vqb-rule ui fluid card",e.labels.spaceRule]),"data-name":e.rule.id},[(0,o.createElementVNode)("div",T,[(0,o.createElementVNode)("div",L,[(0,o.createElementVNode)("div",Z,[(0,o.createElementVNode)("div",M,[(0,o.createElementVNode)("div",G,[(0,o.createElementVNode)("div",U,[(0,o.createElementVNode)("h5",z,(0,o.toDisplayString)(e.rule.label),1)]),void 0!==e.rule.operands?((0,o.openBlock)(),(0,o.createElementBlock)("div",j,[(0,o.withDirectives)((0,o.createElementVNode)("select",{"onUpdate:modelValue":n[0]||(n[0]=n=>e.query.operand=n),class:"atk-qb-select"},[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.rule.operands,(e=>((0,o.openBlock)(),(0,o.createElementBlock)("option",{key:e},(0,o.toDisplayString)(e),1)))),128))],512),[[o.vModelSelect,e.query.operand]])])):(0,o.createCommentVNode)("v-if",!0),void 0!==e.rule.operators&&e.rule.operators.length>1?((0,o.openBlock)(),(0,o.createElementBlock)("div",$,[(0,o.withDirectives)((0,o.createElementVNode)("select",{"onUpdate:modelValue":n[1]||(n[1]=n=>e.query.operator=n),class:"atk-qb-select"},[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.rule.operators,(e=>((0,o.openBlock)(),(0,o.createElementBlock)("option",{key:e,value:e},(0,o.toDisplayString)(e),9,J)))),128))],512),[[o.vModelSelect,e.query.operator]])])):(0,o.createCommentVNode)("v-if",!0),(0,o.createElementVNode)("div",H,[i.canDisplay("input")?((0,o.openBlock)(),(0,o.createElementBlock)("div",_,[(0,o.withDirectives)((0,o.createElementVNode)("input",{"onUpdate:modelValue":n[2]||(n[2]=n=>e.query.value=n),type:e.rule.inputType,placeholder:e.labels.textInputPlaceholder},null,8,W),[[o.vModelDynamic,e.query.value]])])):(0,o.createCommentVNode)("v-if",!0),i.canDisplay("checkbox")?((0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,{key:1},[(0,o.createCommentVNode)(" TODO <SuiFormFields "),(0,o.createElementVNode)("div",Y,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.rule.choices,(t=>((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:t.value,class:"field"},[(0,o.createCommentVNode)(" TODO radio support in https://github.com/nightswinger/vue-fomantic-ui/blob/v0.13.0/src/modules/Checkbox/Checkbox.tsx "),(0,o.createVNode)(a,{modelValue:e.query.value,"onUpdate:modelValue":n[3]||(n[3]=n=>e.query.value=n),label:t.label,radio:i.isRadio,value:t.value},null,8,["modelValue","label","radio","value"])])))),128)),(0,o.createCommentVNode)(" TODO </SuiFormFields> ")])],64)):(0,o.createCommentVNode)("v-if",!0),i.canDisplay("select")?(0,o.withDirectives)(((0,o.openBlock)(),(0,o.createElementBlock)("select",{key:2,"onUpdate:modelValue":n[4]||(n[4]=n=>e.query.value=n),class:"atk-qb-select"},[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.rule.choices,(e=>((0,o.openBlock)(),(0,o.createElementBlock)("option",{key:e.value,value:e.value},(0,o.toDisplayString)(e.label),9,K)))),128))],512)),[[o.vModelSelect,e.query.value]]):(0,o.createCommentVNode)("v-if",!0),i.canDisplay("custom-component")?((0,o.openBlock)(),(0,o.createElementBlock)("div",X,[((0,o.openBlock)(),(0,o.createBlock)((0,o.resolveDynamicComponent)(e.rule.component),{modelValue:e.query.value,"onUpdate:modelValue":n[5]||(n[5]=n=>e.query.value=n),config:e.rule.componentProps,"optional-value":e.query.option},null,8,["modelValue","config","optional-value"]))])):(0,o.createCommentVNode)("v-if",!0)])])]),(0,o.createElementVNode)("div",ee,[(0,o.createElementVNode)("i",{class:(0,o.normalizeClass)([e.labels.removeRuleClass,"atk-qb-remove"]),onClick:n[6]||(n[6]=function(){return e.remove&&e.remove(...arguments)})},null,2)])])])])],10,P)}]]),ue={name:"QueryBuilder",components:{VueQueryBuilder:u()},props:{groupComponent:{type:Object,default:O},ruleComponent:{type:Object,default:ae},data:{type:Object,required:!0}},data:function(){return{query:this.data.query?this.data.query:{},rules:this.data.rules?this.data.rules:[],name:this.data.name?this.data.name:"",maxDepth:this.data.maxDepth?this.data.maxDepth:1,labels:this.getLabels(this.data.labels),form:this.data.form,debug:!!this.data.debug&&this.data.debug}},computed:{value:function(){return JSON.stringify(this.query,null)}},methods:{getLabels:function(e){return e=e||{},{matchType:"Match Type",matchTypes:[{id:"AND",label:"And"},{id:"OR",label:"Or"}],addRule:"Add Rule",removeRuleClass:"small icon times",addGroup:"Add Group",removeGroupClass:"small icon times",textInputPlaceholder:"value",spaceRule:"fitted",hiddenOperator:["is empty","is not empty"],...e}}}},se=(0,F.Z)(ue,[["render",function(e,n,t,a,u,s){const c=(0,o.resolveComponent)("VueQueryBuilder");return(0,o.openBlock)(),(0,o.createElementBlock)("div",r,[(0,o.createElementVNode)("input",{form:e.form,name:e.name,type:"hidden",value:s.value},null,8,l),(0,o.createVNode)(c,{modelValue:e.query,"onUpdate:modelValue":n[1]||(n[1]=n=>e.query=n),"group-component":t.groupComponent,"rule-component":t.ruleComponent,rules:e.rules,"max-depth":e.maxDepth,labels:e.labels},{default:(0,o.withCtx)((r=>[((0,o.openBlock)(),(0,o.createBlock)((0,o.resolveDynamicComponent)(t.groupComponent),(0,o.mergeProps)(r,{query:e.query,"onUpdate:query":n[0]||(n[0]=n=>e.query=n)}),null,16,["query"]))])),_:1},8,["modelValue","group-component","rule-component","rules","max-depth","labels"]),e.debug?((0,o.openBlock)(),(0,o.createElementBlock)("pre",i,(0,o.toDisplayString)(JSON.stringify(e.query,null,2)),1)):(0,o.createCommentVNode)("v-if",!0)])}]])}}]);
//# sourceMappingURL=atk-vue-query-builder.min.js.map