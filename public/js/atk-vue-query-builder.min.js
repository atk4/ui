(self.webpackChunkatk=self.webpackChunkatk||[]).push([[662],{30901:(e,r,t)=>{"use strict";t.d(r,{Z:()=>n});const n={name:"atk-date-picker",template:'<flatpickr-picker v-model="date" :config="flatPickr" @on-change="onChange"></flatpickr-picker>',props:["config","value"],data:function(){const{useDefault:e,...r}=this.config;return!e||r.defaultDate||this.value?this.value&&(r.defaultDate=this.value):r.defaultDate=new Date,r.locale||(r.locale=flatpickr.l10ns.default),{flatPickr:r,date:null}},mounted:function(){!this.value&&this.flatPickr.defaultDate&&(this.flatPickr.defaultDate instanceof Date?this.$emit("setDefault",flatpickr.formatDate(this.config.defaultDate,this.config.dateFormat)):this.$emit("setDefault",this.flatPickr.defaultDate))},methods:{onChange:function(e){this.$emit("onChange",flatpickr.formatDate(e[0],this.flatPickr.dateFormat))}}}},49880:(e,r,t)=>{"use strict";t.d(r,{Z:()=>i});var n=t(86157);const i={name:"atk-lookup",template:'<sui-dropdown\n                    ref="drop"\n                    v-bind="dropdownProps"\n                    :loading="isLoading"\n                    @input="onChange"\n                    @filtered="onFiltered"\n                    v-model="current"\n                    :class="css"></sui-dropdown>',props:["config","value","optionalValue"],data:function(){const{url:e,reference:r,ui:t,...n}=this.config;return n.selection=!0,{dropdownProps:n,current:this.value,url:e||null,css:[t],isLoading:!1,field:r,query:"",temp:""}},mounted:function(){this.optionalValue&&(this.dropdownProps.options=Array.isArray(this.optionalValue)?this.optionalValue:[this.optionalValue])},methods:{onChange:function(e){this.$emit("onChange",e)},onFiltered:function(e){e&&(this.isLoading=!0),this.onFiltered.debouncedFx||(this.onFiltered.debouncedFx=n.Z.createDebouncedFx((()=>{this.onFiltered.debouncedFx=null,this.query!==this.temp&&(this.query=this.temp,this.query&&this.fetchItems(this.query))}),250)),this.temp=e,this.onFiltered.debouncedFx(this)},fetchItems:async function(e){try{const r={atkVueLookupQuery:e,atkVueLookupField:this.field},t=await n.Z.apiService.suiFetch(this.url,{method:"get",data:r});t.success&&(this.dropdownProps.options=t.results)}catch(e){console.error(e)}finally{this.isLoading=!1}}}}},28736:(e,r,t)=>{"use strict";t.d(r,{Z:()=>o});var n=t(60445),i=t.n(n),a=t(60352),l=t.n(a)()(i());l.push([e.id,"\n.atk-qb-select, .ui.form select.atk-qb-select {\n   padding: 2px 6px 4px 4px;\n}\n.atk-qb-remove {\n    cursor: pointer;\n    color: rgba(0, 0, 0, 0.6);\n}\n.ui.selection.dropdown.atk-qb-rule-select {\n    background-color: rgba(0, 0, 0, 0);\n}\n.ui.selection.dropdown .atk-qb-rule-select-menu {\n    width: max-content;\n    z-index: 1000;\n}\n.vbq-group-heading > .ui.grid > .column:not(.row) {\n    padding-bottom: 0.5em;\n    padding-top: 0.5em;\n}\n.vue-query-builder .ui.card.compact {\n    margin-top: 0.5em;\n    margin-bottom: 0.5em;\n}\n.vue-query-builder .ui.card.fitted {\n    margin-top: 0em;\n    margin-bottom: 0em;\n}\n.vue-query-builder .ui.card.padded {\n    margin-top: 1em;\n    margin-bottom: 1em;\n}\n.ui.card > .vbq-group-heading.content {\n    background-color: #f3f4f5;\n}\n.vue-query-builder .vqb-group.depth-1 .vqb-rule,\n.vue-query-builder .vqb-group.depth-2 {\n    border-left: 2px solid #8bc34a;\n}\n.vue-query-builder .vqb-group.depth-2 .vqb-rule,\n.vue-query-builder .vqb-group.depth-3 {\n    border-left: 2px solid #00bcd4;\n}\n.vue-query-builder .vqb-group.depth-3 .vqb-rule,\n.vue-query-builder .vqb-group.depth-4 {\n    border-left: 2px solid #ff5722;\n}\n\n","",{version:3,sources:["webpack://./src/vue-components/query-builder/fomantic-ui-group.component.vue"],names:[],mappings:";AAsJA;GACA,wBAAA;AACA;AACA;IACA,eAAA;IACA,yBAAA;AACA;AACA;IACA,kCAAA;AACA;AACA;IACA,kBAAA;IACA,aAAA;AACA;AACA;IACA,qBAAA;IACA,kBAAA;AACA;AACA;IACA,iBAAA;IACA,oBAAA;AACA;AACA;IACA,eAAA;IACA,kBAAA;AACA;AACA;IACA,eAAA;IACA,kBAAA;AACA;AACA;IACA,yBAAA;AACA;AACA;;IAEA,8BAAA;AACA;AACA;;IAEA,8BAAA;AACA;AACA;;IAEA,8BAAA;AACA",sourcesContent:['<template>\r\n    <div class="vqb-group ui fluid card" :class="[labels.spaceRule, \'depth-\' + depth.toString()]">\r\n        <div class="vbq-group-heading content" :class="\'depth-\' + depth.toString()">\r\n            <div class="ui grid">\r\n                <div class="fourteen wide column">\r\n                    <div class="ui horizontal list">\r\n                        <div class="item">\r\n                            <h4 class="ui inline">{{ labels.matchType }}</h4>\r\n                        </div>\r\n                        <div class="item">\r\n                            <select\r\n                                    v-model="query.logicalOperator"\r\n                                    class="atk-qb-select"\r\n                            >\r\n                                <option\r\n                                        v-for="label in labels.matchTypes"\r\n                                        :key="label.id"\r\n                                        :value="label.id"\r\n                                >{{ label.label }}</option>\r\n                            </select>\r\n                        </div>\r\n                        <div class="item">\r\n                            <div class="rule-actions ">\r\n                                <div>\r\n                                    <sui-dropdown\r\n                                            :text="labels.addRule"\r\n                                            class="ui mini basic button atk-qb-rule-select"\r\n                                            selection\r\n                                    >\r\n                                        <sui-dropdown-menu class="atk-qb-rule-select-menu">\r\n                                            <sui-dropdown-item\r\n                                                @click="addNewRule(rule.id)"\r\n                                                v-for="rule in rules"\r\n                                                :key="rule.id" :value="rule"\r\n                                            >{{ rule.label }}</sui-dropdown-item>\r\n                                        </sui-dropdown-menu>\r\n                                    </sui-dropdown>\r\n                                    <button v-if="depth < maxDepth"\r\n                                            type="button"\r\n                                            class="ui mini basic button"\r\n                                            @click="addGroup"\r\n                                    >{{ labels.addGroup }}</button>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class="two wide right aligned column">\r\n                    <i v-if="depth > 1" class="atk-qb-remove" :class="labels.removeGroupClass" @click="remove"></i>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class="vbq-group-body content">\r\n            <query-builder-children v-bind="$props" />\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport QueryBuilderGroup from \'vue-query-builder/dist/group/QueryBuilderGroup.umd\';\r\nimport QueryBuilderRule from \'./fomantic-ui-rule.component.vue\';\r\n\r\nexport default {\r\n    name: \'QueryBuilderGroup\',\r\n    components: {\r\n        QueryBuilderRule: QueryBuilderRule,\r\n    },\r\n    data: function () {\r\n        return {\r\n            selectedSuiRule: null,\r\n        };\r\n    },\r\n    methods: {\r\n        /**\r\n         * Add a new rule via Dropdown item.\r\n         */\r\n        addNewRule: function (ruleId) {\r\n            this.selectedRule = this.rules.filter((rule) => rule.id === ruleId)[0]; // eslint-disable-line prefer-destructuring\r\n            if (this.selectedRule) {\r\n                this.addRule();\r\n            }\r\n        },\r\n    },\r\n    computed: {\r\n        /**\r\n         * Map rules to SUI Dropdown.\r\n         *\r\n         * @returns {*}\r\n         */\r\n        dropdownRules: function () {\r\n            return this.rules.map((rule) => ({\r\n                key: rule.id,\r\n                text: rule.label,\r\n                value: rule.id,\r\n            }));\r\n        },\r\n    },\r\n    extends: QueryBuilderGroup,\r\n};\r\n<\/script>\r\n\r\n<style>\r\n    .atk-qb-select, .ui.form select.atk-qb-select {\r\n       padding: 2px 6px 4px 4px;\r\n    }\r\n    .atk-qb-remove {\r\n        cursor: pointer;\r\n        color: rgba(0, 0, 0, 0.6);\r\n    }\r\n    .ui.selection.dropdown.atk-qb-rule-select {\r\n        background-color: rgba(0, 0, 0, 0);\r\n    }\r\n    .ui.selection.dropdown .atk-qb-rule-select-menu {\r\n        width: max-content;\r\n        z-index: 1000;\r\n    }\r\n    .vbq-group-heading > .ui.grid > .column:not(.row) {\r\n        padding-bottom: 0.5em;\r\n        padding-top: 0.5em;\r\n    }\r\n    .vue-query-builder .ui.card.compact {\r\n        margin-top: 0.5em;\r\n        margin-bottom: 0.5em;\r\n    }\r\n    .vue-query-builder .ui.card.fitted {\r\n        margin-top: 0em;\r\n        margin-bottom: 0em;\r\n    }\r\n    .vue-query-builder .ui.card.padded {\r\n        margin-top: 1em;\r\n        margin-bottom: 1em;\r\n    }\r\n    .ui.card > .vbq-group-heading.content {\r\n        background-color: #f3f4f5;\r\n    }\r\n    .vue-query-builder .vqb-group.depth-1 .vqb-rule,\r\n    .vue-query-builder .vqb-group.depth-2 {\r\n        border-left: 2px solid #8bc34a;\r\n    }\r\n    .vue-query-builder .vqb-group.depth-2 .vqb-rule,\r\n    .vue-query-builder .vqb-group.depth-3 {\r\n        border-left: 2px solid #00bcd4;\r\n    }\r\n    .vue-query-builder .vqb-group.depth-3 .vqb-rule,\r\n    .vue-query-builder .vqb-group.depth-4 {\r\n        border-left: 2px solid #ff5722;\r\n    }\r\n\r\n</style>\r\n'],sourceRoot:""}]);const o=l},22522:(e,r,t)=>{"use strict";t.d(r,{Z:()=>o});var n=t(60445),i=t.n(n),a=t(60352),l=t.n(a)()(i());l.push([e.id,"\n.ui.input.atk-qb > input, .ui.input.atk-qb span > input, .ui.form .input.atk-qb {\n    padding: 6px;\n}\n.ui.grid > .row.atk-qb {\n    padding: 8px 0px;\n    min-height: 62px;\n}\n.inline.fields.atk-qb, .ui.form .inline.fields.atk-qb {\n    margin: 0px;\n}\n.atk-qb-date-picker {\n    border: 1px solid rgba(34, 36, 38, 0.15);\n}\ninput[type=input].atk-qb-date-picker:focus {\n    border-color: #85b7d9;\n}\n.ui.card.vqb-rule > .content {\n    padding-bottom: 0.5em;\n    padding-top: 0.5em;\n    background-color: #f3f4f5;\n}\n","",{version:3,sources:["webpack://./src/vue-components/query-builder/fomantic-ui-rule.component.vue"],names:[],mappings:";AAqKA;IACA,YAAA;AACA;AACA;IACA,gBAAA;IACA,gBAAA;AACA;AACA;IACA,WAAA;AACA;AACA;IACA,wCAAA;AACA;AACA;IACA,qBAAA;AACA;AACA;IACA,qBAAA;IACA,kBAAA;IACA,yBAAA;AACA",sourcesContent:['<template>\r\n    <div class="vqb-rule ui fluid card" :class="labels.spaceRule" :data-name="rule.id">\r\n        <div class="content">\r\n            <div class="ui grid">\r\n                <div class="middle aligned row atk-qb">\r\n                    <div class="thirteen wide column">\r\n                        <div class="ui horizontal list">\r\n                            <div class="item vqb-rule-label">\r\n                                <h5 class>{{ rule.label }}</h5>\r\n                            </div>\r\n                            <div class="item vqb-rule-operand" v-if="rule.operands !== undefined">\r\n                                \x3c!-- List of operands (optional) --\x3e\r\n                                <select v-model="query.operand" class="atk-qb-select">\r\n                                    <option v-for="operand in rule.operands" :key="operand">{{ operand }}</option>\r\n                                </select>\r\n                            </div>\r\n                            <div class="item vqb-rule-operator"\r\n                                 v-if="rule.operators !== undefined && rule.operators.length > 1">\r\n                                \x3c!-- List of operators (e.g. =, !=, >, <) --\x3e\r\n                                <select v-model="query.operator" class="atk-qb-select">\r\n                                    <option v-for="operator in rule.operators" :key="operator" :value="operator">\r\n                                        {{operator}}\r\n                                    </option>\r\n                                </select>\r\n                            </div>\r\n                            <div class="item vqb-rule-input">\r\n                                \x3c!-- text input --\x3e\r\n                                <template v-if="canDisplay(\'input\')">\r\n                                    <div class="ui small input atk-qb" >\r\n                                        <input\r\n                                                v-model="query.value"\r\n                                                :type="rule.inputType"\r\n                                                :placeholder="labels.textInputPlaceholder"\r\n                                        >\r\n                                    </div>\r\n                                </template>\r\n                                \x3c!-- Checkbox or Radio input --\x3e\r\n                                <template v-if="canDisplay(\'checkbox\')">\r\n                                    <sui-form-fields inline class="atk-qb">\r\n                                        <div class="field" v-for="choice in rule.choices" :key="choice.value">\r\n                                            <sui-checkbox\r\n                                                :label="choice.label"\r\n                                                :radio="isRadio"\r\n                                                :value="choice.value"\r\n                                                v-model="query.value">\r\n                                            </sui-checkbox>\r\n                                        </div>\r\n                                    </sui-form-fields>\r\n                                </template>\r\n                                \x3c!-- Select input --\x3e\r\n                                <template v-if="canDisplay(\'select\')">\r\n                                    <select v-model="query.value" class="atk-qb-select">\r\n                                        <option\r\n                                            v-for="choice in rule.choices"\r\n                                            :key="choice.value"\r\n                                            :value="choice.value">\r\n                                            {{choice.label}}\r\n                                        </option>\r\n                                    </select>\r\n                                </template>\r\n                              \x3c!-- Custom component --\x3e\r\n                              <template v-if="canDisplay(\'custom-component\')">\r\n                                <div class="ui small input atk-qb">\r\n                                  <component :is="rule.component"\r\n                                      :config="rule.componentProps"\r\n                                      :value="query.value"\r\n                                      :optionalValue="query.option"\r\n                                      @onChange="onChange"\r\n                                      @setDefault="onChange">\r\n                                  </component>\r\n                                </div>\r\n                              </template>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class="right aligned three wide column">\r\n                        \x3c!-- Remove rule button --\x3e\r\n                        <i :class="labels.removeRuleClass" @click="remove" class="atk-qb-remove"></i>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport QueryBuilderRule from \'vue-query-builder/dist/rule/QueryBuilderRule.umd\';\r\nimport AtkDatePicker from \'../share/atk-date-picker\';\r\nimport AtkLookup from \'../share/atk-lookup\';\r\n\r\nexport default {\r\n    extends: QueryBuilderRule,\r\n    components: { \'atk-date-picker\': AtkDatePicker, \'atk-lookup\': AtkLookup },\r\n    data: function () {\r\n        return {};\r\n    },\r\n    inject: [\'getRootData\'],\r\n    computed: {\r\n        isInput: function () {\r\n            return this.rule.type === \'text\' || this.rule.type === \'numeric\';\r\n        },\r\n        isComponent: function () {\r\n            return this.rule.type === \'custom-component\';\r\n        },\r\n        isRadio: function () {\r\n            return this.rule.type === \'radio\';\r\n        },\r\n        isCheckbox: function () {\r\n            return this.rule.type === \'checkbox\' || this.isRadio;\r\n        },\r\n        isSelect: function () {\r\n            return this.rule.type === \'select\';\r\n        },\r\n    },\r\n    methods: {\r\n        /**\r\n         * Check if an input can be display in regards to:\r\n         * it\'s operator and then it\'s type.\r\n         *\r\n         * @returns {boolean|*}\r\n         */\r\n        canDisplay: function (type) {\r\n            if (this.labels.hiddenOperator.includes(this.query.operator)) {\r\n                return false;\r\n            }\r\n\r\n            switch (type) {\r\n                case \'input\': return this.isInput;\r\n                case \'checkbox\': return this.isCheckbox;\r\n                case \'select\': return this.isSelect;\r\n                case \'custom-component\': return this.isComponent;\r\n                default: return false;\r\n            }\r\n        },\r\n        onChange: function (value) {\r\n            this.query.value = value;\r\n        },\r\n    },\r\n};\r\n<\/script>\r\n\r\n<style>\r\n    .ui.input.atk-qb > input, .ui.input.atk-qb span > input, .ui.form .input.atk-qb {\r\n        padding: 6px;\r\n    }\r\n    .ui.grid > .row.atk-qb {\r\n        padding: 8px 0px;\r\n        min-height: 62px;\r\n    }\r\n    .inline.fields.atk-qb, .ui.form .inline.fields.atk-qb {\r\n        margin: 0px;\r\n    }\r\n    .atk-qb-date-picker {\r\n        border: 1px solid rgba(34, 36, 38, 0.15);\r\n    }\r\n    input[type=input].atk-qb-date-picker:focus {\r\n        border-color: #85b7d9;\r\n    }\r\n    .ui.card.vqb-rule > .content {\r\n        padding-bottom: 0.5em;\r\n        padding-top: 0.5em;\r\n        background-color: #f3f4f5;\r\n    }\r\n</style>\r\n'],sourceRoot:""}]);const o=l},41791:(e,r,t)=>{"use strict";function n(e,r){for(var t=[],n={},i=0;i<r.length;i++){var a=r[i],l=a[0],o={id:e+":"+i,css:a[1],media:a[2],sourceMap:a[3]};n[l]?n[l].parts.push(o):t.push(n[l]={id:l,parts:[o]})}return t}t.d(r,{Z:()=>m});var i="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!i)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var a={},l=i&&(document.head||document.getElementsByTagName("head")[0]),o=null,u=0,s=!1,d=function(){},c=null,p="data-vue-ssr-id",v="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function m(e,r,t,i){s=t,c=i||{};var l=n(e,r);return h(l),function(r){for(var t=[],i=0;i<l.length;i++){var o=l[i];(u=a[o.id]).refs--,t.push(u)}r?h(l=n(e,r)):l=[];for(i=0;i<t.length;i++){var u;if(0===(u=t[i]).refs){for(var s=0;s<u.parts.length;s++)u.parts[s]();delete a[u.id]}}}}function h(e){for(var r=0;r<e.length;r++){var t=e[r],n=a[t.id];if(n){n.refs++;for(var i=0;i<n.parts.length;i++)n.parts[i](t.parts[i]);for(;i<t.parts.length;i++)n.parts.push(b(t.parts[i]));n.parts.length>t.parts.length&&(n.parts.length=t.parts.length)}else{var l=[];for(i=0;i<t.parts.length;i++)l.push(b(t.parts[i]));a[t.id]={id:t.id,refs:1,parts:l}}}}function f(){var e=document.createElement("style");return e.type="text/css",l.appendChild(e),e}function b(e){var r,t,n=document.querySelector("style["+p+'~="'+e.id+'"]');if(n){if(s)return d;n.parentNode.removeChild(n)}if(v){var i=u++;n=o||(o=f()),r=g.bind(null,n,i,!1),t=g.bind(null,n,i,!0)}else n=f(),r=q.bind(null,n),t=function(){n.parentNode.removeChild(n)};return r(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap)return;r(e=n)}else t()}}var A,y=(A=[],function(e,r){return A[e]=r,A.filter(Boolean).join("\n")});function g(e,r,t,n){var i=t?"":n.css;if(e.styleSheet)e.styleSheet.cssText=y(r,i);else{var a=document.createTextNode(i),l=e.childNodes;l[r]&&e.removeChild(l[r]),l.length?e.insertBefore(a,l[r]):e.appendChild(a)}}function q(e,r){var t=r.css,n=r.media,i=r.sourceMap;if(n&&e.setAttribute("media",n),c.ssrId&&e.setAttribute(p,r.id),i&&(t+="\n/*# sourceURL="+i.sources[0]+" */",t+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */"),e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}},29859:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>o});var n=t(75701),i=t.n(n),a=t(28736),l={insert:"head",singleton:!1};i()(a.Z,l);const o=a.Z.locals||{}},6035:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>o});var n=t(75701),i=t.n(n),a=t(22522),l={insert:"head",singleton:!1};i()(a.Z,l);const o=a.Z.locals||{}},54796:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>A});var n=function(){var e=this,r=e._self._c;return r("div",{},[r("input",{attrs:{form:e.form,name:e.name,type:"hidden"},domProps:{value:e.value}}),e._v(" "),r("vue-query-builder",{attrs:{rules:e.rules,maxDepth:e.maxDepth,labels:e.labels},scopedSlots:e._u([{key:"default",fn:function(t){return[r("query-builder-group",e._b({attrs:{query:e.query},on:{"update:query":function(r){e.query=r}}},"query-builder-group",t,!1))]}}]),model:{value:e.query,callback:function(r){e.query=r},expression:"query"}}),e._v(" "),e.debug?[r("pre",[e._v(e._s(JSON.stringify(this.query,null,2)))])]:e._e()],2)};n._withStripped=!0;var i=t(55653),a=t.n(i),l=(t(74659),t(26576),function(){var e=this,r=e._self._c;return r("div",{staticClass:"vqb-group ui fluid card",class:[e.labels.spaceRule,"depth-"+e.depth.toString()]},[r("div",{staticClass:"vbq-group-heading content",class:"depth-"+e.depth.toString()},[r("div",{staticClass:"ui grid"},[r("div",{staticClass:"fourteen wide column"},[r("div",{staticClass:"ui horizontal list"},[r("div",{staticClass:"item"},[r("h4",{staticClass:"ui inline"},[e._v(e._s(e.labels.matchType))])]),e._v(" "),r("div",{staticClass:"item"},[r("select",{directives:[{name:"model",rawName:"v-model",value:e.query.logicalOperator,expression:"query.logicalOperator"}],staticClass:"atk-qb-select",on:{change:function(r){var t=Array.prototype.filter.call(r.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.query,"logicalOperator",r.target.multiple?t:t[0])}}},e._l(e.labels.matchTypes,(function(t){return r("option",{key:t.id,domProps:{value:t.id}},[e._v(e._s(t.label))])})),0)]),e._v(" "),r("div",{staticClass:"item"},[r("div",{staticClass:"rule-actions"},[r("div",[r("sui-dropdown",{staticClass:"ui mini basic button atk-qb-rule-select",attrs:{text:e.labels.addRule,selection:""}},[r("sui-dropdown-menu",{staticClass:"atk-qb-rule-select-menu"},e._l(e.rules,(function(t){return r("sui-dropdown-item",{key:t.id,attrs:{value:t},on:{click:function(r){return e.addNewRule(t.id)}}},[e._v(e._s(t.label))])})),1)],1),e._v(" "),e.depth<e.maxDepth?r("button",{staticClass:"ui mini basic button",attrs:{type:"button"},on:{click:e.addGroup}},[e._v(e._s(e.labels.addGroup))]):e._e()],1)])])])]),e._v(" "),r("div",{staticClass:"two wide right aligned column"},[e.depth>1?r("i",{staticClass:"atk-qb-remove",class:e.labels.removeGroupClass,on:{click:e.remove}}):e._e()])])]),e._v(" "),r("div",{staticClass:"vbq-group-body content"},[r("query-builder-children",e._b({},"query-builder-children",e.$props,!1))],1)])});l._withStripped=!0;t(67242),t(90170),t(42359);var o=t(76042),u=t.n(o),s=function(){var e=this,r=e._self._c;return r("div",{staticClass:"vqb-rule ui fluid card",class:e.labels.spaceRule,attrs:{"data-name":e.rule.id}},[r("div",{staticClass:"content"},[r("div",{staticClass:"ui grid"},[r("div",{staticClass:"middle aligned row atk-qb"},[r("div",{staticClass:"thirteen wide column"},[r("div",{staticClass:"ui horizontal list"},[r("div",{staticClass:"item vqb-rule-label"},[r("h5",{},[e._v(e._s(e.rule.label))])]),e._v(" "),void 0!==e.rule.operands?r("div",{staticClass:"item vqb-rule-operand"},[r("select",{directives:[{name:"model",rawName:"v-model",value:e.query.operand,expression:"query.operand"}],staticClass:"atk-qb-select",on:{change:function(r){var t=Array.prototype.filter.call(r.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.query,"operand",r.target.multiple?t:t[0])}}},e._l(e.rule.operands,(function(t){return r("option",{key:t},[e._v(e._s(t))])})),0)]):e._e(),e._v(" "),void 0!==e.rule.operators&&e.rule.operators.length>1?r("div",{staticClass:"item vqb-rule-operator"},[r("select",{directives:[{name:"model",rawName:"v-model",value:e.query.operator,expression:"query.operator"}],staticClass:"atk-qb-select",on:{change:function(r){var t=Array.prototype.filter.call(r.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.query,"operator",r.target.multiple?t:t[0])}}},e._l(e.rule.operators,(function(t){return r("option",{key:t,domProps:{value:t}},[e._v("\n                                    "+e._s(t)+"\n                                ")])})),0)]):e._e(),e._v(" "),r("div",{staticClass:"item vqb-rule-input"},[e.canDisplay("input")?[r("div",{staticClass:"ui small input atk-qb"},["checkbox"===e.rule.inputType?r("input",{directives:[{name:"model",rawName:"v-model",value:e.query.value,expression:"query.value"}],attrs:{placeholder:e.labels.textInputPlaceholder,type:"checkbox"},domProps:{checked:Array.isArray(e.query.value)?e._i(e.query.value,null)>-1:e.query.value},on:{change:function(r){var t=e.query.value,n=r.target,i=!!n.checked;if(Array.isArray(t)){var a=e._i(t,null);n.checked?a<0&&e.$set(e.query,"value",t.concat([null])):a>-1&&e.$set(e.query,"value",t.slice(0,a).concat(t.slice(a+1)))}else e.$set(e.query,"value",i)}}}):"radio"===e.rule.inputType?r("input",{directives:[{name:"model",rawName:"v-model",value:e.query.value,expression:"query.value"}],attrs:{placeholder:e.labels.textInputPlaceholder,type:"radio"},domProps:{checked:e._q(e.query.value,null)},on:{change:function(r){return e.$set(e.query,"value",null)}}}):r("input",{directives:[{name:"model",rawName:"v-model",value:e.query.value,expression:"query.value"}],attrs:{placeholder:e.labels.textInputPlaceholder,type:e.rule.inputType},domProps:{value:e.query.value},on:{input:function(r){r.target.composing||e.$set(e.query,"value",r.target.value)}}})])]:e._e(),e._v(" "),e.canDisplay("checkbox")?[r("sui-form-fields",{staticClass:"atk-qb",attrs:{inline:""}},e._l(e.rule.choices,(function(t){return r("div",{key:t.value,staticClass:"field"},[r("sui-checkbox",{attrs:{label:t.label,radio:e.isRadio,value:t.value},model:{value:e.query.value,callback:function(r){e.$set(e.query,"value",r)},expression:"query.value"}})],1)})),0)]:e._e(),e._v(" "),e.canDisplay("select")?[r("select",{directives:[{name:"model",rawName:"v-model",value:e.query.value,expression:"query.value"}],staticClass:"atk-qb-select",on:{change:function(r){var t=Array.prototype.filter.call(r.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.query,"value",r.target.multiple?t:t[0])}}},e._l(e.rule.choices,(function(t){return r("option",{key:t.value,domProps:{value:t.value}},[e._v("\n                                        "+e._s(t.label)+"\n                                    ")])})),0)]:e._e(),e._v(" "),e.canDisplay("custom-component")?[r("div",{staticClass:"ui small input atk-qb"},[r(e.rule.component,{tag:"component",attrs:{config:e.rule.componentProps,value:e.query.value,optionalValue:e.query.option},on:{onChange:e.onChange,setDefault:e.onChange}})],1)]:e._e()],2)])]),e._v(" "),r("div",{staticClass:"right aligned three wide column"},[r("i",{staticClass:"atk-qb-remove",class:e.labels.removeRuleClass,on:{click:e.remove}})])])])])])};s._withStripped=!0;var d=t(71790),c=t.n(d),p=t(30901),v=t(49880);const m={extends:c(),components:{"atk-date-picker":p.Z,"atk-lookup":v.Z},data:function(){return{}},inject:["getRootData"],computed:{isInput:function(){return"text"===this.rule.type||"numeric"===this.rule.type},isComponent:function(){return"custom-component"===this.rule.type},isRadio:function(){return"radio"===this.rule.type},isCheckbox:function(){return"checkbox"===this.rule.type||this.isRadio},isSelect:function(){return"select"===this.rule.type}},methods:{canDisplay:function(e){if(this.labels.hiddenOperator.includes(this.query.operator))return!1;switch(e){case"input":return this.isInput;case"checkbox":return this.isCheckbox;case"select":return this.isSelect;case"custom-component":return this.isComponent;default:return!1}},onChange:function(e){this.query.value=e}}};t(14219);function h(e,r,t,n,i,a,l,o){var u,s="function"==typeof e?e.options:e;if(r&&(s.render=r,s.staticRenderFns=t,s._compiled=!0),n&&(s.functional=!0),a&&(s._scopeId="data-v-"+a),l?(u=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(l)},s._ssrRegister=u):i&&(u=o?function(){i.call(this,(s.functional?this.parent:this).$root.$options.shadowRoot)}:i),u)if(s.functional){s._injectStyles=u;var d=s.render;s.render=function(e,r){return u.call(r),d(e,r)}}else{var c=s.beforeCreate;s.beforeCreate=c?[].concat(c,u):[u]}return{exports:e,options:s}}const f={name:"QueryBuilderGroup",components:{QueryBuilderRule:h(m,s,[],!1,null,null,null).exports},data:function(){return{selectedSuiRule:null}},methods:{addNewRule:function(e){this.selectedRule=this.rules.filter((r=>r.id===e))[0],this.selectedRule&&this.addRule()}},computed:{dropdownRules:function(){return this.rules.map((e=>({key:e.id,text:e.label,value:e.id})))}},extends:u()};t(3890);const b=h(f,l,[],!1,null,null,null).exports;const A=h({name:"query-builder",components:{VueQueryBuilder:a(),QueryBuilderGroup:b},props:{data:Object},data:function(){return{query:this.data.query?this.data.query:{},rules:this.data.rules?this.data.rules:[],name:this.data.name?this.data.name:"",maxDepth:this.data.maxDepth?this.data.maxDepth<=10?this.data.maxDepth:10:1,labels:this.getLabels(this.data.labels),form:this.data.form,debug:!!this.data.debug&&this.data.debug}},computed:{value:function(){return JSON.stringify(this.query,null)}},methods:{getLabels:function(e){return e=e||{},{matchType:"Match Type",matchTypes:[{id:"AND",label:"And"},{id:"OR",label:"Or"}],addRule:"Add Rule",removeRuleClass:"small icon times",addGroup:"Add Group",removeGroupClass:"small icon times",textInputPlaceholder:"value",spaceRule:"fitted",hiddenOperator:["is empty","is not empty"],...e}}}},n,[],!1,null,null,null).exports},3890:(e,r,t)=>{var n=t(29859);n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals);(0,t(41791).Z)("619f3b8a",n,!1,{})},14219:(e,r,t)=>{var n=t(6035);n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals);(0,t(41791).Z)("8cfec0aa",n,!1,{})}}]);
//# sourceMappingURL=atk-vue-query-builder.min.js.map