"use strict";(self.webpackChunkatk=self.webpackChunkatk||[]).push([[662],{30901:(e,t,n)=>{n.d(t,{Z:()=>o});const o={name:"AtkDatePicker",template:'\n        <FlatpickrPicker\n            :config="flatPickr"\n            :modelValue="getFlatpickrValue(modelValue)"\n            @update:modelValue="onUpdate"\n        />',props:["config","modelValue"],data:function(){const{useDefault:e,...t}=this.config;return!e||t.defaultDate||this.modelValue?this.modelValue&&(t.defaultDate=this.modelValue):t.defaultDate=new Date,t.locale||(t.locale=flatpickr.l10ns.default),{flatPickr:t}},emits:["setDefault"],mounted:function(){!this.modelValue&&this.flatPickr.defaultDate&&this.onUpdate(this.flatPickr.defaultDate instanceof Date?flatpickr.formatDate(this.config.defaultDate,this.config.dateFormat):this.flatPickr.defaultDate)},methods:{getFlatpickrValue:function(e){return e},onUpdate:function(e){this.$emit("update:modelValue",e)}}}},49880:(e,t,n)=>{n.d(t,{Z:()=>l});n(59668),n(90170),n(62052);var o=n(86157);const l={name:"AtkLookup",template:'\n        <SuiDropdown\n            v-bind="dropdownProps"\n            ref="drop"\n            :modelValue="getDropdownValue(modelValue)"\n            @update:modelValue="onUpdate"\n            @filtered="onFiltered"\n        ></SuiDropdown>',props:["config","modelValue","optionalValue"],data:function(){const{url:e,reference:t,...n}=this.config;return n.selection=!0,{dropdownProps:n,url:e||null,isLoading:!1,field:t,query:"",temp:""}},mounted:function(){this.optionalValue&&(this.dropdownProps.options=Array.isArray(this.optionalValue)?this.optionalValue:[this.optionalValue])},emits:["update:modelValue"],methods:{getDropdownValue:function(e){return this.dropdownProps.options.find((t=>t.value===e))},onUpdate:function(e){this.$emit("update:modelValue",e.value)},onFiltered:function(e){e&&(this.isLoading=!0),this.onFiltered.debouncedFx||(this.onFiltered.debouncedFx=o.Z.createDebouncedFx((()=>{this.onFiltered.debouncedFx=null,this.query!==this.temp&&(this.query=this.temp,this.query&&this.fetchItems(this.query))}),250)),this.temp=e,this.onFiltered.debouncedFx(this)},fetchItems:async function(e){try{const t={atkVueLookupQuery:e,atkVueLookupField:this.field},n=await o.Z.apiService.suiFetch(this.url,{method:"get",data:t});n.success&&(this.dropdownProps.options=n.results)}catch(e){console.error(e)}finally{this.isLoading=!1}}}}},95951:(e,t,n)=>{n.d(t,{Z:()=>i});var o=n(51864),l=n.n(o),r=n(60352),a=n.n(r)()(l());a.push([e.id,"\n.vue-query-builder .vqb-group .rule-actions {\n  margin-bottom: 20px;\n}\n.vue-query-builder .vqb-rule {\n  margin-top: 15px;\n  margin-bottom: 15px;\n  background-color: #f5f5f5;\n  border-color: #ddd;\n  padding: 15px;\n}\n.vue-query-builder .vqb-group.depth-1 .vqb-rule,\n.vue-query-builder .vqb-group.depth-2 {\n  border-left: 2px solid #8bc34a;\n}\n.vue-query-builder .vqb-group.depth-2 .vqb-rule,\n.vue-query-builder .vqb-group.depth-3 {\n  border-left: 2px solid #00bcd4;\n}\n.vue-query-builder .vqb-group.depth-3 .vqb-rule,\n.vue-query-builder .vqb-group.depth-4 {\n  border-left: 2px solid #ff5722;\n}\n.vue-query-builder .close {\n  opacity: 1;\n  color: rgb(150, 150, 150);\n}\n@media (min-width: 768px) {\n.vue-query-builder .vqb-rule.form-inline .form-group {\n    display: block;\n}\n}\n","",{version:3,sources:["webpack://./node_modules/vue-query-builder/src/layouts/Bootstrap5/Bootstrap5Group.vue"],names:[],mappings:";AA0FA;EACE,mBAAmB;AACrB;AAEA;EACE,gBAAgB;EAChB,mBAAmB;EACnB,yBAAyB;EACzB,kBAAkB;EAClB,aAAa;AACf;AAEA;;EAEE,8BAA8B;AAChC;AAEA;;EAEE,8BAA8B;AAChC;AAEA;;EAEE,8BAA8B;AAChC;AAEA;EACE,UAAU;EACV,yBAAyB;AAC3B;AAEA;AACE;IACE,cAAc;AAChB;AACF",sourcesContent:['<template>\n  \x3c!-- eslint-disable vue/no-v-html --\x3e\n  <div class="vqb-group card" :class="\'depth-\' + depth.toString()">\n    <div class="vqb-group-heading card-header">\n      <div class="match-type-container row gy-2 gx-3 align-items-center">\n        <div class="col-auto">\n          <label class="me-2" for="vqb-match-type">\n            {{ labels.matchType }}\n          </label>\n        </div>\n        <div class="col-auto">\n          <select\n            id="vqb-match-type"\n            v-model="query.logicalOperator"\n            class="form-select"\n          >\n            <option\n              v-for="label in labels.matchTypes"\n              :key="label.id"\n              :value="label.id"\n            >\n              {{ label.label }}\n            </option>\n          </select>\n        </div>\n        <div class="col-auto" v-if="depth > 1">\n          <button\n            type="button"\n            class="btn-close btn-small"\n            @click="remove"\n          ></button>\n        </div>\n      </div>\n    </div>\n\n    <div class="vqb-group-body card-body">\n      <div class="rule-actions">\n        <div class="row gy-2 gx-3 align-items-center">\n          <div class="col-auto">\n            <select\n              :value="selectedRuleId"\n              @input="updateRule"\n              class="form-select me-2"\n            >\n              <option v-for="rule in rules" :key="rule.id" :value="rule.id">\n                {{ rule.label }}\n              </option>\n            </select>\n          </div>\n          <div class="col-auto">\n            <button\n              type="button"\n              class="btn btn-secondary me-2"\n              @click="addRule"\n            >\n              {{ labels.addRule }}\n            </button>\n          </div>\n          <div class="col-auto">\n            <button\n              v-if="depth < maxDepth"\n              type="button"\n              class="btn btn-secondary"\n              @click="addGroup"\n            >\n              {{ labels.addGroup }}\n            </button>\n          </div>\n        </div>\n      </div>\n\n      <query-builder-children v-bind="$props" />\n    </div>\n  </div>\n</template>\n\n<script>\nimport QueryBuilderGroup from "../../components/QueryBuilderGroup";\nimport QueryBuilderChildren from "../../components/QueryBuilderChildren";\nexport default {\n  name: "QueryBuilderGroup",\n\n  components: { QueryBuilderChildren },\n\n  extends: QueryBuilderGroup,\n  methods: {},\n};\n<\/script>\n\n<style>\n.vue-query-builder .vqb-group .rule-actions {\n  margin-bottom: 20px;\n}\n\n.vue-query-builder .vqb-rule {\n  margin-top: 15px;\n  margin-bottom: 15px;\n  background-color: #f5f5f5;\n  border-color: #ddd;\n  padding: 15px;\n}\n\n.vue-query-builder .vqb-group.depth-1 .vqb-rule,\n.vue-query-builder .vqb-group.depth-2 {\n  border-left: 2px solid #8bc34a;\n}\n\n.vue-query-builder .vqb-group.depth-2 .vqb-rule,\n.vue-query-builder .vqb-group.depth-3 {\n  border-left: 2px solid #00bcd4;\n}\n\n.vue-query-builder .vqb-group.depth-3 .vqb-rule,\n.vue-query-builder .vqb-group.depth-4 {\n  border-left: 2px solid #ff5722;\n}\n\n.vue-query-builder .close {\n  opacity: 1;\n  color: rgb(150, 150, 150);\n}\n\n@media (min-width: 768px) {\n  .vue-query-builder .vqb-rule.form-inline .form-group {\n    display: block;\n  }\n}\n</style>\n'],sourceRoot:""}]);const i=a},56418:(e,t,n)=>{n.d(t,{Z:()=>i});var o=n(51864),l=n.n(o),r=n(60352),a=n.n(r)()(l());a.push([e.id,"\n.vue-query-builder .vqb-group .rule-actions {\n        margin-bottom: 0px;\n}\n.vue-query-builder .vqb-rule {\n        margin-top: 0px;\n        margin-bottom: 0px;\n        padding: 0px;\n}\n.atk-qb-select, .ui.form select.atk-qb-select {\n       padding: 2px 6px 4px 4px;\n}\n.atk-qb-remove {\n        cursor: pointer;\n        color: rgba(0, 0, 0, 0.6);\n}\n.ui.selection.dropdown.atk-qb-rule-select {\n        background-color: rgba(0, 0, 0, 0);\n}\n.ui.selection.dropdown .atk-qb-rule-select-menu {\n        width: max-content;\n        z-index: 1000;\n}\n.vbq-group-heading > .ui.grid > .column:not(.row) {\n        padding-bottom: 0.5em;\n        padding-top: 0.5em;\n}\n.vue-query-builder .ui.card.compact {\n        margin-top: 0.5em;\n        margin-bottom: 0.5em;\n}\n.vue-query-builder .ui.card.fitted {\n        margin-top: 0em;\n        margin-bottom: 0em;\n}\n.vue-query-builder .ui.card.padded {\n        margin-top: 1em;\n        margin-bottom: 1em;\n}\n.ui.card > .vbq-group-heading.content {\n        background-color: #f3f4f5;\n}\n.vue-query-builder .vqb-group.depth-1 .vqb-rule,\n    .vue-query-builder .vqb-group.depth-2 {\n        border-left: 2px solid #8bc34a;\n}\n.vue-query-builder .vqb-group.depth-2 .vqb-rule,\n    .vue-query-builder .vqb-group.depth-3 {\n        border-left: 2px solid #00bcd4;\n}\n.vue-query-builder .vqb-group.depth-3 .vqb-rule,\n    .vue-query-builder .vqb-group.depth-4 {\n        border-left: 2px solid #ff5722;\n}\n","",{version:3,sources:["webpack://./src/vue-components/query-builder/fomantic-ui-group.component.vue"],names:[],mappings:";AAuGI;QACI,kBAAkB;AACtB;AAEA;QACI,eAAe;QACf,kBAAkB;QAClB,YAAY;AAChB;AAEA;OACG,wBAAwB;AAC3B;AACA;QACI,eAAe;QACf,yBAAyB;AAC7B;AACA;QACI,kCAAkC;AACtC;AACA;QACI,kBAAkB;QAClB,aAAa;AACjB;AACA;QACI,qBAAqB;QACrB,kBAAkB;AACtB;AACA;QACI,iBAAiB;QACjB,oBAAoB;AACxB;AACA;QACI,eAAe;QACf,kBAAkB;AACtB;AACA;QACI,eAAe;QACf,kBAAkB;AACtB;AACA;QACI,yBAAyB;AAC7B;AACA;;QAEI,8BAA8B;AAClC;AACA;;QAEI,8BAA8B;AAClC;AACA;;QAEI,8BAA8B;AAClC",sourcesContent:['<template>\n    <div\n        class="vqb-group ui fluid card"\n        :class="[labels.spaceRule, \'depth-\' + depth]"\n    >\n        <div\n            class="vbq-group-heading content"\n            :class="\'depth-\' + depth"\n        >\n            <div class="ui grid">\n                <div class="fourteen wide column">\n                    <div class="ui horizontal list">\n                        <div class="item">\n                            <h4 class="ui inline">\n                                {{ labels.matchType }}\n                            </h4>\n                        </div>\n                        <div class="item">\n                            <select\n                                v-model="query.logicalOperator"\n                                class="atk-qb-select"\n                            >\n                                <option\n                                    v-for="label in labels.matchTypes"\n                                    :key="label.id"\n                                    :value="label.id"\n                                >\n                                    {{ label.label }}\n                                </option>\n                            </select>\n                        </div>\n                        <div class="item">\n                            <div class="rule-actions">\n                                <div>\n                                    <SuiDropdown\n                                        :text="labels.addRule"\n                                        class="ui mini basic button atk-qb-rule-select"\n                                        selection\n                                    >\n                                        <SuiDropdownMenu class="atk-qb-rule-select-menu">\n                                            <SuiDropdownItem\n                                                v-for="rule in rules"\n                                                :key="rule.id"\n                                                :text="rule.label"\n                                                @click="addNewRule(rule.id)"\n                                            />\n                                        </SuiDropdownMenu>\n                                    </SuiDropdown>\n                                    <button\n                                        v-if="depth < maxDepth"\n                                        type="button"\n                                        class="ui mini basic button"\n                                        @click="addGroup"\n                                    >\n                                        {{ labels.addGroup }}\n                                    </button>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class="two wide right aligned column">\n                    <i\n                        v-if="depth > 1"\n                        class="atk-qb-remove"\n                        :class="labels.removeGroupClass"\n                        @click="remove"\n                    />\n                </div>\n            </div>\n        </div>\n        <div class="vbq-group-body content">\n            <QueryBuilderChildren v-bind="$props" />\n        </div>\n    </div>\n</template>\n\n<script>\nimport VueQueryBuilderGroup from \'vue-query-builder/src/components/QueryBuilderGroup\';\n\nexport default {\n    name: \'QueryBuilderGroup\',\n    extends: VueQueryBuilderGroup,\n    data: function () {\n        return {\n            selectedSuiRule: null,\n        };\n    },\n    methods: {\n        /**\n         * Add a new rule via Dropdown item.\n         */\n        addNewRule: function (ruleId) {\n            this.selectedRule = this.rules.find((rule) => rule.id === ruleId);\n            if (this.selectedRule) {\n                this.addRule();\n            }\n        },\n    },\n};\n<\/script>\n\n<style>\n    .vue-query-builder .vqb-group .rule-actions {\n        margin-bottom: 0px;\n    }\n\n    .vue-query-builder .vqb-rule {\n        margin-top: 0px;\n        margin-bottom: 0px;\n        padding: 0px;\n    }\n\n    .atk-qb-select, .ui.form select.atk-qb-select {\n       padding: 2px 6px 4px 4px;\n    }\n    .atk-qb-remove {\n        cursor: pointer;\n        color: rgba(0, 0, 0, 0.6);\n    }\n    .ui.selection.dropdown.atk-qb-rule-select {\n        background-color: rgba(0, 0, 0, 0);\n    }\n    .ui.selection.dropdown .atk-qb-rule-select-menu {\n        width: max-content;\n        z-index: 1000;\n    }\n    .vbq-group-heading > .ui.grid > .column:not(.row) {\n        padding-bottom: 0.5em;\n        padding-top: 0.5em;\n    }\n    .vue-query-builder .ui.card.compact {\n        margin-top: 0.5em;\n        margin-bottom: 0.5em;\n    }\n    .vue-query-builder .ui.card.fitted {\n        margin-top: 0em;\n        margin-bottom: 0em;\n    }\n    .vue-query-builder .ui.card.padded {\n        margin-top: 1em;\n        margin-bottom: 1em;\n    }\n    .ui.card > .vbq-group-heading.content {\n        background-color: #f3f4f5;\n    }\n    .vue-query-builder .vqb-group.depth-1 .vqb-rule,\n    .vue-query-builder .vqb-group.depth-2 {\n        border-left: 2px solid #8bc34a;\n    }\n    .vue-query-builder .vqb-group.depth-2 .vqb-rule,\n    .vue-query-builder .vqb-group.depth-3 {\n        border-left: 2px solid #00bcd4;\n    }\n    .vue-query-builder .vqb-group.depth-3 .vqb-rule,\n    .vue-query-builder .vqb-group.depth-4 {\n        border-left: 2px solid #ff5722;\n    }\n</style>\n'],sourceRoot:""}]);const i=a},20520:(e,t,n)=>{n.d(t,{Z:()=>i});var o=n(51864),l=n.n(o),r=n(60352),a=n.n(r)()(l());a.push([e.id,"\n.ui.input.atk-qb > input, .ui.input.atk-qb span > input, .ui.form .input.atk-qb {\n        padding: 6px;\n}\n.ui.grid > .row.atk-qb {\n        padding: 8px 0px;\n        min-height: 62px;\n}\n.inline.fields.atk-qb, .ui.form .inline.fields.atk-qb {\n        margin: 0px;\n}\n.atk-qb-date-picker {\n        border: 1px solid rgba(34, 36, 38, 0.15);\n}\ninput[type=input].atk-qb-date-picker:focus {\n        border-color: #85b7d9;\n}\n.ui.card.vqb-rule > .content {\n        padding-bottom: 0.5em;\n        padding-top: 0.5em;\n        background-color: #f3f4f5;\n}\n","",{version:3,sources:["webpack://./src/vue-components/query-builder/fomantic-ui-rule.component.vue"],names:[],mappings:";AA4LI;QACI,YAAY;AAChB;AACA;QACI,gBAAgB;QAChB,gBAAgB;AACpB;AACA;QACI,WAAW;AACf;AACA;QACI,wCAAwC;AAC5C;AACA;QACI,qBAAqB;AACzB;AACA;QACI,qBAAqB;QACrB,kBAAkB;QAClB,yBAAyB;AAC7B",sourcesContent:['<template>\n    <div\n        class="vqb-rule ui fluid card"\n        :class="labels.spaceRule"\n        :data-name="rule.id"\n    >\n        <div class="content">\n            <div class="ui grid">\n                <div class="middle aligned row atk-qb">\n                    <div class="thirteen wide column">\n                        <div class="ui horizontal list">\n                            <div class="item vqb-rule-label">\n                                <h5 class>\n                                    {{ rule.label }}\n                                </h5>\n                            </div>\n                            <div\n                                v-if="rule.operands !== undefined"\n                                class="item vqb-rule-operand"\n                            >\n                                <select\n                                    v-model="query.operand"\n                                    class="atk-qb-select"\n                                >\n                                    <option\n                                        v-for="operand in rule.operands"\n                                        :key="operand"\n                                    >\n                                        {{ operand }}\n                                    </option>\n                                </select>\n                            </div>\n                            <div\n                                v-if="rule.operators !== undefined && rule.operators.length > 1"\n                                class="item vqb-rule-operator"\n                            >\n                                <select\n                                    v-model="query.operator"\n                                    class="atk-qb-select"\n                                >\n                                    <option\n                                        v-for="operator in rule.operators"\n                                        :key="operator"\n                                        :value="operator"\n                                    >\n                                        {{ operator }}\n                                    </option>\n                                </select>\n                            </div>\n                            <div class="item vqb-rule-input">\n                                <template v-if="canDisplay(\'input\')">\n                                    <div class="ui small input atk-qb">\n                                        <input\n                                            v-model="query.value"\n                                            :type="rule.inputType"\n                                            :placeholder="labels.textInputPlaceholder"\n                                        >\n                                    </div>\n                                </template>\n                                <template v-if="canDisplay(\'checkbox\')">\n                                    \x3c!-- TODO <SuiFormFields --\x3e\n                                    <div\n                                        inline\n                                        class="atk-qb"\n                                    >\n                                        <div\n                                            v-for="choice in rule.choices"\n                                            :key="choice.value"\n                                            class="field"\n                                        >\n                                            \x3c!-- TODO radio support in https://github.com/nightswinger/vue-fomantic-ui/blob/v0.13.0/src/modules/Checkbox/Checkbox.tsx --\x3e\n                                            <SuiCheckbox\n                                                v-model="query.value"\n                                                :label="choice.label"\n                                                :radio="isRadio"\n                                                :value="choice.value"\n                                            />\n                                        </div>\n                                    \x3c!-- TODO </SuiFormFields> --\x3e\n                                    </div>\n                                </template>\n                                <template v-if="canDisplay(\'select\')">\n                                    <select\n                                        v-model="query.value"\n                                        class="atk-qb-select"\n                                    >\n                                        <option\n                                            v-for="choice in rule.choices"\n                                            :key="choice.value"\n                                            :value="choice.value"\n                                        >\n                                            {{ choice.label }}\n                                        </option>\n                                    </select>\n                                </template>\n                                <template v-if="canDisplay(\'custom-component\')">\n                                    <div class="ui small input atk-qb">\n                                        <component\n                                            :is="rule.component"\n                                            v-model="query.value"\n                                            :config="rule.componentProps"\n                                            :optionalValue="query.option"\n                                        />\n                                    </div>\n                                </template>\n                            </div>\n                        </div>\n                    </div>\n                    <div class="right aligned three wide column">\n                        <i\n                            :class="labels.removeRuleClass"\n                            class="atk-qb-remove"\n                            @click="remove"\n                        />\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport VueQueryBuilderRule from \'vue-query-builder/src/components/QueryBuilderRule\';\nimport AtkDatePicker from \'../share/atk-date-picker\';\nimport AtkLookup from \'../share/atk-lookup\';\n\nexport default {\n    components: {\n        AtkDatePicker: AtkDatePicker,\n        AtkLookup: AtkLookup,\n    },\n    extends: VueQueryBuilderRule,\n    inject: [\'getRootData\'],\n    data: function () {\n        return {};\n    },\n    computed: {\n        isInput: function () {\n            return this.rule.type === \'text\' || this.rule.type === \'numeric\';\n        },\n        isComponent: function () {\n            return this.rule.type === \'custom-component\';\n        },\n        isRadio: function () {\n            return this.rule.type === \'radio\';\n        },\n        isCheckbox: function () {\n            return this.rule.type === \'checkbox\' || this.isRadio;\n        },\n        isSelect: function () {\n            return this.rule.type === \'select\';\n        },\n    },\n    methods: {\n        /**\n         * Check if an input can be display in regards to:\n         * it\'s operator and then it\'s type.\n         *\n         * @returns {boolean}\n         */\n        canDisplay: function (type) {\n            if (this.labels.hiddenOperator.includes(this.query.operator)) {\n                return false;\n            }\n\n            switch (type) {\n                case \'input\': {\n                    return this.isInput;\n                }\n                case \'checkbox\': {\n                    return this.isCheckbox;\n                }\n                case \'select\': {\n                    return this.isSelect;\n                }\n                case \'custom-component\': {\n                    return this.isComponent;\n                }\n                default: {\n                    return false;\n                }\n            }\n        },\n    },\n};\n<\/script>\n\n<style>\n    .ui.input.atk-qb > input, .ui.input.atk-qb span > input, .ui.form .input.atk-qb {\n        padding: 6px;\n    }\n    .ui.grid > .row.atk-qb {\n        padding: 8px 0px;\n        min-height: 62px;\n    }\n    .inline.fields.atk-qb, .ui.form .inline.fields.atk-qb {\n        margin: 0px;\n    }\n    .atk-qb-date-picker {\n        border: 1px solid rgba(34, 36, 38, 0.15);\n    }\n    input[type=input].atk-qb-date-picker:focus {\n        border-color: #85b7d9;\n    }\n    .ui.card.vqb-rule > .content {\n        padding-bottom: 0.5em;\n        padding-top: 0.5em;\n        background-color: #f3f4f5;\n    }\n</style>\n'],sourceRoot:""}]);const i=a},60352:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",o=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),o&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),o&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,o,l,r){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(o)for(var i=0;i<this.length;i++){var u=this[i][0];null!=u&&(a[u]=!0)}for(var c=0;c<e.length;c++){var s=[].concat(e[c]);o&&a[s[0]]||(void 0!==r&&(void 0===s[5]||(s[1]="@layer".concat(s[5].length>0?" ".concat(s[5]):""," {").concat(s[1],"}")),s[5]=r),n&&(s[2]?(s[1]="@media ".concat(s[2]," {").concat(s[1],"}"),s[2]=n):s[2]=n),l&&(s[4]?(s[1]="@supports (".concat(s[4],") {").concat(s[1],"}"),s[4]=l):s[4]="".concat(l)),t.push(s))}},t}},51864:e=>{e.exports=function(e){var t=e[1],n=e[3];if(!n)return t;if("function"==typeof btoa){var o=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),l="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(o),r="/*# ".concat(l," */"),a=n.sources.map((function(e){return"/*# sourceURL=".concat(n.sourceRoot||"").concat(e," */")}));return[t].concat(a).concat([r]).join("\n")}return[t].join("\n")}},75701:e=>{var t=[];function n(e){for(var n=-1,o=0;o<t.length;o++)if(t[o].identifier===e){n=o;break}return n}function o(e,o){for(var r={},a=[],i=0;i<e.length;i++){var u=e[i],c=o.base?u[0]+o.base:u[0],s=r[c]||0,d="".concat(c," ").concat(s);r[c]=s+1;var p=n(d),m={css:u[1],media:u[2],sourceMap:u[3],supports:u[4],layer:u[5]};if(-1!==p)t[p].references++,t[p].updater(m);else{var v=l(m,o);o.byIndex=i,t.splice(i,0,{identifier:d,updater:v,references:1})}a.push(d)}return a}function l(e,t){var n=t.domAPI(t);n.update(e);return function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,l){var r=o(e=e||[],l=l||{});return function(e){e=e||[];for(var a=0;a<r.length;a++){var i=n(r[a]);t[i].references--}for(var u=o(e,l),c=0;c<r.length;c++){var s=n(r[c]);0===t[s].references&&(t[s].updater(),t.splice(s,1))}r=u}}},6080:e=>{var t={};e.exports=function(e,n){var o=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(n)}},87182:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},56850:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},8236:e=>{e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var o="";n.supports&&(o+="@supports (".concat(n.supports,") {")),n.media&&(o+="@media ".concat(n.media," {"));var l=void 0!==n.layer;l&&(o+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),o+=n.css,l&&(o+="}"),n.media&&(o+="}"),n.supports&&(o+="}");var r=n.sourceMap;r&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),t.styleTagTransform(o,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},39213:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},79586:(e,t,n)=>{n.r(t),n.d(t,{default:()=>ct});var o=n(763);const l={class:""},r=["form","name","value"],a={key:0};const i={class:"vue-query-builder"};const u={class:"vqb-group-heading card-header"},c={class:"match-type-container row gy-2 gx-3 align-items-center"},s={class:"col-auto"},d={class:"me-2",for:"vqb-match-type"},p={class:"col-auto"},m=["value"],v={key:0,class:"col-auto"},b={class:"vqb-group-body card-body"},h={class:"rule-actions"},y={class:"row gy-2 gx-3 align-items-center"},f={class:"col-auto"},k=["value"],g=["value"],q={class:"col-auto"},A={class:"col-auto"};const B=function(e){if(Array.isArray(e))return e.map(B);if(e&&"object"==typeof e){for(var t={},n=Object.keys(e),o=0,l=n.length;o<l;o++){var r=n[o];t[r]=B(e[r])}return t}return e},C=B,x={class:"vqb-children"};const V={props:["query","ruleTypes","rules","maxDepth","labels","depth","groupComponent","ruleComponent"],methods:{getComponent(e){return"query-builder-group"===e?this.groupComponent:this.ruleComponent}}};var E=n(51419);const N=(0,E.Z)(V,[["render",function(e,t,n,l,r,a){return(0,o.openBlock)(),(0,o.createElementBlock)("div",x,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(n.query.children,((t,l)=>((0,o.openBlock)(),(0,o.createBlock)((0,o.resolveDynamicComponent)(a.getComponent(t.type)),{key:l,type:t.type,query:t.query,"onUpdate:query":e=>t.query=e,"rule-types":n.ruleTypes,rules:n.rules,rule:e.$parent.ruleById(t.query.rule),index:l,"max-depth":n.maxDepth,depth:n.depth+1,labels:n.labels,onChildDeletionRequested:e.$parent.removeChild,groupComponent:n.groupComponent,ruleComponent:n.ruleComponent},null,40,["type","query","onUpdate:query","rule-types","rules","rule","index","max-depth","depth","labels","onChildDeletionRequested","groupComponent","ruleComponent"])))),128))])}]]),D={components:{QueryBuilderChildren:N},props:{ruleTypes:Object,type:{type:String,default:"query-builder-group"},query:Object,rules:Array,index:Number,maxDepth:Number,depth:Number,labels:Object,groupComponent:Object,ruleComponent:Object},data(){return{selectedRule:this.rules[0]}},watch:{rules:function(){this.rules&&(this.selectedRule=this.rules[0])}},computed:{selectedRuleId:function(){return this.selectedRule?this.selectedRule.id:null}},methods:{ruleById(e){var t=null;return this.rules.forEach((function(n){if(n.id===e)return t=n,!1})),t},addRule(){let e=C(this.query),t={type:"query-builder-rule",query:{rule:this.selectedRule.id,operator:this.selectedRule.operators[0],operand:void 0===this.selectedRule.operands?this.selectedRule.label:this.selectedRule.operands[0],value:null}};"multi-select"===this.ruleById(t.query.rule).type&&(t.query.value=[]),e.children.push(t),this.$emit("update:query",e)},addGroup(){let e=C(this.query);this.depth<this.maxDepth&&(e.children.push({type:"query-builder-group",query:{logicalOperator:this.labels.matchTypes[0].id,children:[]}}),this.$emit("update:query",e))},remove(){this.$emit("child-deletion-requested",this.index)},removeChild(e){let t=C(this.query);t.children.splice(e,1),this.$emit("update:query",t)},updateRule:function(e){const t=e.target.selectedOptions[0].value;this.selectedRule=this.ruleById(t)}}},w=(0,E.Z)(D,[["render",function(e,t,n,l,r,a){return(0,o.openBlock)(),(0,o.createElementBlock)("div")}]]),R={name:"QueryBuilderGroup",components:{QueryBuilderChildren:N},extends:w,methods:{}};var S=n(75701),T=n.n(S),O=n(8236),Q=n.n(O),I=n(6080),F=n.n(I),L=n(56850),P=n.n(L),G=n(87182),U=n.n(G),Z=n(39213),M=n.n(Z),j=n(95951),$={};$.styleTagTransform=M(),$.setAttributes=P(),$.insert=F().bind(null,"head"),$.domAPI=Q(),$.insertStyleElement=U();T()(j.Z,$);j.Z&&j.Z.locals&&j.Z.locals;const z=(0,E.Z)(R,[["render",function(e,t,n,l,r,a){const i=(0,o.resolveComponent)("query-builder-children");return(0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,null,[(0,o.createCommentVNode)(" eslint-disable vue/no-v-html "),(0,o.createElementVNode)("div",{class:(0,o.normalizeClass)(["vqb-group card","depth-"+e.depth.toString()])},[(0,o.createElementVNode)("div",u,[(0,o.createElementVNode)("div",c,[(0,o.createElementVNode)("div",s,[(0,o.createElementVNode)("label",d,(0,o.toDisplayString)(e.labels.matchType),1)]),(0,o.createElementVNode)("div",p,[(0,o.withDirectives)((0,o.createElementVNode)("select",{id:"vqb-match-type","onUpdate:modelValue":t[0]||(t[0]=t=>e.query.logicalOperator=t),class:"form-select"},[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.labels.matchTypes,(e=>((0,o.openBlock)(),(0,o.createElementBlock)("option",{key:e.id,value:e.id},(0,o.toDisplayString)(e.label),9,m)))),128))],512),[[o.vModelSelect,e.query.logicalOperator]])]),e.depth>1?((0,o.openBlock)(),(0,o.createElementBlock)("div",v,[(0,o.createElementVNode)("button",{type:"button",class:"btn-close btn-small",onClick:t[1]||(t[1]=(...t)=>e.remove&&e.remove(...t))})])):(0,o.createCommentVNode)("v-if",!0)])]),(0,o.createElementVNode)("div",b,[(0,o.createElementVNode)("div",h,[(0,o.createElementVNode)("div",y,[(0,o.createElementVNode)("div",f,[(0,o.createElementVNode)("select",{value:e.selectedRuleId,onInput:t[2]||(t[2]=(...t)=>e.updateRule&&e.updateRule(...t)),class:"form-select me-2"},[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.rules,(e=>((0,o.openBlock)(),(0,o.createElementBlock)("option",{key:e.id,value:e.id},(0,o.toDisplayString)(e.label),9,g)))),128))],40,k)]),(0,o.createElementVNode)("div",q,[(0,o.createElementVNode)("button",{type:"button",class:"btn btn-secondary me-2",onClick:t[3]||(t[3]=(...t)=>e.addRule&&e.addRule(...t))},(0,o.toDisplayString)(e.labels.addRule),1)]),(0,o.createElementVNode)("div",A,[e.depth<e.maxDepth?((0,o.openBlock)(),(0,o.createElementBlock)("button",{key:0,type:"button",class:"btn btn-secondary",onClick:t[4]||(t[4]=(...t)=>e.addGroup&&e.addGroup(...t))},(0,o.toDisplayString)(e.labels.addGroup),1)):(0,o.createCommentVNode)("v-if",!0)])])]),(0,o.createVNode)(i,(0,o.normalizeProps)((0,o.guardReactiveProps)(e.$props)),null,16)])],2)],2112)}]]),J={class:"vqb-rule card"},Y={class:"row gy-2 gx-3 align-items-center card-body"},_={class:"col-auto"},H={key:0,class:"col-auto"},W={key:1,class:"col-auto"},K=["value"],X={key:2,class:"col-auto"},ee=["placeholder"],te={key:3,class:"col-auto"},ne={key:4,class:"col-auto"},oe={key:5,class:"col-auto vqb-custom-component-wrap"},le={key:6,class:"col-auto"},re=["id","value"],ae=["for"],ie={key:7,class:"col-auto"},ue=["id","name","value"],ce=["for"],se={key:8,class:"col-auto"},de=["multiple"],pe=["value"],me={key:9,class:"col-auto"},ve=["multiple"],be=["label"],he=["value"],ye={class:"col-auto d-flex"};const fe={props:["query","index","rule","labels","depth"],components:{},computed:{isCustomComponent(){return"custom-component"===this.rule.type},selectOptions(){return void 0===this.rule.choices?{}:this.rule.choices.reduce((function(e,t,n){let o=t.group;return void 0!==o?(e[o]=e[o]||[],e[o].push(t)):e[n]=t,e}),{})},hasOptionGroups(){return this.selectOptions.length&&Array.isArray(this.selectOptions[0])}},beforeMount(){"custom-component"===this.rule.type&&(this.$options.components[this.id]=this.rule.component)},mounted(){let e=C(this.query);null===this.query.value&&("checkbox"===this.rule.inputType&&(e.value=[]),"select"===this.rule.type&&(e.value=this.rule.choices[0].value),"custom-component"===this.rule.type&&(e.value=null,void 0!==this.rule.default&&(e.value=C(this.rule.default))),this.$emit("update:query",e))},methods:{remove:function(){this.$emit("child-deletion-requested",this.index)},updateQuery(e){console.log(e);let t=C(this.query);t.value=e,this.$emit("update:query",t)}}},ke=(0,E.Z)(fe,[["render",function(e,t,n,l,r,a){return(0,o.openBlock)(),(0,o.createElementBlock)("div")}]]),ge={extends:ke};var qe={matchType:"Match Type",matchTypes:[{id:"all",label:"All"},{id:"any",label:"Any"}],addRule:"Add Rule",removeRule:"&times;",addGroup:"Add Group",removeGroup:"&times;",textInputPlaceholder:"value"};const Ae={name:"VueQueryBuilder",components:{QueryBuilderGroup:z},props:{rules:Array,labels:{type:Object,default:()=>qe},maxDepth:{type:Number,default:3,validator:function(e){return e>=1}},groupComponent:{type:Object,default:z},ruleComponent:{type:Object,default:(0,E.Z)(ge,[["render",function(e,t,n,l,r,a){return(0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,null,[(0,o.createCommentVNode)(" eslint-disable vue/no-v-html "),(0,o.createElementVNode)("div",J,[(0,o.createElementVNode)("div",Y,[(0,o.createElementVNode)("label",_,(0,o.toDisplayString)(e.rule.label),1),void 0!==e.rule.operands?((0,o.openBlock)(),(0,o.createElementBlock)("div",H,[(0,o.createCommentVNode)(" List of operands (optional) "),(0,o.withDirectives)((0,o.createElementVNode)("select",{"onUpdate:modelValue":t[0]||(t[0]=t=>e.query.operand=t),class:"form-select me-2"},[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.rule.operands,(e=>((0,o.openBlock)(),(0,o.createElementBlock)("option",{key:e},(0,o.toDisplayString)(e),1)))),128))],512),[[o.vModelSelect,e.query.operand]])])):(0,o.createCommentVNode)("v-if",!0),(0,o.createCommentVNode)(" List of operators (e.g. =, !=, >, <) "),void 0!==e.rule.operators&&e.rule.operators.length>1?((0,o.openBlock)(),(0,o.createElementBlock)("div",W,[(0,o.withDirectives)((0,o.createElementVNode)("select",{"onUpdate:modelValue":t[1]||(t[1]=t=>e.query.operator=t),class:"form-select me-2"},[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.rule.operators,(e=>((0,o.openBlock)(),(0,o.createElementBlock)("option",{key:e,value:e},(0,o.toDisplayString)(e),9,K)))),128))],512),[[o.vModelSelect,e.query.operator]])])):(0,o.createCommentVNode)("v-if",!0),(0,o.createCommentVNode)(" Basic text input "),"text"===e.rule.inputType?((0,o.openBlock)(),(0,o.createElementBlock)("div",X,[(0,o.withDirectives)((0,o.createElementVNode)("input",{"onUpdate:modelValue":t[2]||(t[2]=t=>e.query.value=t),class:"form-control",type:"text",placeholder:e.labels.textInputPlaceholder},null,8,ee),[[o.vModelText,e.query.value]])])):(0,o.createCommentVNode)("v-if",!0),(0,o.createCommentVNode)(" Basic number input "),"number"===e.rule.inputType?((0,o.openBlock)(),(0,o.createElementBlock)("div",te,[(0,o.withDirectives)((0,o.createElementVNode)("input",{"onUpdate:modelValue":t[3]||(t[3]=t=>e.query.value=t),class:"form-control",type:"number"},null,512),[[o.vModelText,e.query.value]])])):(0,o.createCommentVNode)("v-if",!0),(0,o.createCommentVNode)(" Datepicker "),"date"===e.rule.inputType?((0,o.openBlock)(),(0,o.createElementBlock)("div",ne,[(0,o.withDirectives)((0,o.createElementVNode)("input",{"onUpdate:modelValue":t[4]||(t[4]=t=>e.query.value=t),class:"form-control",type:"date"},null,512),[[o.vModelText,e.query.value]])])):(0,o.createCommentVNode)("v-if",!0),(0,o.createCommentVNode)(" Custom component input "),e.isCustomComponent?((0,o.openBlock)(),(0,o.createElementBlock)("div",oe,[((0,o.openBlock)(),(0,o.createBlock)((0,o.resolveDynamicComponent)(e.rule.component),{modelValue:e.query.value,"onUpdate:modelValue":t[5]||(t[5]=t=>e.query.value=t),rule:e.rule},null,8,["modelValue","rule"]))])):(0,o.createCommentVNode)("v-if",!0),(0,o.createCommentVNode)(" Checkbox input "),"checkbox"===e.rule.inputType?((0,o.openBlock)(),(0,o.createElementBlock)("div",le,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.rule.choices,(n=>((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:n.value,class:"form-check form-check-inline"},[(0,o.withDirectives)((0,o.createElementVNode)("input",{id:"depth"+e.depth+"-"+e.rule.id+"-"+e.index+"-"+n.value,"onUpdate:modelValue":t[6]||(t[6]=t=>e.query.value=t),type:"checkbox",value:n.value,class:"form-check-input"},null,8,re),[[o.vModelCheckbox,e.query.value]]),(0,o.createElementVNode)("label",{class:"form-check-label",for:"depth"+e.depth+"-"+e.rule.id+"-"+e.index+"-"+n.value},(0,o.toDisplayString)(n.label),9,ae)])))),128))])):(0,o.createCommentVNode)("v-if",!0),(0,o.createCommentVNode)(" Radio input "),"radio"===e.rule.inputType?((0,o.openBlock)(),(0,o.createElementBlock)("div",ie,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.rule.choices,(n=>((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:n.value,class:"form-check form-check-inline"},[(0,o.withDirectives)((0,o.createElementVNode)("input",{id:"depth"+e.depth+"-"+e.rule.id+"-"+e.index+"-"+n.value,"onUpdate:modelValue":t[7]||(t[7]=t=>e.query.value=t),name:"depth"+e.depth+"-"+e.rule.id+"-"+e.index,type:"radio",value:n.value,class:"form-check-input"},null,8,ue),[[o.vModelRadio,e.query.value]]),(0,o.createElementVNode)("label",{class:"form-check-label",for:"depth"+e.depth+"-"+e.rule.id+"-"+e.index+"-"+n.value},(0,o.toDisplayString)(n.label),9,ce)])))),128))])):(0,o.createCommentVNode)("v-if",!0),(0,o.createCommentVNode)(" Select without groups "),"select"!==e.rule.inputType||e.hasOptionGroups?(0,o.createCommentVNode)("v-if",!0):((0,o.openBlock)(),(0,o.createElementBlock)("div",se,[(0,o.withDirectives)((0,o.createElementVNode)("select",{"onUpdate:modelValue":t[8]||(t[8]=t=>e.query.value=t),class:"form-select",multiple:"multi-select"===e.rule.type},[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.selectOptions,(e=>((0,o.openBlock)(),(0,o.createElementBlock)("option",{key:e.value,value:e.value},(0,o.toDisplayString)(e.label),9,pe)))),128))],8,de),[[o.vModelSelect,e.query.value]])])),(0,o.createCommentVNode)(" Select with groups "),"select"===e.rule.inputType&&e.hasOptionGroups?((0,o.openBlock)(),(0,o.createElementBlock)("div",me,[(0,o.withDirectives)((0,o.createElementVNode)("select",{"onUpdate:modelValue":t[9]||(t[9]=t=>e.query.value=t),class:"form-select",multiple:"multi-select"===e.rule.type},[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.selectOptions,((e,t)=>((0,o.openBlock)(),(0,o.createElementBlock)("optgroup",{key:t,label:t},[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e,(e=>((0,o.openBlock)(),(0,o.createElementBlock)("option",{key:e.value,value:e.value},(0,o.toDisplayString)(e.label),9,he)))),128))],8,be)))),128))],8,ve),[[o.vModelSelect,e.query.value]])])):(0,o.createCommentVNode)("v-if",!0),(0,o.createCommentVNode)(" Remove rule button "),(0,o.createElementVNode)("div",ye,[(0,o.createElementVNode)("button",{type:"button",class:"btn-close btn-sm",onClick:t[10]||(t[10]=(...t)=>e.remove&&e.remove(...t))})])])])],2112)}]])},modelValue:Object},data(){return{query:{logicalOperator:this.labels.matchTypes[0].id,children:[]},ruleTypes:{text:{operators:["equals","does not equal","contains","does not contain","is empty","is not empty","begins with","ends with"],inputType:"text",id:"text-field"},numeric:{operators:["=","<>","<","<=",">",">="],inputType:"number",id:"number-field"},custom:{operators:[],inputType:"text",id:"custom-field"},radio:{operators:[],choices:[],inputType:"radio",id:"radio-field"},checkbox:{operators:[],choices:[],inputType:"checkbox",id:"checkbox-field"},select:{operators:[],choices:[],inputType:"select",id:"select-field"},"multi-select":{operators:["="],choices:[],inputType:"select",id:"multi-select-field"}}}},computed:{mergedLabels(){return Object.assign({},qe,this.labels)},mergedRules(){var e=[],t=this;return t.rules.forEach((function(n){void 0!==t.ruleTypes[n.type]?e.push(Object.assign({},t.ruleTypes[n.type],n)):e.push(n)})),e},vqbProps(){return{index:0,depth:1,maxDepth:this.maxDepth,ruleTypes:this.ruleTypes,rules:this.mergedRules,labels:this.mergedLabels,groupComponent:this.groupComponent,ruleComponent:this.ruleComponent}}},mounted(){this.$watch("query",(e=>{JSON.stringify(e)!==JSON.stringify(this.modelValue)&&this.$emit("update:modelValue",C(e))}),{deep:!0}),this.$watch("modelValue",(e=>{JSON.stringify(e)!==JSON.stringify(this.query)&&(this.query=C(e))}),{deep:!0}),console.log(this.modelValue),void 0!==this.modelValue&&(this.query=Object.assign(this.query,this.modelValue))}},Be=(0,E.Z)(Ae,[["render",function(e,t,n,l,r,a){const u=(0,o.resolveComponent)("query-builder-group");return(0,o.openBlock)(),(0,o.createElementBlock)("div",i,[(0,o.renderSlot)(e.$slots,"default",(0,o.normalizeProps)((0,o.guardReactiveProps)(a.vqbProps)),(()=>[(0,o.createVNode)(u,(0,o.mergeProps)(a.vqbProps,{query:r.query,"onUpdate:query":t[0]||(t[0]=e=>r.query=e)}),null,16,["query"])]))])}]]),Ce={class:"ui grid"},xe={class:"fourteen wide column"},Ve={class:"ui horizontal list"},Ee={class:"item"},Ne={class:"ui inline"},De={class:"item"},we=["value"],Re={class:"item"},Se={class:"rule-actions"},Te={class:"two wide right aligned column"},Oe={class:"vbq-group-body content"};n(59668),n(90170),n(62052);const Qe={name:"QueryBuilderGroup",extends:w,data:function(){return{selectedSuiRule:null}},methods:{addNewRule:function(e){this.selectedRule=this.rules.find((t=>t.id===e)),this.selectedRule&&this.addRule()}}};var Ie=n(56418),Fe={};Fe.styleTagTransform=M(),Fe.setAttributes=P(),Fe.insert=F().bind(null,"head"),Fe.domAPI=Q(),Fe.insertStyleElement=U();T()(Ie.Z,Fe);Ie.Z&&Ie.Z.locals&&Ie.Z.locals;const Le=(0,E.Z)(Qe,[["render",function(e,t,n,l,r,a){const i=(0,o.resolveComponent)("SuiDropdownItem"),u=(0,o.resolveComponent)("SuiDropdownMenu"),c=(0,o.resolveComponent)("SuiDropdown"),s=(0,o.resolveComponent)("QueryBuilderChildren");return(0,o.openBlock)(),(0,o.createElementBlock)("div",{class:(0,o.normalizeClass)(["vqb-group ui fluid card",[e.labels.spaceRule,"depth-"+e.depth]])},[(0,o.createElementVNode)("div",{class:(0,o.normalizeClass)(["vbq-group-heading content","depth-"+e.depth])},[(0,o.createElementVNode)("div",Ce,[(0,o.createElementVNode)("div",xe,[(0,o.createElementVNode)("div",Ve,[(0,o.createElementVNode)("div",Ee,[(0,o.createElementVNode)("h4",Ne,(0,o.toDisplayString)(e.labels.matchType),1)]),(0,o.createElementVNode)("div",De,[(0,o.withDirectives)((0,o.createElementVNode)("select",{"onUpdate:modelValue":t[0]||(t[0]=t=>e.query.logicalOperator=t),class:"atk-qb-select"},[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.labels.matchTypes,(e=>((0,o.openBlock)(),(0,o.createElementBlock)("option",{key:e.id,value:e.id},(0,o.toDisplayString)(e.label),9,we)))),128))],512),[[o.vModelSelect,e.query.logicalOperator]])]),(0,o.createElementVNode)("div",Re,[(0,o.createElementVNode)("div",Se,[(0,o.createElementVNode)("div",null,[(0,o.createVNode)(c,{text:e.labels.addRule,class:"ui mini basic button atk-qb-rule-select",selection:""},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(u,{class:"atk-qb-rule-select-menu"},{default:(0,o.withCtx)((()=>[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.rules,(e=>((0,o.openBlock)(),(0,o.createBlock)(i,{key:e.id,text:e.label,onClick:t=>a.addNewRule(e.id)},null,8,["text","onClick"])))),128))])),_:1})])),_:1},8,["text"]),e.depth<e.maxDepth?((0,o.openBlock)(),(0,o.createElementBlock)("button",{key:0,type:"button",class:"ui mini basic button",onClick:t[1]||(t[1]=function(){return e.addGroup&&e.addGroup(...arguments)})},(0,o.toDisplayString)(e.labels.addGroup),1)):(0,o.createCommentVNode)("v-if",!0)])])])])]),(0,o.createElementVNode)("div",Te,[e.depth>1?((0,o.openBlock)(),(0,o.createElementBlock)("i",{key:0,class:(0,o.normalizeClass)(["atk-qb-remove",e.labels.removeGroupClass]),onClick:t[2]||(t[2]=function(){return e.remove&&e.remove(...arguments)})},null,2)):(0,o.createCommentVNode)("v-if",!0)])])],2),(0,o.createElementVNode)("div",Oe,[(0,o.createVNode)(s,(0,o.normalizeProps)((0,o.guardReactiveProps)(e.$props)),null,16)])],2)}]]),Pe=["data-name"],Ge={class:"content"},Ue={class:"ui grid"},Ze={class:"middle aligned row atk-qb"},Me={class:"thirteen wide column"},je={class:"ui horizontal list"},$e={class:"item vqb-rule-label"},ze={class:""},Je={key:0,class:"item vqb-rule-operand"},Ye={key:1,class:"item vqb-rule-operator"},_e=["value"],He={class:"item vqb-rule-input"},We={key:0,class:"ui small input atk-qb"},Ke=["type","placeholder"],Xe={inline:"",class:"atk-qb"},et=["value"],tt={key:3,class:"ui small input atk-qb"},nt={class:"right aligned three wide column"};var ot=n(30901),lt=n(49880);const rt={components:{AtkDatePicker:ot.Z,AtkLookup:lt.Z},extends:ke,inject:["getRootData"],data:function(){return{}},computed:{isInput:function(){return"text"===this.rule.type||"numeric"===this.rule.type},isComponent:function(){return"custom-component"===this.rule.type},isRadio:function(){return"radio"===this.rule.type},isCheckbox:function(){return"checkbox"===this.rule.type||this.isRadio},isSelect:function(){return"select"===this.rule.type}},methods:{canDisplay:function(e){if(this.labels.hiddenOperator.includes(this.query.operator))return!1;switch(e){case"input":return this.isInput;case"checkbox":return this.isCheckbox;case"select":return this.isSelect;case"custom-component":return this.isComponent;default:return!1}}}};var at=n(20520),it={};it.styleTagTransform=M(),it.setAttributes=P(),it.insert=F().bind(null,"head"),it.domAPI=Q(),it.insertStyleElement=U();T()(at.Z,it);at.Z&&at.Z.locals&&at.Z.locals;const ut={name:"QueryBuilder",components:{VueQueryBuilder:Be},props:{groupComponent:{type:Object,default:Le},ruleComponent:{type:Object,default:(0,E.Z)(rt,[["render",function(e,t,n,l,r,a){const i=(0,o.resolveComponent)("SuiCheckbox");return(0,o.openBlock)(),(0,o.createElementBlock)("div",{class:(0,o.normalizeClass)(["vqb-rule ui fluid card",e.labels.spaceRule]),"data-name":e.rule.id},[(0,o.createElementVNode)("div",Ge,[(0,o.createElementVNode)("div",Ue,[(0,o.createElementVNode)("div",Ze,[(0,o.createElementVNode)("div",Me,[(0,o.createElementVNode)("div",je,[(0,o.createElementVNode)("div",$e,[(0,o.createElementVNode)("h5",ze,(0,o.toDisplayString)(e.rule.label),1)]),void 0!==e.rule.operands?((0,o.openBlock)(),(0,o.createElementBlock)("div",Je,[(0,o.withDirectives)((0,o.createElementVNode)("select",{"onUpdate:modelValue":t[0]||(t[0]=t=>e.query.operand=t),class:"atk-qb-select"},[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.rule.operands,(e=>((0,o.openBlock)(),(0,o.createElementBlock)("option",{key:e},(0,o.toDisplayString)(e),1)))),128))],512),[[o.vModelSelect,e.query.operand]])])):(0,o.createCommentVNode)("v-if",!0),void 0!==e.rule.operators&&e.rule.operators.length>1?((0,o.openBlock)(),(0,o.createElementBlock)("div",Ye,[(0,o.withDirectives)((0,o.createElementVNode)("select",{"onUpdate:modelValue":t[1]||(t[1]=t=>e.query.operator=t),class:"atk-qb-select"},[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.rule.operators,(e=>((0,o.openBlock)(),(0,o.createElementBlock)("option",{key:e,value:e},(0,o.toDisplayString)(e),9,_e)))),128))],512),[[o.vModelSelect,e.query.operator]])])):(0,o.createCommentVNode)("v-if",!0),(0,o.createElementVNode)("div",He,[a.canDisplay("input")?((0,o.openBlock)(),(0,o.createElementBlock)("div",We,[(0,o.withDirectives)((0,o.createElementVNode)("input",{"onUpdate:modelValue":t[2]||(t[2]=t=>e.query.value=t),type:e.rule.inputType,placeholder:e.labels.textInputPlaceholder},null,8,Ke),[[o.vModelDynamic,e.query.value]])])):(0,o.createCommentVNode)("v-if",!0),a.canDisplay("checkbox")?((0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,{key:1},[(0,o.createCommentVNode)(" TODO <SuiFormFields "),(0,o.createElementVNode)("div",Xe,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.rule.choices,(n=>((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:n.value,class:"field"},[(0,o.createCommentVNode)(" TODO radio support in https://github.com/nightswinger/vue-fomantic-ui/blob/v0.13.0/src/modules/Checkbox/Checkbox.tsx "),(0,o.createVNode)(i,{modelValue:e.query.value,"onUpdate:modelValue":t[3]||(t[3]=t=>e.query.value=t),label:n.label,radio:a.isRadio,value:n.value},null,8,["modelValue","label","radio","value"])])))),128)),(0,o.createCommentVNode)(" TODO </SuiFormFields> ")])],64)):(0,o.createCommentVNode)("v-if",!0),a.canDisplay("select")?(0,o.withDirectives)(((0,o.openBlock)(),(0,o.createElementBlock)("select",{key:2,"onUpdate:modelValue":t[4]||(t[4]=t=>e.query.value=t),class:"atk-qb-select"},[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.rule.choices,(e=>((0,o.openBlock)(),(0,o.createElementBlock)("option",{key:e.value,value:e.value},(0,o.toDisplayString)(e.label),9,et)))),128))],512)),[[o.vModelSelect,e.query.value]]):(0,o.createCommentVNode)("v-if",!0),a.canDisplay("custom-component")?((0,o.openBlock)(),(0,o.createElementBlock)("div",tt,[((0,o.openBlock)(),(0,o.createBlock)((0,o.resolveDynamicComponent)(e.rule.component),{modelValue:e.query.value,"onUpdate:modelValue":t[5]||(t[5]=t=>e.query.value=t),config:e.rule.componentProps,optionalValue:e.query.option},null,8,["modelValue","config","optionalValue"]))])):(0,o.createCommentVNode)("v-if",!0)])])]),(0,o.createElementVNode)("div",nt,[(0,o.createElementVNode)("i",{class:(0,o.normalizeClass)([e.labels.removeRuleClass,"atk-qb-remove"]),onClick:t[6]||(t[6]=function(){return e.remove&&e.remove(...arguments)})},null,2)])])])])],10,Pe)}]])},data:{type:Object,required:!0}},data:function(){return{query:this.data.query??{},rules:this.data.rules??[],name:this.data.name??"",maxDepth:this.data.maxDepth??1,labels:this.getLabels(this.data.labels),form:this.data.form,debug:this.data.debug??!1}},computed:{valueJson:function(){return JSON.stringify(this.query,null)}},methods:{getLabels:function(e){return e=e||{},{matchType:"Match Type",matchTypes:[{id:"AND",label:"And"},{id:"OR",label:"Or"}],addRule:"Add Rule",removeRuleClass:"small icon times",addGroup:"Add Group",removeGroupClass:"small icon times",textInputPlaceholder:"value",spaceRule:"fitted",hiddenOperator:["is empty","is not empty"],...e}}}},ct=(0,E.Z)(ut,[["render",function(e,t,n,i,u,c){const s=(0,o.resolveComponent)("VueQueryBuilder");return(0,o.openBlock)(),(0,o.createElementBlock)("div",l,[(0,o.createElementVNode)("input",{form:e.form,name:e.name,type:"hidden",value:c.valueJson},null,8,r),(0,o.createVNode)(s,{modelValue:e.query,"onUpdate:modelValue":t[1]||(t[1]=t=>e.query=t),groupComponent:n.groupComponent,ruleComponent:n.ruleComponent,rules:e.rules,maxDepth:e.maxDepth,labels:e.labels},{default:(0,o.withCtx)((l=>[((0,o.openBlock)(),(0,o.createBlock)((0,o.resolveDynamicComponent)(n.groupComponent),(0,o.mergeProps)(l,{query:e.query,"onUpdate:query":t[0]||(t[0]=t=>e.query=t)}),null,16,["query"]))])),_:1},8,["modelValue","groupComponent","ruleComponent","rules","maxDepth","labels"]),e.debug?((0,o.openBlock)(),(0,o.createElementBlock)("pre",a,(0,o.toDisplayString)(JSON.stringify(e.query,null,2)),1)):(0,o.createCommentVNode)("v-if",!0)])}]])}}]);
//# sourceMappingURL=atk-vue-query-builder.min.js.map