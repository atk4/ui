"use strict";(self.webpackChunkatk=self.webpackChunkatk||[]).push([[662],{30901:(e,n,t)=>{t.d(n,{Z:()=>o});const o={name:"atk-date-picker",template:'<flatpickr-picker v-model="date" :config="flatPickr"></flatpickr-picker>',props:["config","value"],data:function(){const{useDefault:e,...n}=this.config;return!e||n.defaultDate||this.value?this.value&&(n.defaultDate=this.value):n.defaultDate=new Date,n.locale||(n.locale=flatpickr.l10ns.default),{flatPickr:n,date:null}},emits:["setDefault"],mounted:function(){!this.value&&this.flatPickr.defaultDate&&(this.flatPickr.defaultDate instanceof Date?this.$emit("setDefault",flatpickr.formatDate(this.config.defaultDate,this.config.dateFormat)):this.$emit("setDefault",this.flatPickr.defaultDate))}}},49880:(e,n,t)=>{t.d(n,{Z:()=>r});var o=t(86157);const r={name:"atk-lookup",template:'\n        <sui-dropdown\n            v-bind="dropdownProps"\n            ref="drop"\n            @update:modelValue="onChange"\n            @filtered="onFiltered"\n            v-model="current"\n            :class="css"\n        ></sui-dropdown>',props:["config","value","optionalValue"],data:function(){const{url:e,reference:n,ui:t,...o}=this.config;return o.selection=!0,{dropdownProps:o,current:this.value,url:e||null,css:[t],isLoading:!1,field:n,query:"",temp:""}},mounted:function(){this.optionalValue&&(this.dropdownProps.options=Array.isArray(this.optionalValue)?this.optionalValue:[this.optionalValue])},emits:["update:modelValue"],methods:{onChange:function(e){this.current=e.value,this.$emit("update:modelValue",this.current)},onFiltered:function(e){e&&(this.isLoading=!0),this.onFiltered.debouncedFx||(this.onFiltered.debouncedFx=o.Z.createDebouncedFx((()=>{this.onFiltered.debouncedFx=null,this.query!==this.temp&&(this.query=this.temp,this.query&&this.fetchItems(this.query))}),250)),this.temp=e,this.onFiltered.debouncedFx(this)},fetchItems:async function(e){try{const n={atkVueLookupQuery:e,atkVueLookupField:this.field},t=await o.Z.apiService.suiFetch(this.url,{method:"get",data:n});t.success&&(this.dropdownProps.options=t.results)}catch(e){console.error(e)}finally{this.isLoading=!1}}}}},33419:(e,n,t)=>{t.d(n,{Z:()=>i});var o=t(51864),r=t.n(o),l=t(60352),a=t.n(l)()(r());a.push([e.id,"\n.atk-qb-select, .ui.form select.atk-qb-select {\n       padding: 2px 6px 4px 4px;\n}\n.atk-qb-remove {\n        cursor: pointer;\n        color: rgba(0, 0, 0, 0.6);\n}\n.ui.selection.dropdown.atk-qb-rule-select {\n        background-color: rgba(0, 0, 0, 0);\n}\n.ui.selection.dropdown .atk-qb-rule-select-menu {\n        width: max-content;\n        z-index: 1000;\n}\n.vbq-group-heading > .ui.grid > .column:not(.row) {\n        padding-bottom: 0.5em;\n        padding-top: 0.5em;\n}\n.vue-query-builder .ui.card.compact {\n        margin-top: 0.5em;\n        margin-bottom: 0.5em;\n}\n.vue-query-builder .ui.card.fitted {\n        margin-top: 0em;\n        margin-bottom: 0em;\n}\n.vue-query-builder .ui.card.padded {\n        margin-top: 1em;\n        margin-bottom: 1em;\n}\n.ui.card > .vbq-group-heading.content {\n        background-color: #f3f4f5;\n}\n.vue-query-builder .vqb-group.depth-1 .vqb-rule,\n    .vue-query-builder .vqb-group.depth-2 {\n        border-left: 2px solid #8bc34a;\n}\n.vue-query-builder .vqb-group.depth-2 .vqb-rule,\n    .vue-query-builder .vqb-group.depth-3 {\n        border-left: 2px solid #00bcd4;\n}\n.vue-query-builder .vqb-group.depth-3 .vqb-rule,\n    .vue-query-builder .vqb-group.depth-4 {\n        border-left: 2px solid #ff5722;\n}\n\n","",{version:3,sources:["webpack://./src/vue-components/query-builder/fomantic-ui-group.component.vue"],names:[],mappings:";AAsGI;OACG,wBAAwB;AAC3B;AACA;QACI,eAAe;QACf,yBAAyB;AAC7B;AACA;QACI,kCAAkC;AACtC;AACA;QACI,kBAAkB;QAClB,aAAa;AACjB;AACA;QACI,qBAAqB;QACrB,kBAAkB;AACtB;AACA;QACI,iBAAiB;QACjB,oBAAoB;AACxB;AACA;QACI,eAAe;QACf,kBAAkB;AACtB;AACA;QACI,eAAe;QACf,kBAAkB;AACtB;AACA;QACI,yBAAyB;AAC7B;AACA;;QAEI,8BAA8B;AAClC;AACA;;QAEI,8BAA8B;AAClC;AACA;;QAEI,8BAA8B;AAClC",sourcesContent:['<template>\n    <div class="vqb-group ui fluid card" :class="[labels.spaceRule, \'depth-\' + depth.toString()]">\n        <div class="vbq-group-heading content" :class="\'depth-\' + depth.toString()">\n            <div class="ui grid">\n                <div class="fourteen wide column">\n                    <div class="ui horizontal list">\n                        <div class="item">\n                            <h4 class="ui inline">{{ labels.matchType }}</h4>\n                        </div>\n                        <div class="item">\n                            <select\n                                    v-model="query.logicalOperator"\n                                    class="atk-qb-select"\n                            >\n                                <option\n                                        v-for="label in labels.matchTypes"\n                                        :key="label.id"\n                                        :value="label.id"\n                                >{{ label.label }}</option>\n                            </select>\n                        </div>\n                        <div class="item">\n                            <div class="rule-actions ">\n                                <div>\n                                    <sui-dropdown\n                                            :text="labels.addRule"\n                                            class="ui mini basic button atk-qb-rule-select"\n                                            selection\n                                    >\n                                        <sui-dropdown-menu class="atk-qb-rule-select-menu">\n                                            <sui-dropdown-item\n                                                @click="addNewRule(rule.id)"\n                                                v-for="rule in rules"\n                                                :key="rule.id" :value="rule"\n                                            >{{ rule.label }}</sui-dropdown-item>\n                                        </sui-dropdown-menu>\n                                    </sui-dropdown>\n                                    <button v-if="depth < maxDepth"\n                                            type="button"\n                                            class="ui mini basic button"\n                                            @click="addGroup"\n                                    >{{ labels.addGroup }}</button>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class="two wide right aligned column">\n                    <i v-if="depth > 1" class="atk-qb-remove" :class="labels.removeGroupClass" @click="remove"></i>\n                </div>\n            </div>\n        </div>\n        <div class="vbq-group-body content">\n            <query-builder-children v-bind="$props" />\n        </div>\n    </div>\n</template>\n\n<script>\nimport QueryBuilderGroup from \'vue-query-builder/dist/group/QueryBuilderGroup.umd\';\nimport QueryBuilderRule from \'./fomantic-ui-rule.component.vue\';\n\nexport default {\n    name: \'QueryBuilderGroup\',\n    components: {\n        QueryBuilderRule: QueryBuilderRule,\n    },\n    data: function () {\n        return {\n            selectedSuiRule: null,\n        };\n    },\n    methods: {\n        /**\n         * Add a new rule via Dropdown item.\n         */\n        addNewRule: function (ruleId) {\n            this.selectedRule = this.rules.filter((rule) => rule.id === ruleId)[0]; // eslint-disable-line prefer-destructuring\n            if (this.selectedRule) {\n                this.addRule();\n            }\n        },\n    },\n    computed: {\n        /**\n         * Map rules to SUI Dropdown.\n         *\n         * @returns {*}\n         */\n        dropdownRules: function () {\n            return this.rules.map((rule) => ({\n                key: rule.id,\n                text: rule.label,\n                value: rule.id,\n            }));\n        },\n    },\n    extends: QueryBuilderGroup,\n};\n<\/script>\n\n<style>\n    .atk-qb-select, .ui.form select.atk-qb-select {\n       padding: 2px 6px 4px 4px;\n    }\n    .atk-qb-remove {\n        cursor: pointer;\n        color: rgba(0, 0, 0, 0.6);\n    }\n    .ui.selection.dropdown.atk-qb-rule-select {\n        background-color: rgba(0, 0, 0, 0);\n    }\n    .ui.selection.dropdown .atk-qb-rule-select-menu {\n        width: max-content;\n        z-index: 1000;\n    }\n    .vbq-group-heading > .ui.grid > .column:not(.row) {\n        padding-bottom: 0.5em;\n        padding-top: 0.5em;\n    }\n    .vue-query-builder .ui.card.compact {\n        margin-top: 0.5em;\n        margin-bottom: 0.5em;\n    }\n    .vue-query-builder .ui.card.fitted {\n        margin-top: 0em;\n        margin-bottom: 0em;\n    }\n    .vue-query-builder .ui.card.padded {\n        margin-top: 1em;\n        margin-bottom: 1em;\n    }\n    .ui.card > .vbq-group-heading.content {\n        background-color: #f3f4f5;\n    }\n    .vue-query-builder .vqb-group.depth-1 .vqb-rule,\n    .vue-query-builder .vqb-group.depth-2 {\n        border-left: 2px solid #8bc34a;\n    }\n    .vue-query-builder .vqb-group.depth-2 .vqb-rule,\n    .vue-query-builder .vqb-group.depth-3 {\n        border-left: 2px solid #00bcd4;\n    }\n    .vue-query-builder .vqb-group.depth-3 .vqb-rule,\n    .vue-query-builder .vqb-group.depth-4 {\n        border-left: 2px solid #ff5722;\n    }\n\n</style>\n'],sourceRoot:""}]);const i=a},11442:(e,n,t)=>{t.d(n,{Z:()=>i});var o=t(51864),r=t.n(o),l=t(60352),a=t.n(l)()(r());a.push([e.id,"\n.ui.input.atk-qb > input, .ui.input.atk-qb span > input, .ui.form .input.atk-qb {\n        padding: 6px;\n}\n.ui.grid > .row.atk-qb {\n        padding: 8px 0px;\n        min-height: 62px;\n}\n.inline.fields.atk-qb, .ui.form .inline.fields.atk-qb {\n        margin: 0px;\n}\n.atk-qb-date-picker {\n        border: 1px solid rgba(34, 36, 38, 0.15);\n}\ninput[type=input].atk-qb-date-picker:focus {\n        border-color: #85b7d9;\n}\n.ui.card.vqb-rule > .content {\n        padding-bottom: 0.5em;\n        padding-top: 0.5em;\n        background-color: #f3f4f5;\n}\n","",{version:3,sources:["webpack://./src/vue-components/query-builder/fomantic-ui-rule.component.vue"],names:[],mappings:";AA8II;QACI,YAAY;AAChB;AACA;QACI,gBAAgB;QAChB,gBAAgB;AACpB;AACA;QACI,WAAW;AACf;AACA;QACI,wCAAwC;AAC5C;AACA;QACI,qBAAqB;AACzB;AACA;QACI,qBAAqB;QACrB,kBAAkB;QAClB,yBAAyB;AAC7B",sourcesContent:['<template>\n    <div class="vqb-rule ui fluid card" :class="labels.spaceRule" :data-name="rule.id">\n        <div class="content">\n            <div class="ui grid">\n                <div class="middle aligned row atk-qb">\n                    <div class="thirteen wide column">\n                        <div class="ui horizontal list">\n                            <div class="item vqb-rule-label">\n                                <h5 class>{{ rule.label }}</h5>\n                            </div>\n                            <div class="item vqb-rule-operand" v-if="rule.operands !== undefined">\n                                \x3c!-- List of operands (optional) --\x3e\n                                <select v-model="query.operand" class="atk-qb-select">\n                                    <option v-for="operand in rule.operands" :key="operand">{{ operand }}</option>\n                                </select>\n                            </div>\n                            <div class="item vqb-rule-operator"\n                                 v-if="rule.operators !== undefined && rule.operators.length > 1">\n                                \x3c!-- List of operators (e.g. =, !=, >, <) --\x3e\n                                <select v-model="query.operator" class="atk-qb-select">\n                                    <option v-for="operator in rule.operators" :key="operator" :value="operator">\n                                        {{operator}}\n                                    </option>\n                                </select>\n                            </div>\n                            <div class="item vqb-rule-input">\n                                \x3c!-- text input --\x3e\n                                <template v-if="canDisplay(\'input\')">\n                                    <div class="ui small input atk-qb" >\n                                        <input\n                                                v-model="query.value"\n                                                :type="rule.inputType"\n                                                :placeholder="labels.textInputPlaceholder"\n                                        >\n                                    </div>\n                                </template>\n                                \x3c!-- Checkbox or Radio input --\x3e\n                                <template v-if="canDisplay(\'checkbox\')">\n                                    <sui-form-fields inline class="atk-qb">\n                                        <div class="field" v-for="choice in rule.choices" :key="choice.value">\n                                            <sui-checkbox\n                                                :label="choice.label"\n                                                :radio="isRadio"\n                                                :value="choice.value"\n                                                v-model="query.value">\n                                            </sui-checkbox>\n                                        </div>\n                                    </sui-form-fields>\n                                </template>\n                                \x3c!-- Select input --\x3e\n                                <template v-if="canDisplay(\'select\')">\n                                    <select v-model="query.value" class="atk-qb-select">\n                                        <option\n                                            v-for="choice in rule.choices"\n                                            :key="choice.value"\n                                            :value="choice.value">\n                                            {{choice.label}}\n                                        </option>\n                                    </select>\n                                </template>\n                              \x3c!-- Custom component --\x3e\n                              <template v-if="canDisplay(\'custom-component\')">\n                                <div class="ui small input atk-qb">\n                                  <component :is="rule.component"\n                                      :config="rule.componentProps"\n                                      :value="query.value"\n                                      :optionalValue="query.option"\n                                      @onChange="onChange"\n                                      @setDefault="onChange">\n                                  </component>\n                                </div>\n                              </template>\n                            </div>\n                        </div>\n                    </div>\n                    <div class="right aligned three wide column">\n                        \x3c!-- Remove rule button --\x3e\n                        <i :class="labels.removeRuleClass" @click="remove" class="atk-qb-remove"></i>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport QueryBuilderRule from \'vue-query-builder/dist/rule/QueryBuilderRule.umd\';\nimport AtkDatePicker from \'../share/atk-date-picker\';\nimport AtkLookup from \'../share/atk-lookup\';\n\nexport default {\n    extends: QueryBuilderRule,\n    components: { \'atk-date-picker\': AtkDatePicker, \'atk-lookup\': AtkLookup },\n    data: function () {\n        return {};\n    },\n    inject: [\'getRootData\'],\n    computed: {\n        isInput: function () {\n            return this.rule.type === \'text\' || this.rule.type === \'numeric\';\n        },\n        isComponent: function () {\n            return this.rule.type === \'custom-component\';\n        },\n        isRadio: function () {\n            return this.rule.type === \'radio\';\n        },\n        isCheckbox: function () {\n            return this.rule.type === \'checkbox\' || this.isRadio;\n        },\n        isSelect: function () {\n            return this.rule.type === \'select\';\n        },\n    },\n    methods: {\n        /**\n         * Check if an input can be display in regards to:\n         * it\'s operator and then it\'s type.\n         *\n         * @returns {boolean|*}\n         */\n        canDisplay: function (type) {\n            if (this.labels.hiddenOperator.includes(this.query.operator)) {\n                return false;\n            }\n\n            switch (type) {\n                case \'input\': return this.isInput;\n                case \'checkbox\': return this.isCheckbox;\n                case \'select\': return this.isSelect;\n                case \'custom-component\': return this.isComponent;\n                default: return false;\n            }\n        },\n        onChange: function (value) {\n            this.query.value = value;\n        },\n    },\n};\n<\/script>\n\n<style>\n    .ui.input.atk-qb > input, .ui.input.atk-qb span > input, .ui.form .input.atk-qb {\n        padding: 6px;\n    }\n    .ui.grid > .row.atk-qb {\n        padding: 8px 0px;\n        min-height: 62px;\n    }\n    .inline.fields.atk-qb, .ui.form .inline.fields.atk-qb {\n        margin: 0px;\n    }\n    .atk-qb-date-picker {\n        border: 1px solid rgba(34, 36, 38, 0.15);\n    }\n    input[type=input].atk-qb-date-picker:focus {\n        border-color: #85b7d9;\n    }\n    .ui.card.vqb-rule > .content {\n        padding-bottom: 0.5em;\n        padding-top: 0.5em;\n        background-color: #f3f4f5;\n    }\n</style>\n'],sourceRoot:""}]);const i=a},60352:e=>{e.exports=function(e){var n=[];return n.toString=function(){return this.map((function(n){var t="",o=void 0!==n[5];return n[4]&&(t+="@supports (".concat(n[4],") {")),n[2]&&(t+="@media ".concat(n[2]," {")),o&&(t+="@layer".concat(n[5].length>0?" ".concat(n[5]):""," {")),t+=e(n),o&&(t+="}"),n[2]&&(t+="}"),n[4]&&(t+="}"),t})).join("")},n.i=function(e,t,o,r,l){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(o)for(var i=0;i<this.length;i++){var u=this[i][0];null!=u&&(a[u]=!0)}for(var s=0;s<e.length;s++){var c=[].concat(e[s]);o&&a[c[0]]||(void 0!==l&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=l),t&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=t):c[2]=t),r&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=r):c[4]="".concat(r)),n.push(c))}},n}},51864:e=>{e.exports=function(e){var n=e[1],t=e[3];if(!t)return n;if("function"==typeof btoa){var o=btoa(unescape(encodeURIComponent(JSON.stringify(t)))),r="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(o),l="/*# ".concat(r," */"),a=t.sources.map((function(e){return"/*# sourceURL=".concat(t.sourceRoot||"").concat(e," */")}));return[n].concat(a).concat([l]).join("\n")}return[n].join("\n")}},75701:e=>{var n=[];function t(e){for(var t=-1,o=0;o<n.length;o++)if(n[o].identifier===e){t=o;break}return t}function o(e,o){for(var l={},a=[],i=0;i<e.length;i++){var u=e[i],s=o.base?u[0]+o.base:u[0],c=l[s]||0,d="".concat(s," ").concat(c);l[s]=c+1;var p=t(d),m={css:u[1],media:u[2],sourceMap:u[3],supports:u[4],layer:u[5]};if(-1!==p)n[p].references++,n[p].updater(m);else{var v=r(m,o);o.byIndex=i,n.splice(i,0,{identifier:d,updater:v,references:1})}a.push(d)}return a}function r(e,n){var t=n.domAPI(n);t.update(e);return function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap&&n.supports===e.supports&&n.layer===e.layer)return;t.update(e=n)}else t.remove()}}e.exports=function(e,r){var l=o(e=e||[],r=r||{});return function(e){e=e||[];for(var a=0;a<l.length;a++){var i=t(l[a]);n[i].references--}for(var u=o(e,r),s=0;s<l.length;s++){var c=t(l[s]);0===n[c].references&&(n[c].updater(),n.splice(c,1))}l=u}}},6080:e=>{var n={};e.exports=function(e,t){var o=function(e){if(void 0===n[e]){var t=document.querySelector(e);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}n[e]=t}return n[e]}(e);if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(t)}},87182:e=>{e.exports=function(e){var n=document.createElement("style");return e.setAttributes(n,e.attributes),e.insert(n,e.options),n}},56850:(e,n,t)=>{e.exports=function(e){var n=t.nc;n&&e.setAttribute("nonce",n)}},8236:e=>{e.exports=function(e){var n=e.insertStyleElement(e);return{update:function(t){!function(e,n,t){var o="";t.supports&&(o+="@supports (".concat(t.supports,") {")),t.media&&(o+="@media ".concat(t.media," {"));var r=void 0!==t.layer;r&&(o+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),o+=t.css,r&&(o+="}"),t.media&&(o+="}"),t.supports&&(o+="}");var l=t.sourceMap;l&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(l))))," */")),n.styleTagTransform(o,e,n.options)}(n,e,t)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)}}}},39213:e=>{e.exports=function(e,n){if(n.styleSheet)n.styleSheet.cssText=e;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(e))}}},29544:(e,n,t)=>{t.r(n),t.d(n,{default:()=>ce});var o=t(763);const r={class:""},l=["form","name","value"],a={key:0};var i=t(55653),u=t.n(i);const s={class:"ui grid"},c={class:"fourteen wide column"},d={class:"ui horizontal list"},p={class:"item"},m={class:"ui inline"},v={class:"item"},h=["value"],b={class:"item"},f={class:"rule-actions"},k={class:"two wide right aligned column"},y={class:"vbq-group-body content"};t(67242),t(90170),t(42359),t(74659),t(26576);var A=t(76042),g=t.n(A);const q=["data-name"],C={class:"content"},B={class:"ui grid"},x={class:"middle aligned row atk-qb"},V={class:"thirteen wide column"},w={class:"ui horizontal list"},N={class:"item vqb-rule-label"},D={class:""},E={key:0,class:"item vqb-rule-operand"},R={key:1,class:"item vqb-rule-operator"},Q=["value"],I={class:"item vqb-rule-input"},S={key:0,class:"ui small input atk-qb"},L=["type","placeholder"],F=["value"],P={key:3,class:"ui small input atk-qb"},T={class:"right aligned three wide column"};var Z=t(71790),G=t.n(Z),O=t(30901),M=t(49880);const z={extends:G(),components:{"atk-date-picker":O.Z,"atk-lookup":M.Z},data:function(){return{}},inject:["getRootData"],computed:{isInput:function(){return"text"===this.rule.type||"numeric"===this.rule.type},isComponent:function(){return"custom-component"===this.rule.type},isRadio:function(){return"radio"===this.rule.type},isCheckbox:function(){return"checkbox"===this.rule.type||this.isRadio},isSelect:function(){return"select"===this.rule.type}},methods:{canDisplay:function(e){if(this.labels.hiddenOperator.includes(this.query.operator))return!1;switch(e){case"input":return this.isInput;case"checkbox":return this.isCheckbox;case"select":return this.isSelect;case"custom-component":return this.isComponent;default:return!1}},onChange:function(e){this.query.value=e}}};var U=t(75701),j=t.n(U),$=t(8236),_=t.n($),J=t(6080),H=t.n(J),W=t(56850),Y=t.n(W),K=t(87182),X=t.n(K),ee=t(39213),ne=t.n(ee),te=t(11442),oe={};oe.styleTagTransform=ne(),oe.setAttributes=Y(),oe.insert=H().bind(null,"head"),oe.domAPI=_(),oe.insertStyleElement=X();j()(te.Z,oe);te.Z&&te.Z.locals&&te.Z.locals;var re=t(51419);const le={name:"QueryBuilderGroup",components:{QueryBuilderRule:(0,re.Z)(z,[["render",function(e,n,t,r,l,a){const i=(0,o.resolveComponent)("sui-checkbox"),u=(0,o.resolveComponent)("sui-form-fields");return(0,o.openBlock)(),(0,o.createElementBlock)("div",{class:(0,o.normalizeClass)(["vqb-rule ui fluid card",e.labels.spaceRule]),"data-name":e.rule.id},[(0,o.createElementVNode)("div",C,[(0,o.createElementVNode)("div",B,[(0,o.createElementVNode)("div",x,[(0,o.createElementVNode)("div",V,[(0,o.createElementVNode)("div",w,[(0,o.createElementVNode)("div",N,[(0,o.createElementVNode)("h5",D,(0,o.toDisplayString)(e.rule.label),1)]),void 0!==e.rule.operands?((0,o.openBlock)(),(0,o.createElementBlock)("div",E,[(0,o.createCommentVNode)(" List of operands (optional) "),(0,o.withDirectives)((0,o.createElementVNode)("select",{"onUpdate:modelValue":n[0]||(n[0]=n=>e.query.operand=n),class:"atk-qb-select"},[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.rule.operands,(e=>((0,o.openBlock)(),(0,o.createElementBlock)("option",{key:e},(0,o.toDisplayString)(e),1)))),128))],512),[[o.vModelSelect,e.query.operand]])])):(0,o.createCommentVNode)("v-if",!0),void 0!==e.rule.operators&&e.rule.operators.length>1?((0,o.openBlock)(),(0,o.createElementBlock)("div",R,[(0,o.createCommentVNode)(" List of operators (e.g. =, !=, >, <) "),(0,o.withDirectives)((0,o.createElementVNode)("select",{"onUpdate:modelValue":n[1]||(n[1]=n=>e.query.operator=n),class:"atk-qb-select"},[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.rule.operators,(e=>((0,o.openBlock)(),(0,o.createElementBlock)("option",{key:e,value:e},(0,o.toDisplayString)(e),9,Q)))),128))],512),[[o.vModelSelect,e.query.operator]])])):(0,o.createCommentVNode)("v-if",!0),(0,o.createElementVNode)("div",I,[(0,o.createCommentVNode)(" text input "),a.canDisplay("input")?((0,o.openBlock)(),(0,o.createElementBlock)("div",S,[(0,o.withDirectives)((0,o.createElementVNode)("input",{"onUpdate:modelValue":n[2]||(n[2]=n=>e.query.value=n),type:e.rule.inputType,placeholder:e.labels.textInputPlaceholder},null,8,L),[[o.vModelDynamic,e.query.value]])])):(0,o.createCommentVNode)("v-if",!0),(0,o.createCommentVNode)(" Checkbox or Radio input "),a.canDisplay("checkbox")?((0,o.openBlock)(),(0,o.createBlock)(u,{key:1,inline:"",class:"atk-qb"},{default:(0,o.withCtx)((()=>[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.rule.choices,(t=>((0,o.openBlock)(),(0,o.createElementBlock)("div",{class:"field",key:t.value},[(0,o.createVNode)(i,{label:t.label,radio:a.isRadio,value:t.value,modelValue:e.query.value,"onUpdate:modelValue":n[3]||(n[3]=n=>e.query.value=n)},null,8,["label","radio","value","modelValue"])])))),128))])),_:1})):(0,o.createCommentVNode)("v-if",!0),(0,o.createCommentVNode)(" Select input "),a.canDisplay("select")?(0,o.withDirectives)(((0,o.openBlock)(),(0,o.createElementBlock)("select",{key:2,"onUpdate:modelValue":n[4]||(n[4]=n=>e.query.value=n),class:"atk-qb-select"},[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.rule.choices,(e=>((0,o.openBlock)(),(0,o.createElementBlock)("option",{key:e.value,value:e.value},(0,o.toDisplayString)(e.label),9,F)))),128))],512)),[[o.vModelSelect,e.query.value]]):(0,o.createCommentVNode)("v-if",!0),(0,o.createCommentVNode)(" Custom component "),a.canDisplay("custom-component")?((0,o.openBlock)(),(0,o.createElementBlock)("div",P,[((0,o.openBlock)(),(0,o.createBlock)((0,o.resolveDynamicComponent)(e.rule.component),{config:e.rule.componentProps,value:e.query.value,optionalValue:e.query.option,onOnChange:a.onChange,onSetDefault:a.onChange},null,40,["config","value","optionalValue","onOnChange","onSetDefault"]))])):(0,o.createCommentVNode)("v-if",!0)])])]),(0,o.createElementVNode)("div",T,[(0,o.createCommentVNode)(" Remove rule button "),(0,o.createElementVNode)("i",{class:(0,o.normalizeClass)([e.labels.removeRuleClass,"atk-qb-remove"]),onClick:n[5]||(n[5]=function(){return e.remove&&e.remove(...arguments)})},null,2)])])])])],10,q)}]])},data:function(){return{selectedSuiRule:null}},methods:{addNewRule:function(e){this.selectedRule=this.rules.filter((n=>n.id===e))[0],this.selectedRule&&this.addRule()}},computed:{dropdownRules:function(){return this.rules.map((e=>({key:e.id,text:e.label,value:e.id})))}},extends:g()};var ae=t(33419),ie={};ie.styleTagTransform=ne(),ie.setAttributes=Y(),ie.insert=H().bind(null,"head"),ie.domAPI=_(),ie.insertStyleElement=X();j()(ae.Z,ie);ae.Z&&ae.Z.locals&&ae.Z.locals;const ue=(0,re.Z)(le,[["render",function(e,n,t,r,l,a){const i=(0,o.resolveComponent)("sui-dropdown-item"),u=(0,o.resolveComponent)("sui-dropdown-menu"),A=(0,o.resolveComponent)("sui-dropdown"),g=(0,o.resolveComponent)("query-builder-children");return(0,o.openBlock)(),(0,o.createElementBlock)("div",{class:(0,o.normalizeClass)(["vqb-group ui fluid card",[e.labels.spaceRule,"depth-"+e.depth.toString()]])},[(0,o.createElementVNode)("div",{class:(0,o.normalizeClass)(["vbq-group-heading content","depth-"+e.depth.toString()])},[(0,o.createElementVNode)("div",s,[(0,o.createElementVNode)("div",c,[(0,o.createElementVNode)("div",d,[(0,o.createElementVNode)("div",p,[(0,o.createElementVNode)("h4",m,(0,o.toDisplayString)(e.labels.matchType),1)]),(0,o.createElementVNode)("div",v,[(0,o.withDirectives)((0,o.createElementVNode)("select",{"onUpdate:modelValue":n[0]||(n[0]=n=>e.query.logicalOperator=n),class:"atk-qb-select"},[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.labels.matchTypes,(e=>((0,o.openBlock)(),(0,o.createElementBlock)("option",{key:e.id,value:e.id},(0,o.toDisplayString)(e.label),9,h)))),128))],512),[[o.vModelSelect,e.query.logicalOperator]])]),(0,o.createElementVNode)("div",b,[(0,o.createElementVNode)("div",f,[(0,o.createElementVNode)("div",null,[(0,o.createVNode)(A,{text:e.labels.addRule,class:"ui mini basic button atk-qb-rule-select",selection:""},{default:(0,o.withCtx)((()=>[(0,o.createVNode)(u,{class:"atk-qb-rule-select-menu"},{default:(0,o.withCtx)((()=>[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.rules,(e=>((0,o.openBlock)(),(0,o.createBlock)(i,{onClick:n=>a.addNewRule(e.id),key:e.id,value:e},{default:(0,o.withCtx)((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.label),1)])),_:2},1032,["onClick","value"])))),128))])),_:1})])),_:1},8,["text"]),e.depth<e.maxDepth?((0,o.openBlock)(),(0,o.createElementBlock)("button",{key:0,type:"button",class:"ui mini basic button",onClick:n[1]||(n[1]=function(){return e.addGroup&&e.addGroup(...arguments)})},(0,o.toDisplayString)(e.labels.addGroup),1)):(0,o.createCommentVNode)("v-if",!0)])])])])]),(0,o.createElementVNode)("div",k,[e.depth>1?((0,o.openBlock)(),(0,o.createElementBlock)("i",{key:0,class:(0,o.normalizeClass)(["atk-qb-remove",e.labels.removeGroupClass]),onClick:n[2]||(n[2]=function(){return e.remove&&e.remove(...arguments)})},null,2)):(0,o.createCommentVNode)("v-if",!0)])])],2),(0,o.createElementVNode)("div",y,[(0,o.createVNode)(g,(0,o.normalizeProps)((0,o.guardReactiveProps)(e.$props)),null,16)])],2)}]]),se={name:"query-builder",components:{VueQueryBuilder:u(),QueryBuilderGroup:ue},props:{data:Object},data:function(){return{query:this.data.query?this.data.query:{},rules:this.data.rules?this.data.rules:[],name:this.data.name?this.data.name:"",maxDepth:this.data.maxDepth?this.data.maxDepth<=10?this.data.maxDepth:10:1,labels:this.getLabels(this.data.labels),form:this.data.form,debug:!!this.data.debug&&this.data.debug}},computed:{value:function(){return JSON.stringify(this.query,null)}},methods:{getLabels:function(e){return e=e||{},{matchType:"Match Type",matchTypes:[{id:"AND",label:"And"},{id:"OR",label:"Or"}],addRule:"Add Rule",removeRuleClass:"small icon times",addGroup:"Add Group",removeGroupClass:"small icon times",textInputPlaceholder:"value",spaceRule:"fitted",hiddenOperator:["is empty","is not empty"],...e}}}},ce=(0,re.Z)(se,[["render",function(e,n,t,i,u,s){const c=(0,o.resolveComponent)("query-builder-group"),d=(0,o.resolveComponent)("vue-query-builder");return(0,o.openBlock)(),(0,o.createElementBlock)("div",r,[(0,o.createElementVNode)("input",{form:e.form,name:e.name,type:"hidden",value:s.value},null,8,l),(0,o.createVNode)(d,{rules:e.rules,modelValue:e.query,"onUpdate:modelValue":n[0]||(n[0]=n=>e.query=n),maxDepth:e.maxDepth,labels:e.labels},{default:(0,o.withCtx)((n=>[(0,o.createVNode)(c,(0,o.mergeProps)(n,{query:e.query}),null,16,["query"])])),_:1},8,["rules","modelValue","maxDepth","labels"]),e.debug?((0,o.openBlock)(),(0,o.createElementBlock)("pre",a,(0,o.toDisplayString)(JSON.stringify(this.query,null,2)),1)):(0,o.createCommentVNode)("v-if",!0)])}]])}}]);
//# sourceMappingURL=atk-vue-query-builder.min.js.map