(self.webpackChunkatk=self.webpackChunkatk||[]).push([[590],{7028:(t,e,s)=>{"use strict";s.r(e),s.d(e,{default:()=>u});var n=s(3609),i=s.n(n);const u={name:"atk-item-search",template:'<div class="atk-item-search" :class="inputCss">\n      <input class="ui" \n        v-model="query" \n        type="text" placeholder="Search..." \n        @keyup="onKeyup" \n        @keyup.esc="onEscape" \n        name="atk-vue-search"/>\n        <i class="atk-search-icon" :class="classIcon"></i><span style="width:12px;cursor:pointer" @click="onClear"></span>\n    </div>\n',props:{context:String,url:String,q:String,reload:String,queryArg:String,options:{type:Object,default:()=>({inputTimeOut:350,inputCss:""})}},data:function(){return{query:this.q,temp:this.q,isActive:!1,extraQuery:null,inputCss:this.options.inputCss}},computed:{classIcon:function(){return{"search icon":null===this.query||""===this.query,"remove icon":null!==this.query}}},methods:{onKeyup:function(){atk.debounce((t=>{this.query!==this.temp&&(""===this.query&&(this.query=null),this.sendQuery(),this.temp=this.query)}),this.options.inputTimeOut).call(this)},onEscape:function(){null!==this.query&&(this.query=null,this.temp=null,this.sendQuery())},onEnter:function(){null!==this.query&&(this.query=null,this.temp=null,this.sendQuery())},onClear:function(){this.query&&(this.query=null,this.temp=null,this.sendQuery())},sendQuery:function(){const t=this,e=i().extend({},this.extraQuery,{__atk_reload:this.reload,[this.queryArg]:this.query}),s=i()("#"+this.reload);this.isActive=!0,s.api({on:"now",url:this.url,data:e,method:"GET",stateContext:this.context?i()(this.context):i()(this.$el),onComplete:function(e,s){t.isActive=!1}})}}}}}]);